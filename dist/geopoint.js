!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).geopoint=t()}(function(){return function o(r,i,a){function d(e,t){if(!i[e]){if(!r[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=i[e]={exports:{}},r[e][0].call(n.exports,function(t){return d(r[e][1][t]||t)},n,n.exports,o,r,i,a)}return i[e].exports}for(var u="function"==typeof require&&require,t=0;t<a.length;t++)d(a[t]);return d}({geopoint:[function(t,r,e){!function(){var e=Object.prototype.toString,n=Math.PI/180,o=180/Math.PI,d=6371.01,u=3958.762079,s=Math.PI/2,f=-s,h=Math.PI,l=-h,c=2*Math.PI;function p(t){return"[object Number]"===e.call(t)&&t===+t}function w(t,e,n){if(!p(t))throw new Error("Invalid latitude");if(!p(e))throw new Error("Invalid longitude");if(!0===n?(this._degLat=w.radiansToDegrees(t),this._degLon=w.radiansToDegrees(e),this._radLat=t,this._radLon=e):(this._degLat=t,this._degLon=e,this._radLat=w.degreesToRadians(t),this._radLon=w.degreesToRadians(e)),this._radLat<f||this._radLat>s)throw new Error("Latitude out of bounds");if(this._radLon<l||this._radLon>h)throw new Error("Longitude out of bounds")}w.prototype.latitude=function(t){return!0===t?this._radLat:this._degLat},w.prototype.longitude=function(t){return!0===t?this._radLon:this._degLon},w.prototype.distanceTo=function(t,e){var n,o,r;if(t instanceof w)return e=!0===e?d:u,n=this.latitude(!0),o=t.latitude(!0),r=this.longitude(!0),t=t.longitude(!0),Math.acos(Math.sin(n)*Math.sin(o)+Math.cos(n)*Math.cos(o)*Math.cos(r-t))*e;throw new Error("Invalid GeoPoint")},w.prototype.boundingCoordinates=function(t,e,n){if(!p(t)||t<=0)throw new Error("Invalid distance");!0!==e&&!1!==e||(n=e,e=null),(!p(e)||e<=0)&&(e=!0===n?d:u);var o,r,n=this.latitude(!0),i=this.longitude(!0),t=t/e,e=n-t,a=n+t;return f<e&&a<s?((o=i-(t=Math.asin(Math.sin(t)/Math.cos(n))))<l&&(o+=c),h<(r=i+t)&&(r-=c)):(e=Math.max(e,f),a=Math.min(a,s),o=l,r=h),[new w(e,o,!0),new w(a,r,!0)]},w.degreesToRadians=function(t){if(p(t))return t*n;throw new Error("Invalid degree value")},w.radiansToDegrees=function(t){if(p(t))return t*o;throw new Error("Invalid radian value")},w.milesToKilometers=function(t){if(p(t))return 1.6093439999999999*t;throw new Error("Invalid mile value")},w.kilometersToMiles=function(t){if(p(t))return.621371192237334*t;throw new Error("Invalid kilometer value")},void 0!==r&&void 0!==r.exports?r.exports=w:this.GeoPoint=w}.call(this)},{}]},{},[])("geopoint")});

var geopoint = module.exports;
