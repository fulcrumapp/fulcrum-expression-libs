!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).turfBuffer=t()}(function(){return function i(r,o,s){function a(e,t){if(!o[e]){if(!r[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=o[e]={exports:{}},r[e][0].call(n.exports,function(t){return a(r[e][1][t]||t)},n,n.exports,i,r,o,s)}return o[e].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("@turf/meta");function r(t){var e=[1/0,1/0,-1/0,-1/0];return i.coordEach(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}n.default=r.default=r},{"@turf/meta":4}],2:[function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=(Object.defineProperty(n,"__esModule",{value:!0}),i(t("@turf/bbox"))),o=t("@turf/helpers");n.default=function(t,e){void 0===e&&(e={});var n=((t=r.default(t))[0]+t[2])/2,t=(t[1]+t[3])/2;return o.point([n,t],e.properties,e)}},{"@turf/bbox":1,"@turf/helpers":3}],3:[function(t,e,i){"use strict";function a(t,e,n){var i={type:"Feature"};return 0!==(n=void 0===n?{}:n).id&&!n.id||(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=e||{},i.geometry=t,i}function r(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(g(t[0])&&g(t[1]))return a({type:"Point",coordinates:t},e,n);throw new Error("coordinates must contain numbers")}function o(t,e,n){void 0===n&&(n={});for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}return a({type:"Polygon",coordinates:t},e,n)}function s(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return a({type:"LineString",coordinates:t},e,n)}function u(t,e){var n={type:"FeatureCollection"};return(e=void 0===e?{}:e).id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function c(t,e,n){return a({type:"MultiLineString",coordinates:t},e,n=void 0===n?{}:n)}function l(t,e,n){return a({type:"MultiPoint",coordinates:t},e,n=void 0===n?{}:n)}function p(t,e,n){return a({type:"MultiPolygon",coordinates:t},e,n=void 0===n?{}:n)}function h(t,e){var n=i.factors[e=void 0===e?"kilometers":e];if(n)return t*n;throw new Error(e+" units is invalid")}function f(t,e){var n=i.factors[e=void 0===e?"kilometers":e];if(n)return t/n;throw new Error(e+" units is invalid")}function n(t){return 180*(t%(2*Math.PI))/Math.PI}function g(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.earthRadius=6371008.8,i.factors={centimeters:100*i.earthRadius,centimetres:100*i.earthRadius,degrees:i.earthRadius/111325,feet:3.28084*i.earthRadius,inches:39.37*i.earthRadius,kilometers:i.earthRadius/1e3,kilometres:i.earthRadius/1e3,meters:i.earthRadius,metres:i.earthRadius,miles:i.earthRadius/1609.344,millimeters:1e3*i.earthRadius,millimetres:1e3*i.earthRadius,nauticalmiles:i.earthRadius/1852,radians:1,yards:1.0936*i.earthRadius},i.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/i.earthRadius,yards:1.0936133},i.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},i.feature=a,i.geometry=function(t,e,n){switch(void 0===n&&(n={}),t){case"Point":return r(e).geometry;case"LineString":return s(e).geometry;case"Polygon":return o(e).geometry;case"MultiPoint":return l(e).geometry;case"MultiLineString":return c(e).geometry;case"MultiPolygon":return p(e).geometry;default:throw new Error(t+" is invalid")}},i.point=r,i.points=function(t,e,n){return void 0===n&&(n={}),u(t.map(function(t){return r(t,e)}),n)},i.polygon=o,i.polygons=function(t,e,n){return void 0===n&&(n={}),u(t.map(function(t){return o(t,e)}),n)},i.lineString=s,i.lineStrings=function(t,e,n){return void 0===n&&(n={}),u(t.map(function(t){return s(t,e)}),n)},i.featureCollection=u,i.multiLineString=c,i.multiPoint=l,i.multiPolygon=p,i.geometryCollection=function(t,e,n){return a({type:"GeometryCollection",geometries:t},e,n=void 0===n?{}:n)},i.round=function(t,e){if(!(e=void 0===e?0:e)||0<=e)return e=Math.pow(10,e||0),Math.round(t*e)/e;throw new Error("precision must be a positive number")},i.radiansToLength=h,i.lengthToRadians=f,i.lengthToDegrees=function(t,e){return n(f(t,e))},i.bearingToAzimuth=function(t){return(t%=360)<0&&(t+=360),t},i.radiansToDegrees=n,i.degreesToRadians=function(t){return t%360*Math.PI/180},i.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),0<=t)return h(f(t,e),n);throw new Error("length must be a positive number")},i.convertArea=function(t,e,n){if(void 0===e&&(e="meters"),void 0===n&&(n="kilometers"),!(0<=t))throw new Error("area must be a positive number");if(!(e=i.areaFactors[e]))throw new Error("invalid original units");if(n=i.areaFactors[n])return t/e*n;throw new Error("invalid final units")},i.isNumber=g,i.isObject=function(t){return!!t&&t.constructor===Object},i.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!g(t))throw new Error("bbox must only contain numbers")})},i.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},{}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var g=t("@turf/helpers");function x(t,e,n){if(null!==t)for(var i,r,o,s=0,a=t.type,u="FeatureCollection"===a,c="Feature"===a,l=u?t.features.length:1,p=0;p<l;p++)for(var h,f,g=(f=!!(h=u?t.features[p].geometry:c?t.geometry:t)&&"GeometryCollection"===h.type)?h.geometries.length:1,d=0;d<g;d++){var y=0,_=0,m=f?h.geometries[d]:h;if(null!==m){var v=m.coordinates,E=m.type,I=!n||"Polygon"!==E&&"MultiPolygon"!==E?0:1;switch(E){case null:break;case"Point":if(!1===e(v,s,p,y,_))return!1;s++,y++;break;case"LineString":case"MultiPoint":for(i=0;i<v.length;i++){if(!1===e(v[i],s,p,y,_))return!1;s++,"MultiPoint"===E&&y++}"LineString"===E&&y++;break;case"Polygon":case"MultiLineString":for(i=0;i<v.length;i++){for(r=0;r<v[i].length-I;r++){if(!1===e(v[i][r],s,p,y,_))return!1;s++}"MultiLineString"===E&&y++,"Polygon"===E&&_++}"Polygon"===E&&y++;break;case"MultiPolygon":for(i=0;i<v.length;i++){for(r=_=0;r<v[i].length;r++){for(o=0;o<v[i][r].length-I;o++){if(!1===e(v[i][r][o],s,p,y,_))return!1;s++}_++}y++}break;case"GeometryCollection":for(i=0;i<m.geometries.length;i++)if(!1===x(m.geometries[i],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function s(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function i(t,e){for(var n,i,r,o,s,a,u,c,l,p=0,h="FeatureCollection"===t.type,f="Feature"===t.type,g=h?t.features.length:1,d=0;d<g;d++){for(s=h?t.features[d].geometry:f?t.geometry:t,u=h?t.features[d].properties:f?t.properties:{},c=h?t.features[d].bbox:f?t.bbox:void 0,l=h?t.features[d].id:f?t.id:void 0,o=(a=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<o;i++)if(null===(r=a?s.geometries[i]:s)){if(!1===e(null,p,u,c,l))return!1}else switch(r.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(r,p,u,c,l))return!1;break;case"GeometryCollection":for(n=0;n<r.geometries.length;n++)if(!1===e(r.geometries[n],p,u,c,l))return!1;break;default:throw new Error("Unknown Geometry Type")}p++}}function a(t,c){i(t,function(t,e,n,i,r){var o,s=null===t?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1===c(g.feature(t,n,{bbox:i,id:r}),e,0)?!1:void 0}switch(s){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon"}for(var a=0;a<t.coordinates.length;a++){var u=t.coordinates[a];if(!1===c(g.feature({type:o,coordinates:u},n),e,a))return!1}})}function r(t,f){a(t,function(o,s,a){var u=0;if(o.geometry){var c,l,p,h,t=o.geometry.type;if("Point"!==t&&"MultiPoint"!==t)return h=p=l=0,!1!==x(o,function(t,e,n,i,r){if(void 0===c||l<s||p<i||h<r)c=t,l=s,p=i,h=r,u=0;else{i=g.lineString([c,t],o.properties);if(!1===f(i,s,a,r,u))return!1;u++,c=t}})&&void 0}})}function u(t,s){if(!t)throw new Error("geojson is required");a(t,function(t,e,n){if(null!==t.geometry){var i=t.geometry.type,r=t.geometry.coordinates;switch(i){case"LineString":if(!1===s(t,e,n,0,0))return!1;break;case"Polygon":for(var o=0;o<r.length;o++)if(!1===s(g.lineString(r[o],t.properties),e,n,o))return!1}}})}n.coordAll=function(t){var e=[];return x(t,function(t){e.push(t)}),e},n.coordEach=x,n.coordReduce=function(t,o,s,e){var a=s;return x(t,function(t,e,n,i,r){a=0===e&&void 0===s?t:o(a,t,e,n,i,r)},e),a},n.featureEach=s,n.featureReduce=function(t,n,i){var r=i;return s(t,function(t,e){r=0===e&&void 0===i?t:n(r,t,e)}),r},n.findPoint=function(t,e){if(!g.isObject(e=e||{}))throw new Error("options is invalid");var n,i=e.featureIndex||0,r=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.coordIndex||0,a=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),a=a||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":a=a||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":return g.point(u,a,e);case"MultiPoint":return r<0&&(r=u.length+r),g.point(u[r],a,e);case"LineString":return s<0&&(s=u.length+s),g.point(u[s],a,e);case"Polygon":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s),g.point(u[o][s],a,e);case"MultiLineString":return r<0&&(r=u.length+r),s<0&&(s=u[r].length+s),g.point(u[r][s],a,e);case"MultiPolygon":return r<0&&(r=u.length+r),o<0&&(o=u[r].length+o),s<0&&(s=u[r][o].length-s),g.point(u[r][o][s],a,e)}throw new Error("geojson is invalid")},n.findSegment=function(t,e){if(!g.isObject(e=e||{}))throw new Error("options is invalid");var n,i=e.featureIndex||0,r=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.segmentIndex||0,a=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),a=a||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":a=a||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=u.length+s-1),g.lineString([u[s],u[s+1]],a,e);case"Polygon":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s-1),g.lineString([u[o][s],u[o][s+1]],a,e);case"MultiLineString":return r<0&&(r=u.length+r),s<0&&(s=u[r].length+s-1),g.lineString([u[r][s],u[r][s+1]],a,e);case"MultiPolygon":return r<0&&(r=u.length+r),o<0&&(o=u[r].length+o),s<0&&(s=u[r][o].length-s-1),g.lineString([u[r][o][s],u[r][o][s+1]],a,e)}throw new Error("geojson is invalid")},n.flattenEach=a,n.flattenReduce=function(t,i,r){var o=r;return a(t,function(t,e,n){o=0===e&&0===n&&void 0===r?t:i(o,t,e,n)}),o},n.geomEach=i,n.geomReduce=function(t,o,s){var a=s;return i(t,function(t,e,n,i,r){a=0===e&&void 0===s?t:o(a,t,e,n,i,r)}),a},n.lineEach=u,n.lineReduce=function(t,r,o){var s=o;return u(t,function(t,e,n,i){s=0===e&&void 0===o?t:r(s,t,e,n,i)}),s},n.propEach=o,n.propReduce=function(t,n,i){var r=i;return o(t,function(t,e){r=0===e&&void 0===i?t:n(r,t,e)}),r},n.segmentEach=r,n.segmentReduce=function(t,o,s){var a=s,u=!1;return r(t,function(t,e,n,i,r){a=!1===u&&void 0===s?t:o(a,t,e,n,i,r),u=!0}),a}},{"@turf/helpers":3}],5:[function(t,e,n){var i;i=this,function(t){"use strict";function a(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function e(o){var n;return 1===o.length&&(n=o,o=function(t,e){return a(n(t),e)}),{left:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;o(t[r],e)<0?n=1+r:i=r}return n},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;0<o(t[r],e)?i=r:n=1+r}return n}}}var n=e(a),d=n.right,n=n.left;function l(t,e){return[t,e]}function c(t){return null===t?NaN:+t}function i(t,e){var n,i,r=t.length,o=0,s=-1,a=0,u=0;if(null==e)for(;++s<r;)isNaN(n=c(t[s]))||(u+=(i=n-a)*(n-(a+=i/++o)));else for(;++s<r;)isNaN(n=c(e(t[s],s,t)))||(u+=(i=n-a)*(n-(a+=i/++o)));if(1<o)return u/(o-1)}function r(t,e){t=i(t,e);return t&&Math.sqrt(t)}function o(t,e){var n,i,r,o=t.length,s=-1;if(null==e){for(;++s<o;)if(null!=(n=t[s])&&n<=n)for(i=r=n;++s<o;)null!=(n=t[s])&&(n<i&&(i=n),r<n)&&(r=n)}else for(;++s<o;)if(null!=(n=e(t[s],s,t))&&n<=n)for(i=r=n;++s<o;)null!=(n=e(t[s],s,t))&&(n<i&&(i=n),r<n)&&(r=n);return[i,r]}var s=Array.prototype,u=s.slice,p=s.map;function y(t){return function(){return t}}function _(t){return t}function m(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}var h=Math.sqrt(50),f=Math.sqrt(10),g=Math.sqrt(2);function v(t,e,n){e=(e-t)/Math.max(0,n),t=Math.floor(Math.log(e)/Math.LN10),n=e/Math.pow(10,t);return 0<=t?(h<=n?10:f<=n?5:g<=n?2:1)*Math.pow(10,t):-Math.pow(10,-t)/(h<=n?10:f<=n?5:g<=n?2:1)}function E(t,e,n){var n=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),n=n/i;return h<=n?i*=10:f<=n?i*=5:g<=n&&(i*=2),e<t?-i:i}function I(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function x(t,e,n){var i,r;if(null==n&&(n=c),i=t.length)return(e=+e)<=0||i<2?+n(t[0],0,t):1<=e?+n(t[i-1],i-1,t):(i=(i-1)*e,(r=+n(t[e=Math.floor(i)],e,t))+(+n(t[e+1],e+1,t)-r)*(i-e))}function N(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n<=n)for(i=n;++o<r;)null!=(n=t[o])&&n<i&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n<=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&n<i&&(i=n);return i}function C(t){if(!(r=t.length))return[];for(var e=-1,n=N(t,S),i=new Array(n);++e<n;)for(var r,o=-1,s=i[e]=new Array(r);++o<r;)s[o]=t[o][e];return i}function S(t){return t.length}t.bisect=d,t.bisectRight=d,t.bisectLeft=n,t.ascending=a,t.bisector=e,t.cross=function(t,e,n){var i,r,o,s,a=t.length,u=e.length,c=new Array(a*u);for(null==n&&(n=l),i=o=0;i<a;++i)for(s=t[i],r=0;r<u;++r,++o)c[o]=n(s,e[r]);return c},t.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},t.deviation=r,t.extent=o,t.histogram=function(){var h=_,f=o,g=I;function e(t){for(var e,n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=h(t[r],r,t);for(var o=f(i),s=o[0],a=o[1],u=g(i,s,a),c=(Array.isArray(u)||(u=E(s,a,u),u=m(Math.ceil(s/u)*u,a,u)),u.length);u[0]<=s;)u.shift(),--c;for(;u[c-1]>a;)u.pop(),--c;var l,p=new Array(c+1);for(r=0;r<=c;++r)(l=p[r]=[]).x0=0<r?u[r-1]:s,l.x1=r<c?u[r]:a;for(r=0;r<n;++r)s<=(e=i[r])&&e<=a&&p[d(u,e,0,c)].push(t[r]);return p}return e.value=function(t){return arguments.length?(h="function"==typeof t?t:y(t),e):h},e.domain=function(t){return arguments.length?(f="function"==typeof t?t:y([t[0],t[1]]),e):f},e.thresholds=function(t){return arguments.length?(g="function"==typeof t?t:Array.isArray(t)?y(u.call(t)):y(t),e):g},e},t.thresholdFreedmanDiaconis=function(t,e,n){return t=p.call(t,c).sort(a),Math.ceil((n-e)/(2*(x(t,.75)-x(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*r(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=I,t.max=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n<=n)for(i=n;++o<r;)null!=(n=t[o])&&i<n&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n<=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&i<n&&(i=n);return i},t.mean=function(t,e){var n,i=t.length,r=i,o=-1,s=0;if(null==e)for(;++o<i;)isNaN(n=c(t[o]))?--r:s+=n;else for(;++o<i;)isNaN(n=c(e(t[o],o,t)))?--r:s+=n;if(r)return s/r},t.median=function(t,e){var n,i=t.length,r=-1,o=[];if(null==e)for(;++r<i;)isNaN(n=c(t[r]))||o.push(n);else for(;++r<i;)isNaN(n=c(e(t[r],r,t)))||o.push(n);return x(o.sort(a),.5)},t.merge=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);0<=--r;)for(e=(i=t[r]).length;0<=--e;)n[--s]=i[e];return n},t.min=N,t.pairs=function(t,e){null==e&&(e=l);for(var n=0,i=t.length-1,r=t[0],o=new Array(i<0?0:i);n<i;)o[n]=e(r,r=t[++n]);return o},t.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},t.quantile=x,t.range=m,t.scan=function(t,e){if(n=t.length){var n,i,r=0,o=0,s=t[o];for(null==e&&(e=a);++r<n;)(e(i=t[r],s)<0||0!==e(s,s))&&(s=i,o=r);return 0===e(s,s)?o:void 0}},t.shuffle=function(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},t.sum=function(t,e){var n,i=t.length,r=-1,o=0;if(null==e)for(;++r<i;)(n=+t[r])&&(o+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(o+=n);return o},t.ticks=function(t,e,n){var i,r,o,s,a=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(s=v(t,e,n))||!isFinite(s))return[];if(0<s)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(r=Math.ceil(e-t+1));++a<r;)o[a]=(t+a)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(r=Math.ceil(t-e+1));++a<r;)o[a]=(t-a)/s;return i&&o.reverse(),o},t.tickIncrement=v,t.tickStep=E,t.transpose=C,t.variance=i,t.zip=function(){return C(arguments)},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:i.d3=i.d3||{})},{}],6:[function(t,e,n){var i,r;i=this,r=function(t,C){"use strict";function e(){return new n}function n(){this.reset()}n.prototype={constructor:n,reset:function(){this.s=this.t=0},add:function(t){q(G,t,this.t),q(this,G.s,this.s),this.s?this.t+=G.t:this.s=G.t},valueOf:function(){return this.s}};var G=new n;function q(t,e,n){var i=t.s=e+n,r=i-e;t.t=e-(i-r)+(n-r)}var P=1e-6,b=Math.PI,g=b/2,B=b/4,L=2*b,R=180/b,T=b/180,M=Math.abs,U=Math.atan,D=Math.atan2,w=Math.cos,V=Math.ceil,z=Math.exp,k=Math.log,j=Math.pow,O=Math.sin,X=Math.sign||function(t){return 0<t?1:t<0?-1:0},A=Math.sqrt,Y=Math.tan;function H(t){return 1<t?0:t<-1?b:Math.acos(t)}function F(t){return 1<t?g:t<-1?-g:Math.asin(t)}function W(t){return(t=O(t/2))*t}function i(){}function K(t,e){t&&Q.hasOwnProperty(t.type)&&Q[t.type](t,e)}var J={Feature:function(t,e){K(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)K(n[i].geometry,e)}},Q={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Z(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Z(n[i],e,0)},Polygon:function(t,e){$(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)$(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)K(n[i],e)}};function Z(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function $(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Z(t[n],e,1);e.polygonEnd()}var tt,et,nt,it,rt,u=function(t,e){t&&J.hasOwnProperty(t.type)?J[t.type](t,e):K(t,e)},ot=e(),st=e(),r={point:i,lineStart:i,lineEnd:i,polygonStart:function(){ot.reset(),r.lineStart=at,r.lineEnd=ut},polygonEnd:function(){var t=+ot;st.add(t<0?L+t:t),this.lineStart=this.lineEnd=this.point=i},sphere:function(){st.add(L)}};function at(){r.point=ct}function ut(){lt(tt,et)}function ct(t,e){r.point=lt,tt=t,et=e,nt=t*=T,it=w(e=(e*=T)/2+B),rt=O(e)}function lt(t,e){var n=(t*=T)-nt,i=0<=n?1:-1,n=i*n,r=w(e=(e*=T)/2+B),e=O(e),o=rt*e,s=it*r+o*w(n),o=o*i*O(n);ot.add(D(o,s)),nt=t,it=r,rt=e}var c,l,p,h,f,pt,ht,ft;function gt(t){return[D(t[1],t[0]),F(t[2])]}function dt(t){var e=t[0],t=t[1],n=w(t);return[n*w(e),n*O(e),O(t)]}function yt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function _t(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function mt(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function vt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Et(t){var e=A(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var d,y,It=e(),_={point:xt,lineStart:Ct,lineEnd:St,polygonStart:function(){_.point=bt,_.lineStart=Lt,_.lineEnd=wt,It.reset(),r.polygonStart()},polygonEnd:function(){r.polygonEnd(),_.point=xt,_.lineStart=Ct,_.lineEnd=St,ot<0?(c=-(p=180),l=-(h=90)):P<It?h=90:It<-P&&(l=-90),y[0]=c,y[1]=p}};function xt(t,e){d.push(y=[c=t,p=t]),e<l&&(l=e),h<e&&(h=e)}function Nt(t,e){var n,i,r,o,s,a=dt([t*T,e*T]);ft?(n=_t(ft,a),Et(n=_t([n[1],-n[0],0],n)),n=gt(n),s=t-f,r=n[0]*R*(i=0<s?1:-1),(s=180<M(s))^(i*f<r&&r<i*t)?(o=n[1]*R,h<o&&(h=o)):s^(i*f<(r=(360+r)%360-180)&&r<i*t)?(o=-n[1]*R)<l&&(l=o):(e<l&&(l=e),h<e&&(h=e)),s?t<f?m(c,t)>m(c,p)&&(p=t):m(t,p)>m(c,p)&&(c=t):c<=p?(t<c&&(c=t),p<t&&(p=t)):f<t?m(c,t)>m(c,p)&&(p=t):m(t,p)>m(c,p)&&(c=t)):d.push(y=[c=t,p=t]),e<l&&(l=e),h<e&&(h=e),ft=a,f=t}function Ct(){_.point=Nt}function St(){y[0]=c,y[1]=p,_.point=xt,ft=null}function bt(t,e){var n;ft?(n=t-f,It.add(180<M(n)?n+(0<n?360:-360):n)):(pt=t,ht=e),r.point(t,e),Nt(t,e)}function Lt(){r.lineStart()}function wt(){bt(pt,ht),r.lineEnd(),M(It)>P&&(c=-(p=180)),y[0]=c,y[1]=p,ft=null}function m(t,e){return(e-=t)<0?e+360:e}function Ot(t,e){return t[0]-e[0]}function Pt(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Rt,Tt,Mt,Dt,At,Ft,Gt,qt,Bt,Ut,Vt,zt,kt,v,E,I,o={sphere:i,point:jt,lineStart:Yt,lineEnd:Kt,polygonStart:function(){o.lineStart=Jt,o.lineEnd=Qt},polygonEnd:function(){o.lineStart=Yt,o.lineEnd=Kt}};function jt(t,e){t*=T;var n=w(e*=T);Xt(n*w(t),n*O(t),O(e))}function Xt(t,e,n){Mt+=(t-Mt)/++Rt,Dt+=(e-Dt)/Rt,At+=(n-At)/Rt}function Yt(){o.point=Ht}function Ht(t,e){t*=T;var n=w(e*=T);v=n*w(t),E=n*O(t),I=O(e),o.point=Wt,Xt(v,E,I)}function Wt(t,e){t*=T;var n=w(e*=T),i=n*w(t),n=n*O(t),t=O(e),e=D(A((e=E*t-I*n)*e+(e=I*i-v*t)*e+(e=v*n-E*i)*e),v*i+E*n+I*t);Tt+=e,Ft+=e*(v+(v=i)),Gt+=e*(E+(E=n)),qt+=e*(I+(I=t)),Xt(v,E,I)}function Kt(){o.point=jt}function Jt(){o.point=Zt}function Qt(){$t(zt,kt),o.point=jt}function Zt(t,e){zt=t,kt=e,t*=T,e*=T,o.point=$t;var n=w(e);v=n*w(t),E=n*O(t),I=O(e),Xt(v,E,I)}function $t(t,e){t*=T;var n=w(e*=T),i=n*w(t),n=n*O(t),t=O(e),e=E*t-I*n,r=I*i-v*t,o=v*n-E*i,s=A(e*e+r*r+o*o),a=F(s),s=s&&-a/s;Bt+=s*e,Ut+=s*r,Vt+=s*o,Tt+=a,Ft+=a*(v+(v=i)),Gt+=a*(E+(E=n)),qt+=a*(I+(I=t)),Xt(v,E,I)}function te(t){return function(){return t}}var ee=function(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t};function ne(t,e){return[b<t?t-L:t<-b?t+L:t,e]}function ie(t,e,n){return(t%=L)?e||n?ee(oe(t),se(e,n)):oe(t):e||n?se(e,n):ne}function re(n){return function(t,e){return[b<(t+=n)?t-L:t<-b?t+L:t,e]}}function oe(t){var e=re(t);return e.invert=re(-t),e}function se(t,e){var r=w(t),o=O(t),s=w(e),a=O(e);function n(t,e){var n=w(e),i=w(t)*n,t=O(t)*n,n=O(e),e=n*r+i*o;return[D(t*s-e*a,i*r-n*o),F(e*s+t*a)]}return n.invert=function(t,e){var n=w(e),i=w(t)*n,t=O(t)*n,n=O(e),e=n*s-t*a;return[D(t*s+n*a,i*r+e*o),F(e*r-i*o)]},n}ne.invert=ne;var ae=function(e){function t(t){return(t=e(t[0]*T,t[1]*T))[0]*=R,t[1]*=R,t}return e=ie(e[0]*T,e[1]*T,2<e.length?e[2]*T:0),t.invert=function(t){return(t=e.invert(t[0]*T,t[1]*T))[0]*=R,t[1]*=R,t},t};function ue(t,e,n,i,r,o){if(n){var s=w(e),a=O(e),u=i*n;null==r?(r=e+i*L,o=e-u/2):(r=ce(s,r),o=ce(s,o),(0<i?r<o:o<r)&&(r+=i*L));for(var c,l=r;0<i?o<l:l<o;l-=u)c=gt([s,-a*w(l),-a*O(l)]),t.point(c[0],c[1])}}function ce(t,e){(e=dt(e))[0]-=t,Et(e);t=H(-e[1]);return((-e[2]<0?-t:t)+L-P)%L}var le=function(){var n,e=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){e.push(n=[])},lineEnd:i,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],n=null,t}}},pe=function(t,e,n,i,r,o){var s=t[0],a=t[1],u=0,c=1,l=e[0]-s,p=e[1]-a,n=n-s;if(l||!(0<n)){if(n/=l,l<0){if(n<u)return;n<c&&(c=n)}else if(0<l){if(c<n)return;u<n&&(u=n)}if(n=r-s,l||!(n<0)){if(n/=l,l<0){if(c<n)return;u<n&&(u=n)}else if(0<l){if(n<u)return;n<c&&(c=n)}if(n=i-a,p||!(0<n)){if(n/=p,p<0){if(n<u)return;n<c&&(c=n)}else if(0<p){if(c<n)return;u<n&&(u=n)}if(n=o-a,p||!(n<0)){if(n/=p,p<0){if(c<n)return;u<n&&(u=n)}else if(0<p){if(n<u)return;n<c&&(c=n)}return 0<u&&(t[0]=s+u*l,t[1]=a+u*p),c<1&&(e[0]=s+c*l,e[1]=a+c*p),!0}}}}},he=function(t,e){return M(t[0]-e[0])<P&&M(t[1]-e[1])<P};function fe(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}var ge=function(t,e,n,i,o){var s,r,a=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],r=t[e];if(he(i,r)){for(o.lineStart(),s=0;s<e;++s)o.point((i=t[s])[0],i[1]);o.lineEnd()}else a.push(n=new fe(i,t,null,!0)),u.push(n.o=new fe(i,null,n,!1)),a.push(n=new fe(r,t,null,!1)),u.push(n.o=new fe(r,null,n,!0))}}),a.length){for(u.sort(e),de(a),de(u),s=0,r=u.length;s<r;++s)u[s].e=n=!n;for(var c,l,p=a[0];;){for(var h=p,f=!0;h.v;)if((h=h.n)===p)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(s=0,r=c.length;s<r;++s)o.point((l=c[s])[0],l[1]);else i(h.x,h.n.x,1,o);h=h.n}else{if(f)for(c=h.p.z,s=c.length-1;0<=s;--s)o.point((l=c[s])[0],l[1]);else i(h.x,h.p.x,-1,o);h=h.p}}while(c=(h=h.o).z,f=!f,!h.v);o.lineEnd()}}};function de(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}var ye=1e9,_e=-ye;function me(_,m,v,E){function I(t,e){return _<=t&&t<=v&&m<=e&&e<=E}function x(t,e,n,i){var r=0,o=0;if(null==t||(r=s(t,n))!==(o=s(e,n))||a(t,e)<0^0<n)for(;i.point(0===r||3===r?_:v,1<r?E:m),(r=(r+n+4)%4)!==o;);else i.point(e[0],e[1])}function s(t,e){return M(t[0]-_)<P?0<e?0:3:M(t[0]-v)<P?0<e?2:1:M(t[1]-m)<P?0<e?1:0:0<e?3:2}function N(t,e){return a(t.x,e.x)}function a(t,e){var n=s(t,1),i=s(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){var r,p,o,s,a,u,c,l,h,f,g,d=i,t=le(),e={point:n,lineStart:function(){e.point=y,p&&p.push(o=[]);f=!0,h=!1,c=l=NaN},lineEnd:function(){r&&(y(s,a),u&&h&&t.rejoin(),r.push(t.result()));e.point=n,h&&d.lineEnd()},polygonStart:function(){d=t,r=[],p=[],g=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,n=p.length;e<n;++e)for(var i,r,o=p[e],s=1,a=o.length,u=o[0],c=u[0],l=u[1];s<a;++s)i=c,r=l,u=o[s],c=u[0],l=u[1],r<=E?E<l&&(l-r)*(_-i)<(c-i)*(E-r)&&++t:l<=E&&(c-i)*(E-r)<(l-r)*(_-i)&&--t;return t}(),e=g&&t,n=(r=C.merge(r)).length;(e||n)&&(i.polygonStart(),e&&(i.lineStart(),x(null,null,1,i),i.lineEnd()),n&&ge(r,N,t,x,i),i.polygonEnd());d=i,r=p=o=null}};function n(t,e){I(t,e)&&d.point(t,e)}function y(t,e){var n,i,r=I(t,e);p&&o.push([t,e]),f?(s=t,a=e,f=!1,(u=r)&&(d.lineStart(),d.point(t,e))):r&&h?d.point(t,e):(n=[c=Math.max(_e,Math.min(ye,c)),l=Math.max(_e,Math.min(ye,l))],i=[t=Math.max(_e,Math.min(ye,t)),e=Math.max(_e,Math.min(ye,e))],pe(n,i,_,m,v,E)?(h||(d.lineStart(),d.point(n[0],n[1])),d.point(i[0],i[1]),r||d.lineEnd(),g=!1):r&&(d.lineStart(),d.point(t,e),g=!1)),c=t,l=e,h=r}return e}}function ve(t,e){var n=e[0],i=e[1],r=[O(n),-w(n),0],o=0,s=0;Ne.reset();for(var a=0,u=t.length;a<u;++a)if(l=(c=t[a]).length)for(var c,l,p=c[l-1],h=p[0],f=p[1]/2+B,g=O(f),d=w(f),y=0;y<l;++y,h=m,g=E,d=v,p=_){var _=c[y],m=_[0],v=_[1]/2+B,E=O(v),v=w(v),I=m-h,x=0<=I?1:-1,N=x*I,C=b<N,S=g*E;Ne.add(D(S*x*O(N),d*v+S*w(N))),o+=C?I+x*L:I,C^n<=h^n<=m&&(Et(S=_t(dt(p),dt(_))),Et(N=_t(r,S)),(x=(C^0<=I?-1:1)*F(N[2]))<i||i===x&&(S[0]||S[1]))&&(s+=C^0<=I?1:-1)}return(o<-P||o<P&&Ne<-P)^1&s}var Ee,Ie,xe,Ne=e(),Ce=e(),Se={sphere:i,point:i,lineStart:function(){Se.point=Le,Se.lineEnd=be},lineEnd:i,polygonStart:i,polygonEnd:i};function be(){Se.point=Se.lineEnd=i}function Le(t,e){Ee=t*=T,Ie=O(e*=T),xe=w(e),Se.point=we}function we(t,e){t*=T;var n=O(e*=T),e=w(e),i=M(t-Ee),r=w(i),i=e*O(i),o=xe*n-Ie*e*r,r=Ie*n+xe*e*r;Ce.add(D(A(i*i+o*o),r)),Ee=t,Ie=n,xe=e}function Oe(t,e){return Re[0]=t,Re[1]=e,Pe(Te)}var Pe=function(t){return Ce.reset(),u(t,Se),+Ce},Re=[null,null],Te={type:"LineString",coordinates:Re},Me={Feature:function(t,e){return Ae(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(Ae(n[i].geometry,e))return!0;return!1}},De={Sphere:function(){return!0},Point:function(t,e){return Fe(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Fe(n[i],e))return!0;return!1},LineString:function(t,e){return Ge(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Ge(n[i],e))return!0;return!1},Polygon:function(t,e){return qe(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(qe(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(Ae(n[i],e))return!0;return!1}};function Ae(t,e){return!(!t||!De.hasOwnProperty(t.type))&&De[t.type](t,e)}function Fe(t,e){return 0===Oe(t,e)}function Ge(t,e){var n=Oe(t[0],t[1]);return Oe(t[0],e)+Oe(e,t[1])<=n+P}function qe(t,e){return!!ve(t.map(Be),Ue(e))}function Be(t){return(t=t.map(Ue)).pop(),t}function Ue(t){return[t[0]*T,t[1]*T]}function Ve(t,e,n){var i=C.range(t,e-P,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function ze(t,e,n){var i=C.range(t,e-P,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function ke(){var e,n,i,r,o,s,a,u,c,l,p,h,f=10,g=f,d=90,y=360,_=2.5;function m(){return{type:"MultiLineString",coordinates:t()}}function t(){return C.range(V(r/d)*d,i,d).map(p).concat(C.range(V(u/y)*y,a,y).map(h)).concat(C.range(V(n/f)*f,e,f).filter(function(t){return M(t%d)>P}).map(c)).concat(C.range(V(s/g)*g,o,g).filter(function(t){return M(t%y)>P}).map(l))}return m.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},m.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(h(a).slice(1),p(i).reverse().slice(1),h(u).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(r=+t[0][0],i=+t[1][0],u=+t[0][1],a=+t[1][1],i<r&&(t=r,r=i,i=t),a<u&&(t=u,u=a,a=t),m.precision(_)):[[r,u],[i,a]]},m.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],s=+t[0][1],o=+t[1][1],e<n&&(t=n,n=e,e=t),o<s&&(t=s,s=o,o=t),m.precision(_)):[[n,s],[e,o]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(d=+t[0],y=+t[1],m):[d,y]},m.stepMinor=function(t){return arguments.length?(f=+t[0],g=+t[1],m):[f,g]},m.precision=function(t){return arguments.length?(_=+t,c=Ve(s,o,90),l=ze(n,e,_),p=Ve(u,a,90),h=ze(r,i,_),m):_},m.extentMajor([[-180,-90+P],[180,90-P]]).extentMinor([[-180,-80-P],[180,80+P]])}var je,Xe,Ye,He,We=function(t){return t},Ke=e(),Je=e(),a={point:i,lineStart:i,lineEnd:i,polygonStart:function(){a.lineStart=Qe,a.lineEnd=tn},polygonEnd:function(){a.lineStart=a.lineEnd=a.point=i,Ke.add(M(Je)),Je.reset()},result:function(){var t=Ke/2;return Ke.reset(),t}};function Qe(){a.point=Ze}function Ze(t,e){a.point=$e,je=Ye=t,Xe=He=e}function $e(t,e){Je.add(He*t-Ye*e),Ye=t,He=e}function tn(){$e(je,Xe)}var en=1/0,nn=en,rn=-en,on=rn,sn={point:function(t,e){t<en&&(en=t);rn<t&&(rn=t);e<nn&&(nn=e);on<e&&(on=e)},lineStart:i,lineEnd:i,polygonStart:i,polygonEnd:i,result:function(){var t=[[en,nn],[rn,on]];return rn=on=-(nn=en=1/0),t}};var an,un,s,x,cn=0,ln=0,pn=0,hn=0,fn=0,gn=0,dn=0,yn=0,_n=0,N={point:mn,lineStart:vn,lineEnd:xn,polygonStart:function(){N.lineStart=Nn,N.lineEnd=Cn},polygonEnd:function(){N.point=mn,N.lineStart=vn,N.lineEnd=xn},result:function(){var t=_n?[dn/_n,yn/_n]:gn?[hn/gn,fn/gn]:pn?[cn/pn,ln/pn]:[NaN,NaN];return cn=ln=pn=hn=fn=gn=dn=yn=_n=0,t}};function mn(t,e){cn+=t,ln+=e,++pn}function vn(){N.point=En}function En(t,e){N.point=In,mn(s=t,x=e)}function In(t,e){var n=t-s,i=e-x,n=A(n*n+i*i);hn+=n*(s+t)/2,fn+=n*(x+e)/2,gn+=n,mn(s=t,x=e)}function xn(){N.point=mn}function Nn(){N.point=Sn}function Cn(){bn(an,un)}function Sn(t,e){N.point=bn,mn(an=s=t,un=x=e)}function bn(t,e){var n=t-s,i=e-x,n=A(n*n+i*i);hn+=n*(s+t)/2,fn+=n*(x+e)/2,gn+=n,dn+=(n=x*t-s*e)*(s+t),yn+=n*(x+e),_n+=3*n,mn(s=t,x=e)}function Ln(t){this._context=t}Ln.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,L)}},result:i};var wn,On,Pn,Rn,Tn,Mn=e(),Dn={point:i,lineStart:function(){Dn.point=An},lineEnd:function(){wn&&Fn(On,Pn),Dn.point=i},polygonStart:function(){wn=!0},polygonEnd:function(){wn=null},result:function(){var t=+Mn;return Mn.reset(),t}};function An(t,e){Dn.point=Fn,On=Rn=t,Pn=Tn=e}function Fn(t,e){Rn-=t,Tn-=e,Mn.add(A(Rn*Rn+Tn*Tn)),Rn=t,Tn=e}function Gn(){this._string=[]}function qn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Gn.prototype={_radius:4.5,_circle:qn(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=qn(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){var t;return this._string.length?(t=this._string.join(""),this._string=[],t):null}};var Bn=function(m,v,E,I){return function(i,a){var u,c,l,n=v(a),e=i.invert(I[0],I[1]),p=le(),h=v(p),f=!1,r={point:o,lineStart:s,lineEnd:g,polygonStart:function(){r.point=d,r.lineStart=y,r.lineEnd=_,c=[],u=[]},polygonEnd:function(){r.point=o,r.lineStart=s,r.lineEnd=g,c=C.merge(c);var t=ve(u,e);c.length?(f||(a.polygonStart(),f=!0),ge(c,Vn,t,E,a)):t&&(f||(a.polygonStart(),f=!0),a.lineStart(),E(null,null,1,a),a.lineEnd()),f&&(a.polygonEnd(),f=!1),c=u=null},sphere:function(){a.polygonStart(),a.lineStart(),E(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function o(t,e){var n=i(t,e);m(t=n[0],e=n[1])&&a.point(t,e)}function t(t,e){t=i(t,e);n.point(t[0],t[1])}function s(){r.point=t,n.lineStart()}function g(){r.point=o,n.lineEnd()}function d(t,e){l.push([t,e]);t=i(t,e);h.point(t[0],t[1])}function y(){h.lineStart(),l=[]}function _(){d(l[0][0],l[0][1]),h.lineEnd();var t,e,n,i,r=h.clean(),o=p.result(),s=o.length;if(l.pop(),u.push(l),l=null,s)if(1&r){if(0<(e=(n=o[0]).length-1)){for(f||(a.polygonStart(),f=!0),a.lineStart(),t=0;t<e;++t)a.point((i=n[t])[0],i[1]);a.lineEnd()}}else 1<s&&2&r&&o.push(o.pop().concat(o.shift())),c.push(o.filter(Un))}return r}};function Un(t){return 1<t.length}function Vn(t,e){return((t=t.x)[0]<0?t[1]-g-P:g-t[1])-((e=e.x)[0]<0?e[1]-g-P:g-e[1])}var zn=Bn(function(){return!0},function(c){var l,p=NaN,h=NaN,f=NaN;return{lineStart:function(){c.lineStart(),l=1},point:function(t,e){var n,i,r,o,s,a=0<t?b:-b,u=M(t-p);M(u-b)<P?(c.point(p,h=0<(h+e)/2?g:-g),c.point(f,h),c.lineEnd(),c.lineStart(),c.point(a,h),c.point(t,h),l=0):f!==a&&b<=u&&(M(p-f)<P&&(p-=f*P),M(t-a)<P&&(t-=a*P),u=h,r=e,s=O((n=p)-(i=t)),h=M(s)>P?U((O(u)*(o=w(r))*O(i)-O(r)*(i=w(u))*O(n))/(i*o*s)):(u+r)/2,c.point(f,h),c.lineEnd(),c.lineStart(),c.point(a,h),l=0),c.point(p=t,h=e),f=a},lineEnd:function(){c.lineEnd(),p=h=NaN},clean:function(){return 2-l}}},function(t,e,n,i){var r;null==t?(r=n*g,i.point(-b,r),i.point(0,r),i.point(b,r),i.point(b,0),i.point(b,-r),i.point(0,-r),i.point(-b,-r),i.point(-b,0),i.point(-b,r)):M(t[0]-e[0])>P?(t=t[0]<e[0]?b:-b,r=n*t/2,i.point(-t,r),i.point(0,r),i.point(t,r)):i.point(e[0],e[1])},[-b,-g]);function kn(r,o){var d=w(r),p=0<d,h=M(d)>P;function f(t,e){return w(t)*w(e)>d}function g(t,e,n){var i,r,o,s,a,u,c,l=[1,0,0],p=_t(dt(t),dt(e)),h=yt(p,p),f=p[0],g=h-f*f;return g?(i=_t(l,p),mt(l=vt(l,d*h/g),vt(p,-d*f/g)),(g=(p=yt(l,h=i))*p-(f=yt(h,h))*(yt(l,l)-1))<0?void 0:(mt(g=vt(h,(-p-(i=A(g)))/f),l),g=gt(g),n?(r=t[0],o=e[0],s=t[1],e=e[1],o<r&&(c=r,r=o,o=c),!(u=M((a=o-r)-b)<P)&&e<s&&(c=s,s=e,e=c),(u||a<P?u?0<s+e^g[1]<(M(g[0]-r)<P?s:e):s<=g[1]&&g[1]<=e:b<a^(r<=g[0]&&g[0]<=o))?(mt(c=vt(h,(-p+i)/f),l),[g,gt(c)]):void 0):g)):!n&&t}function y(t,e){var n=p?r:b-r,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}return Bn(f,function(o){var s,a,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(t,e){var n,i=[t,e],r=f(t,e),t=p?r?0:y(t,e):r?y(t+(t<0?b:-b),e):0;!s&&(c=u=r)&&o.lineStart(),r===u||(n=g(s,i))&&!he(s,n)&&!he(i,n)||(i[0]+=P,i[1]+=P,r=f(i[0],i[1])),r!==u?(l=0,r?(o.lineStart(),n=g(i,s),o.point(n[0],n[1])):(n=g(s,i),o.point(n[0],n[1]),o.lineEnd()),s=n):h&&s&&p^r&&(t&a||!(e=g(i,s,!0))||(l=0,p?(o.lineStart(),o.point(e[0][0],e[0][1]),o.point(e[1][0],e[1][1]),o.lineEnd()):(o.point(e[1][0],e[1][1]),o.lineEnd(),o.lineStart(),o.point(e[0][0],e[0][1])))),!r||s&&he(s,i)||o.point(i[0],i[1]),s=i,u=r,a=t},lineEnd:function(){u&&o.lineEnd(),s=null},clean:function(){return l|(c&&u)<<1}}},function(t,e,n,i){ue(i,r,o,n,t,e)},p?[0,-r]:[-b,r-b])}function jn(i){return function(t){var e,n=new Xn;for(e in i)n[e]=i[e];return n.stream=t,n}}function Xn(){}function Yn(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent(),n=(t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),u(n,t.stream(sn)),sn.result()),s=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),i=+e[0][0]+(i-s*(n[1][0]+n[0][0]))/2,e=+e[0][1]+(r-s*(n[1][1]+n[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([i,e])}function Hn(t,e,n){return Yn(t,[[0,0],e],n)}Xn.prototype={constructor:Xn,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Wn(t,e){return+e?(L=t,w=e,function(i){var n,r,o,s,a,u,c,l,p,h,f,g,d={point:t,lineStart:e,lineEnd:_,polygonStart:function(){i.polygonStart(),d.lineStart=m},polygonEnd:function(){i.polygonEnd(),d.lineStart=e}};function t(t,e){t=L(t,e),i.point(t[0],t[1])}function e(){l=NaN,d.point=y,i.lineStart()}function y(t,e){var n=dt([t,e]),e=L(t,e);O(l,p,c,h,f,g,l=e[0],p=e[1],c=t,h=n[0],f=n[1],g=n[2],Kn,i),i.point(l,p)}function _(){d.point=t,i.lineEnd()}function m(){e(),d.point=v,d.lineEnd=E}function v(t,e){y(n=t,e),r=l,o=p,s=h,a=f,u=g,d.point=y}function E(){O(l,p,c,h,f,g,r,o,n,s,a,u,Kn,i),d.lineEnd=_,_()}return d}):(n=t,jn({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}}));var n,L,w;function O(t,e,n,i,r,o,s,a,u,c,l,p,h,f){var g,d,y,_,m,v,E,I,x,N,C=s-t,S=a-e,b=C*C+S*S;4*w<b&&h--&&(y=o+p,E=F(y/=_=A((g=i+c)*g+(d=r+l)*d+y*y)),m=M(M(y)-1)<P||M(n-u)<P?(n+u)/2:D(d,g),v=(E=L(m,E))[0],E=E[1],w<(N=S*(I=v-t)-C*(x=E-e))*N/b||.3<M((C*I+S*x)/b-.5)||i*c+r*l+o*p<Jn)&&(O(t,e,n,i,r,o,v,E,m,g/=_,d/=_,y,h,f),f.point(v,E),O(v,E,m,g,d,y,s,a,u,c,l,p,h,f))}}var Kn=16,Jn=w(30*T);var Qn=jn({point:function(t,e){this.stream.point(t*T,e*T)}});function S(t){return Zn(function(){return t})()}function Zn(t){var n,i,r,e,o,s,a,u,c,l,p=150,h=480,f=250,g=0,d=0,y=0,_=0,m=0,v=null,E=zn,I=null,x=We,N=.5,C=Wn(L,N);function S(t){return[(t=o(t[0]*T,t[1]*T))[0]*p+i,r-t[1]*p]}function b(t){return(t=o.invert((t[0]-i)/p,(r-t[1])/p))&&[t[0]*R,t[1]*R]}function L(t,e){return[(t=n(t,e))[0]*p+i,r-t[1]*p]}function w(){o=ee(e=ie(y,_,m),n);var t=n(g,d);return i=h-t[0]*p,r=f+t[1]*p,O()}function O(){return c=l=null,S}return S.stream=function(t){return c&&l===t?c:c=Qn(E(e,C(x(l=t))))},S.clipAngle=function(t){return arguments.length?(E=+t?kn(v=t*T,6*T):(v=null,zn),O()):v*R},S.clipExtent=function(t){return arguments.length?(x=null==t?(I=s=a=u=null,We):me(I=+t[0][0],s=+t[0][1],a=+t[1][0],u=+t[1][1]),O()):null==I?null:[[I,s],[a,u]]},S.scale=function(t){return arguments.length?(p=+t,w()):p},S.translate=function(t){return arguments.length?(h=+t[0],f=+t[1],w()):[h,f]},S.center=function(t){return arguments.length?(g=t[0]%360*T,d=t[1]%360*T,w()):[g*R,d*R]},S.rotate=function(t){return arguments.length?(y=t[0]%360*T,_=t[1]%360*T,m=2<t.length?t[2]%360*T:0,w()):[y*R,_*R,m*R]},S.precision=function(t){return arguments.length?(C=Wn(L,N=t*t),O()):A(N)},S.fitExtent=function(t,e){return Yn(S,t,e)},S.fitSize=function(t,e){return Hn(S,t,e)},function(){return n=t.apply(this,arguments),S.invert=n.invert&&b,w()}}function $n(t){var e=0,n=b/3,i=Zn(t),t=i(e,n);return t.parallels=function(t){return arguments.length?i(e=t[0]*T,n=t[1]*T):[e*R,n*R]},t}function ti(t,e){var n,i,r,o=O(t),s=(o+O(e))/2;return M(s)<P?(n=w(t),a.invert=function(t,e){return[t/n,F(e*n)]},a):(r=A(i=1+o*(2*s-o))/s,u.invert=function(t,e){e=r-e;return[D(t,M(e))/s*X(e),F((i-(t*t+e*e)*s*s)/(2*s))]},u);function a(t,e){return[t*n,O(e)/n]}function u(t,e){e=A(i-2*s*O(e))/s;return[e*O(t*=s),r-e*w(t)]}}function ei(){return $n(ti).scale(155.424).center([0,33.6442])}function ni(){return ei().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ii(r){return function(t,e){var n=w(t),i=w(e),n=r(n*i);return[n*i*O(t),n*O(e)]}}function ri(o){return function(t,e){var n=A(t*t+e*e),i=o(n),r=O(i),i=w(i);return[D(t*r,n*i),F(n&&e*r/n)]}}var oi=ii(function(t){return A(2/(1+t))}),si=(oi.invert=ri(function(t){return 2*F(t/2)}),ii(function(t){return(t=H(t))&&t/O(t)}));si.invert=ri(function(t){return t});function ai(t,e){return[t,k(Y((g+e)/2))]}ai.invert=function(t,e){return[t,2*U(z(e))-g]};function ui(n){var i,r,o,s=S(n),e=s.center,a=s.scale,u=s.translate,c=s.clipExtent,l=null;function p(){var t=b*a(),e=s(ae(s.rotate()).invert([0,0]));return c(null==l?[[e[0]-t,e[1]-t],[e[0]+t,e[1]+t]]:n===ai?[[Math.max(e[0]-t,l),i],[Math.min(e[0]+t,r),o]]:[[l,Math.max(e[1]-t,i)],[r,Math.min(e[1]+t,o)]])}return s.scale=function(t){return(arguments.length?(a(t),p):a)()},s.translate=function(t){return(arguments.length?(u(t),p):u)()},s.center=function(t){return(arguments.length?(e(t),p):e)()},s.clipExtent=function(t){return arguments.length?(null==t?l=i=r=o=null:(l=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),p()):null==l?null:[[l,i],[r,o]]},p()}function ci(t){return Y((g+t)/2)}function li(t,e){var n=w(t),i=t===e?O(t):k(n/w(e))/k(ci(e)/ci(t)),r=n*j(ci(t),i)/i;return i?(o.invert=function(t,e){var e=r-e,n=X(i)*A(t*t+e*e);return[D(t,M(e))/i*X(e),2*U(j(r/n,1/i))-g]},o):ai;function o(t,e){0<r?e<-g+P&&(e=-g+P):g-P<e&&(e=g-P);e=r/j(ci(e),i);return[e*O(i*t),r-e*w(i*t)]}}function pi(t,e){return[t,e]}pi.invert=pi;function hi(t,e){var n=w(t),i=t===e?O(t):(n-w(e))/(e-t),r=n/i+t;return M(i)<P?pi:(o.invert=function(t,e){e=r-e;return[D(t,M(e))/i*X(e),r-X(i)*A(t*t+e*e)]},o);function o(t,e){e=r-e,t*=i;return[e*O(t),r-e*w(t)]}}function fi(t,e){var n=w(e),i=w(t)*n;return[n*O(t)/i,O(e)/i]}fi.invert=ri(U);function gi(n,i,r,o){return 1===n&&1===i&&0===r&&0===o?We:jn({point:function(t,e){this.stream.point(t*n+r,e*i+o)}})}function di(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}di.invert=function(t,e){var n=e,i=25;do{var r=n*n,o=r*r}while(n-=o=(n*(1.007226+r*(.015085+o*(.028874*r-.044475-.005916*o)))-e)/(1.007226+r*(.045255+o*(.259866*r-.311325-.005916*11*o))),M(o)>P&&0<--i);return[t/(.8707+(r=n*n)*(r*(r*r*r*(.003971-.001529*r)-.013791)-.131979)),n]};function yi(t,e){return[w(e)*O(t),O(e)]}yi.invert=ri(F);function _i(t,e){var n=w(e),i=1+w(t)*n;return[n*O(t)/i,O(e)/i]}_i.invert=ri(function(t){return 2*U(t)});function mi(t,e){return[k(Y((g+e)/2)),-t]}mi.invert=function(t,e){return[-e,2*U(z(t))-g]};t.geoArea=function(t){return st.reset(),u(t,r),2*st},t.geoBounds=function(t){var e,n,i,r,o,s,a;if(h=p=-(c=l=1/0),d=[],u(t,_),n=d.length){for(d.sort(Ot),e=1,o=[i=d[0]];e<n;++e)Pt(i,(r=d[e])[0])||Pt(i,r[1])?(m(i[0],r[1])>m(i[0],i[1])&&(i[1]=r[1]),m(r[0],i[1])>m(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-1/0,e=0,i=o[n=o.length-1];e<=n;i=r,++e)(a=m(i[1],(r=o[e])[0]))>s&&(s=a,c=r[0],p=i[1])}return d=y=null,c===1/0||l===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,l],[p,h]]},t.geoCentroid=function(t){Rt=Tt=Mt=Dt=At=Ft=Gt=qt=Bt=Ut=Vt=0,u(t,o);var t=Bt,e=Ut,n=Vt,i=t*t+e*e+n*n;return i<1e-12&&(t=Ft,e=Gt,n=qt,Tt<P&&(t=Mt,e=Dt,n=At),(i=t*t+e*e+n*n)<1e-12)?[NaN,NaN]:[D(e,t)*R,F(n/A(i))*R]},t.geoCircle=function(){var i,r,o=te([0,0]),s=te(90),a=te(6),u={point:function(t,e){i.push(t=r(t,e)),t[0]*=R,t[1]*=R}};function e(){var t=o.apply(this,arguments),e=s.apply(this,arguments)*T,n=a.apply(this,arguments)*T;return i=[],r=ie(-t[0]*T,-t[1]*T,0).invert,ue(u,e,n,1),t={type:"Polygon",coordinates:[i]},i=r=null,t}return e.center=function(t){return arguments.length?(o="function"==typeof t?t:te([+t[0],+t[1]]),e):o},e.radius=function(t){return arguments.length?(s="function"==typeof t?t:te(+t),e):s},e.precision=function(t){return arguments.length?(a="function"==typeof t?t:te(+t),e):a},e},t.geoClipExtent=function(){var e,n,i,r=0,o=0,s=960,a=500;return i={stream:function(t){return e&&n===t?e:e=me(r,o,s,a)(n=t)},extent:function(t){return arguments.length?(r=+t[0][0],o=+t[0][1],s=+t[1][0],a=+t[1][1],e=n=null,i):[[r,o],[s,a]]}}},t.geoContains=function(t,e){return(t&&Me.hasOwnProperty(t.type)?Me[t.type]:Ae)(t,e)},t.geoDistance=Oe,t.geoGraticule=ke,t.geoGraticule10=function(){return ke()()},t.geoInterpolate=function(t,e){var n=t[0]*T,i=t[1]*T,t=e[0]*T,e=e[1]*T,r=w(i),o=O(i),s=w(e),a=O(e),u=r*w(n),c=r*O(n),l=s*w(t),p=s*O(t),h=2*F(A(W(e-i)+r*s*W(t-n))),f=O(h),e=h?function(t){var e=O(t*=h)/f,t=O(h-t)/f,n=t*u+e*l,i=t*c+e*p,t=t*o+e*a;return[D(i,n)*R,D(t,A(n*n+i*i))*R]}:function(){return[n*R,i*R]};return e.distance=h,e},t.geoLength=Pe,t.geoPath=function(e,n){var i,r,o=4.5;function s(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),u(t,i(r))),r.result()}return s.area=function(t){return u(t,i(a)),a.result()},s.measure=function(t){return u(t,i(Dn)),Dn.result()},s.bounds=function(t){return u(t,i(sn)),sn.result()},s.centroid=function(t){return u(t,i(N)),N.result()},s.projection=function(t){return arguments.length?(i=null==t?(e=null,We):(e=t).stream,s):e},s.context=function(t){return arguments.length?(r=null==t?(n=null,new Gn):new Ln(n=t),"function"!=typeof o&&r.pointRadius(o),s):n},s.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),s):o},s.projection(e).context(n)},t.geoAlbers=ni,t.geoAlbersUsa=function(){var e,n,r,o,s,i,a=ni(),u=ei().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=ei().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){i=[t,e]}};function p(t){var e=t[0],t=t[1];return i=null,r.point(e,t),i||(o.point(e,t),i)||(s.point(e,t),i)}function h(){return e=n=null,p}return p.invert=function(t){var e=a.scale(),n=a.translate(),i=(t[0]-n[0])/e,n=(t[1]-n[1])/e;return(.12<=n&&n<.234&&-.425<=i&&i<-.214?u:.166<=n&&n<.234&&-.214<=i&&i<-.115?c:a).invert(t)},p.stream=function(t){return e&&n===t?e:(i=[a.stream(n=t),u.stream(t),c.stream(t)],r=i.length,e={point:function(t,e){for(var n=-1;++n<r;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<r;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)i[t].polygonEnd()}});var i,r},p.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),c.precision(t),h()):a.precision()},p.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),c.scale(t),p.translate(a.translate())):a.scale()},p.translate=function(t){var e,n,i;return arguments.length?(e=a.scale(),n=+t[0],i=+t[1],r=a.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(l),o=u.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+P,i+.12*e+P],[n-.214*e-P,i+.234*e-P]]).stream(l),s=c.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+P,i+.166*e+P],[n-.115*e-P,i+.234*e-P]]).stream(l),h()):a.translate()},p.fitExtent=function(t,e){return Yn(p,t,e)},p.fitSize=function(t,e){return Hn(p,t,e)},p.scale(1070)},t.geoAzimuthalEqualArea=function(){return S(oi).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=oi,t.geoAzimuthalEquidistant=function(){return S(si).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=si,t.geoConicConformal=function(){return $n(li).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=li,t.geoConicEqualArea=ei,t.geoConicEqualAreaRaw=ti,t.geoConicEquidistant=function(){return $n(hi).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=hi,t.geoEquirectangular=function(){return S(pi).scale(152.63)},t.geoEquirectangularRaw=pi,t.geoGnomonic=function(){return S(fi).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=fi,t.geoIdentity=function(){var e,n,i,r,o,s,a=1,u=0,c=0,l=1,p=1,h=We,f=null,g=We;function d(){return r=o=null,s}return s={stream:function(t){return r&&o===t?r:r=h(g(o=t))},clipExtent:function(t){return arguments.length?(g=null==t?(f=e=n=i=null,We):me(f=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),d()):null==f?null:[[f,e],[n,i]]},scale:function(t){return arguments.length?(h=gi((a=+t)*l,a*p,u,c),d()):a},translate:function(t){return arguments.length?(h=gi(a*l,a*p,u=+t[0],c=+t[1]),d()):[u,c]},reflectX:function(t){return arguments.length?(h=gi(a*(l=t?-1:1),a*p,u,c),d()):l<0},reflectY:function(t){return arguments.length?(h=gi(a*l,a*(p=t?-1:1),u,c),d()):p<0},fitExtent:function(t,e){return Yn(s,t,e)},fitSize:function(t,e){return Hn(s,t,e)}}},t.geoProjection=S,t.geoProjectionMutator=Zn,t.geoMercator=function(){return ui(ai).scale(961/L)},t.geoMercatorRaw=ai,t.geoNaturalEarth1=function(){return S(di).scale(175.295)},t.geoNaturalEarth1Raw=di,t.geoOrthographic=function(){return S(yi).scale(249.5).clipAngle(90+P)},t.geoOrthographicRaw=yi,t.geoStereographic=function(){return S(_i).scale(250).clipAngle(142)},t.geoStereographicRaw=_i,t.geoTransverseMercator=function(){var t=ui(mi),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=mi,t.geoRotation=ae,t.geoStream=u,t.geoTransform=function(t){return{stream:jn(t)}},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?r(n,t("d3-array")):r(i.d3=i.d3||{},i.d3)},{"d3-array":5}],7:[function(t,e,n){var i;i=this,function(F){"use strict";function G(){}function q(t){this.message=t||""}function B(t){this.message=t||""}function U(t){this.message=t||""}function V(){}function z(t){return null===t?0:t.color}function n(t){return null===t?null:t.parent}function k(t,e){null!==t&&(t.color=e)}function j(t){return null===t?null:t.left}function X(t){return null===t?null:t.right}function Y(){this.root_=null,this.size_=0}function H(){}function W(){this.array_=[],arguments[0]instanceof Ft&&this.addAll(arguments[0])}function K(t){this.message=t||""}function J(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");for(var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,i=((i=1 in arguments&&parseInt(Number(arguments[1]),10)||0)<0?Math.max(n+i,0):Math.min(i,n)),r=((r=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n)<0?Math.max(n+arguments[2],0):Math.min(r,n));i<r;)e[i]=t,++i;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function Q(){}function c(){}Q.prototype.interfaces_=function(){return[]},Q.prototype.getClass=function(){return Q},Q.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n},(Z=Error)&&($.__proto__=Z);var Z,p=($.prototype=Object.create(Z&&Z.prototype)).constructor=$,t={MAX_VALUE:{configurable:!0}};function $(t){Z.call(this,t),this.name="IllegalArgumentException",this.message=t,this.stack=(new Z).stack}c.isNaN=function(t){return Number.isNaN(t)},c.doubleToLongBits=function(t){return t},c.longBitsToDouble=function(t){return t},c.isInfinite=function(t){return!Number.isFinite(t)},t.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(c,t);function tt(){}function et(){}function nt(){}function m(){var t;this.x=null,this.y=null,this.z=null,0===arguments.length?(this.x=0,this.y=0,this.z=m.NULL_ORDINATE):1===arguments.length?(this.x=(t=arguments[0]).x,this.y=t.y,this.z=t.z):2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=m.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])}function it(){}function h(){}function y(t,e){return t.interfaces_&&-1<t.interfaces_().indexOf(e)}function rt(){}function ot(t){this.str=t}function st(t){this.value=t}function at(){}function f(){this._hi=0,(this._lo=0)===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof f?this.init(arguments[0]):"string"==typeof arguments[0]&&f.call(this,f.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])}function ut(){}function g(){}function ct(){}function lt(){}var pt,t={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}},ht=(m.prototype.setOrdinate=function(t,e){switch(t){case m.X:this.x=e;break;case m.Y:this.y=e;break;case m.Z:this.z=e;break;default:throw new p("Invalid ordinate index: "+t)}},m.prototype.equals2D=function(){var t,e;return 1===arguments.length?this.x===(t=arguments[0]).x&&this.y===t.y:2===arguments.length?!!Q.equalsWithTolerance(this.x,(t=arguments[0]).x,e=arguments[1])&&!!Q.equalsWithTolerance(this.y,t.y,e):void 0},m.prototype.getOrdinate=function(t){switch(t){case m.X:return this.x;case m.Y:return this.y;case m.Z:return this.z}throw new p("Invalid ordinate index: "+t)},m.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||c.isNaN(this.z))&&c.isNaN(t.z)},m.prototype.equals=function(t){return t instanceof m&&this.equals2D(t)},m.prototype.equalInZ=function(t,e){return Q.equalsWithTolerance(this.z,t.z,e)},m.prototype.compareTo=function(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},m.prototype.clone=function(){},m.prototype.copy=function(){return new m(this)},m.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},m.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,t=this.z-t.z;return Math.sqrt(e*e+n*n+t*t)},m.prototype.distance=function(t){var e=this.x-t.x,t=this.y-t.y;return Math.sqrt(e*e+t*t)},m.prototype.hashCode=function(){return 37*(629+m.hashCode(this.x))+m.hashCode(this.y)},m.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},m.prototype.interfaces_=function(){return[tt,et,G]},m.prototype.getClass=function(){return m},m.hashCode=function(){var t;if(1===arguments.length)return t=c.doubleToLongBits(arguments[0]),Math.trunc((t^t)>>>32)},t.DimensionalComparator.get=function(){return ht},t.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},t.NULL_ORDINATE.get=function(){return c.NaN},t.X.get=function(){return 0},t.Y.get=function(){return 1},t.Z.get=function(){return 2},Object.defineProperties(m,t),function(t){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){if(2!==t&&3!==t)throw new p("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}}),t=(ht.prototype.compare=function(t,e){var n=ht.compare(t.x,e.x);return 0!==n||0!==(n=ht.compare(t.y,e.y))?n:this._dimensionsToTest<=2?0:ht.compare(t.z,e.z)},ht.prototype.interfaces_=function(){return[nt]},ht.prototype.getClass=function(){return ht},ht.compare=function(t,e){return t<e?-1:e<t?1:c.isNaN(t)?c.isNaN(e)?0:-1:c.isNaN(e)?1:0},it.prototype.create=function(){},it.prototype.interfaces_=function(){return[]},it.prototype.getClass=function(){return it},{INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}}),t=(h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h},h.toLocationSymbol=function(t){switch(t){case h.EXTERIOR:return"e";case h.BOUNDARY:return"b";case h.INTERIOR:return"i";case h.NONE:return"-"}throw new p("Unknown location value: "+t)},t.INTERIOR.get=function(){return 0},t.BOUNDARY.get=function(){return 1},t.EXTERIOR.get=function(){return 2},t.NONE.get=function(){return-1},Object.defineProperties(h,t),{LOG_10:{configurable:!0}}),t=(rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt.log10=function(t){t=Math.log(t);return c.isInfinite(t)||c.isNaN(t)?t:t/rt.LOG_10},rt.min=function(t,e,n,i){return t=i<(t=n<(t=e<t?e:t)?n:t)?i:t},rt.clamp=function(){var t,e,n;return"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]?(n=arguments[0],t=arguments[1],e=arguments[2],n<t?t:e<n?e:n):Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])?(t=arguments[0],e=arguments[1],n=arguments[2],t<e?e:n<t?n:t):void 0},rt.wrap=function(t,e){return t<0?e- -t%e:t%e},rt.max=function(){var t,e,n;return 3===arguments.length?(t=(t=n=arguments[0])<(e=arguments[1])?e:n)<(e=arguments[2])?e:t:4===arguments.length?(n=(n=(n=arguments[0])<(e=arguments[1])?e:n)<(t=arguments[2])?t:n)<(e=arguments[3])?e:n:void 0},rt.average=function(t,e){return(t+e)/2},t.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(rt,t),ot.prototype.append=function(t){this.str+=t},ot.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},ot.prototype.toString=function(t){return this.str},st.prototype.intValue=function(){return this.value},st.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},st.isNaN=function(t){return Number.isNaN(t)},at.isWhitespace=function(t){return t<=32&&0<=t||127===t},at.toUpperCase=function(t){return t.toUpperCase()},{PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}}),t=(f.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},f.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),i=f.magnitude(n._hi),r=f.TEN.pow(i);(n=n.divide(r)).gt(f.TEN)?(n=n.divide(f.TEN),i+=1):n.lt(f.ONE)&&(n=n.multiply(f.TEN),--i);for(var o=i+1,s=new ot,a=f.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(".");var c=Math.trunc(n._hi);if(c<0)break;var l=!1,p=0,p=9<c?(l=!0,"9"):"0"+c,p=(s.append(p),n=n.subtract(f.valueOf(c)).multiply(f.TEN),l&&n.selfAdd(f.TEN),!0),c=f.magnitude(n._hi);if(!(p=c<0&&Math.abs(c)>=a-u?!1:p))break}return e[0]=i,s.toString()},f.prototype.sqr=function(){return this.multiply(this)},f.prototype.doubleValue=function(){return this._hi+this._lo},f.prototype.subtract=function(){return arguments[0]instanceof f?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},f.prototype.equals=function(){var t;if(1===arguments.length)return this._hi===(t=arguments[0])._hi&&this._lo===t._lo},f.prototype.isZero=function(){return 0===this._hi&&0===this._lo},f.prototype.selfSubtract=function(){var t;return arguments[0]instanceof f?(t=arguments[0],this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)):"number"==typeof arguments[0]?(t=arguments[0],this.isNaN()?this:this.selfAdd(-t,0)):void 0},f.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},f.prototype.min=function(t){return this.le(t)?this:t},f.prototype.selfDivide=function(){var t,e,n,i,r,o,s,a,u;return 1===arguments.length?arguments[0]instanceof f?this.selfDivide((a=arguments[0])._hi,a._lo):"number"==typeof arguments[0]?this.selfDivide(arguments[0],0):void 0:2===arguments.length?(u=r=s=o=i=n=e=a=null,o=this._hi/(t=arguments[0]),s=(this._hi-(r=o*t)-(u=(a=(s=f.SPLIT*o)-(a=s-o))*(n=(u=f.SPLIT*t)-(n=u-t))-r+a*(i=t-n)+(e=o-a)*n+e*i)+this._lo-o*arguments[1])/t,this._hi=u=o+s,this._lo=o-u+s,this):void 0},f.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},f.prototype.divide=function(){var t,e,n,i,r,o,s,a,u;return arguments[0]instanceof f?(s=r=a=i=n=e=o=u=null,o=(i=this._hi/(t=arguments[0])._hi)-(u=(a=f.SPLIT*i)-(a-i)),s=u*(e=(s=f.SPLIT*t._hi)-(s-t._hi))-(r=i*t._hi)+u*(n=t._hi-e)+o*e+o*n,a=(this._hi-r-s+this._lo-i*t._lo)/t._hi,new f(s=i+a,i-s+a)):"number"==typeof arguments[0]?c.isNaN(u=arguments[0])?f.createNaN():f.copy(this).selfDivide(u,0):void 0},f.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},f.prototype.pow=function(t){if(0===t)return f.valueOf(1);var e=new f(this),n=f.valueOf(1),i=Math.abs(t);if(1<i)for(;0<i;)i%2==1&&n.selfMultiply(e),0<(i/=2)&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},f.prototype.ceil=function(){var t,e;return this.isNaN()?f.NaN:(e=0,(t=Math.ceil(this._hi))===this._hi&&(e=Math.ceil(this._lo)),new f(t,e))},f.prototype.compareTo=function(t){return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},f.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},f.prototype.setValue=function(){return arguments[0]instanceof f||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},f.prototype.max=function(t){return this.ge(t)?this:t},f.prototype.sqrt=function(){var t,e;return this.isZero()?f.valueOf(0):this.isNegative()?f.NaN:(e=1/Math.sqrt(this._hi),t=this._hi*e,t=f.valueOf(t),e=this.subtract(t.sqr())._hi*(.5*e),t.add(e))},f.prototype.selfAdd=function(){var t,e,n,i,r,o,s,a,u;return 1===arguments.length?arguments[0]instanceof f?this.selfAdd((n=arguments[0])._hi,n._lo):"number"==typeof arguments[0]?(s=o=r=u=n=null,s=(e=arguments[0])-(o=(r=this._hi+e)-this._hi)+(this._hi-(r-o))+this._lo,this._hi=(n=r+s)+(u=s+(r-n)),this._lo=u+(n-this._hi),this):void 0:2===arguments.length?(i=n=u=r=s=o=e=null,r=this._hi+(a=arguments[0]),o=this._lo+(t=arguments[1]),u=r-(n=r-this._hi),s=o-(i=o-this._lo),a=(e=r+(n=(u=a-n+(this._hi-u))+o))+(n=(s=t-i+(this._lo-s))+(n+(r-e))),u=n+(e-a),this._hi=a,this._lo=u,this):void 0},f.prototype.selfMultiply=function(){var t,e,n,i,r,o,s;return 1===arguments.length?arguments[0]instanceof f?this.selfMultiply((i=arguments[0])._hi,i._lo):"number"==typeof arguments[0]?this.selfMultiply(arguments[0],0):void 0:2===arguments.length?(r=n=e=o=s=i=null,i=(n=f.SPLIT*this._hi)-this._hi,s=this._hi-(i=n-i),o=(n=this._hi*(t=arguments[0]))+(r=i*(o=(r=f.SPLIT*t)-(o=r-t))-n+i*(e=t-o)+s*o+s*e+(this._hi*arguments[1]+this._lo*t)),s=r+(i=n-o),this._hi=o,this._lo=s,this):void 0},f.prototype.selfSqr=function(){return this.selfMultiply(this)},f.prototype.floor=function(){var t,e;return this.isNaN()?f.NaN:(e=0,(t=Math.floor(this._hi))===this._hi&&(e=Math.floor(this._lo)),new f(t,e))},f.prototype.negate=function(){return this.isNaN()?this:new f(-this._hi,-this._lo)},f.prototype.clone=function(){},f.prototype.multiply=function(){var t;return arguments[0]instanceof f?(t=arguments[0]).isNaN()?f.createNaN():f.copy(this).selfMultiply(t):"number"==typeof arguments[0]?c.isNaN(t=arguments[0])?f.createNaN():f.copy(this).selfMultiply(t,0):void 0},f.prototype.isNaN=function(){return c.isNaN(this._hi)},f.prototype.intValue=function(){return Math.trunc(this._hi)},f.prototype.toString=function(){var t=f.magnitude(this._hi);return-3<=t&&t<=20?this.toStandardNotation():this.toSciNotation()},f.prototype.toStandardNotation=function(){var t,e,n=this.getSpecialNumberString();return null!==n?n:(n=new Array(1).fill(null),t=this.extractSignificantDigits(!0,n),n=n[0]+1,"."===(e=t).charAt(0)?e="0"+t:n<0?e="0."+f.stringOfChar("0",-n)+t:-1===t.indexOf(".")&&(n=n-t.length,e=t+f.stringOfChar("0",n)+".0"),this.isNegative()?"-"+e:e)},f.prototype.reciprocal=function(){var t,e,n,i=null,r=(t=1/this._hi)-(i=(e=f.SPLIT*t)-(e-t)),o=(n=f.SPLIT*this._hi)-this._hi,s=t+(e=(1-(s=t*this._hi)-(i*(o=n-o)-s+i*(n=this._hi-o)+r*o+r*n)-t*this._lo)/this._hi);return new f(s,t-s+e)},f.prototype.toSciNotation=function(){if(this.isZero())return f.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var t=new Array(1).fill(null),e=this.extractSignificantDigits(!1,t),t=f.SCI_NOT_EXPONENT_CHAR+t[0];if("0"===e.charAt(0))throw new Error("Found leading zero: "+e);var n="",e=(1<e.length&&(n=e.substring(1)),e.charAt(0)+"."+n);return this.isNegative()?"-"+e+t:e+t},f.prototype.abs=function(){return this.isNaN()?f.NaN:this.isNegative()?this.negate():new f(this)},f.prototype.isPositive=function(){return(0<this._hi||0===this._hi)&&0<this._lo},f.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},f.prototype.add=function(){var t;return arguments[0]instanceof f||"number"==typeof arguments[0]?(t=arguments[0],f.copy(this).selfAdd(t)):void 0},f.prototype.init=function(){var t,e;1===arguments.length?"number"==typeof arguments[0]?(this._hi=arguments[0],this._lo=0):arguments[0]instanceof f&&(this._hi=(t=arguments[0])._hi,this._lo=t._lo):2===arguments.length&&(t=arguments[0],e=arguments[1],this._hi=t,this._lo=e)},f.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},f.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},f.prototype.trunc=function(){return this.isNaN()?f.NaN:this.isPositive()?this.floor():this.ceil()},f.prototype.signum=function(){return 0<this._hi?1:this._hi<0?-1:0<this._lo?1:this._lo<0?-1:0},f.prototype.interfaces_=function(){return[G,tt,et]},f.prototype.getClass=function(){return f},f.sqr=function(t){return f.valueOf(t).selfMultiply(t)},f.valueOf=function(){return"string"==typeof arguments[0]?f.parse(arguments[0]):"number"==typeof arguments[0]?new f(arguments[0]):void 0},f.sqrt=function(t){return f.valueOf(t).sqrt()},f.parse=function(t){for(var e=0,n=t.length;at.isWhitespace(t.charAt(e));)e++;var i=!1;e<n&&("-"!==(p=t.charAt(e))&&"+"!==p||(e++,"-"===p&&(i=!0)));for(var r=new f,o=0,s=0,a=0;!(n<=e);){var u=t.charAt(e);if(e++,at.isDigit(u)){var c=u-"0";r.selfMultiply(f.TEN),r.selfAdd(c),o++}else{if("."!==u){if("e"!==u&&"E"!==u)throw new Error("Unexpected character '"+u+"' at position "+e+" in string "+t);c=t.substring(e);try{a=st.parseInt(c)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+c+" in string "+t):e}break}s=o}}var l,p=r,h=o-s-a;return 0==h?p=r:0<h?(l=f.TEN.pow(h),p=r.divide(l)):h<0&&(l=f.TEN.pow(-h),p=r.multiply(l)),i?p.negate():p},f.createNaN=function(){return new f(c.NaN,c.NaN)},f.copy=function(t){return new f(t)},f.magnitude=function(t){var t=Math.abs(t),e=Math.log(t)/Math.log(10),e=Math.trunc(Math.floor(e));return 10*Math.pow(10,e)<=t&&(e+=1),e},f.stringOfChar=function(t,e){for(var n=new ot,i=0;i<e;i++)n.append(t);return n.toString()},t.PI.get=function(){return new f(3.141592653589793,12246467991473532e-32)},t.TWO_PI.get=function(){return new f(6.283185307179586,24492935982947064e-32)},t.PI_2.get=function(){return new f(1.5707963267948966,6123233995736766e-32)},t.E.get=function(){return new f(2.718281828459045,14456468917292502e-32)},t.NaN.get=function(){return new f(c.NaN,c.NaN)},t.EPS.get=function(){return 123259516440783e-46},t.SPLIT.get=function(){return 134217729},t.MAX_PRINT_DIGITS.get=function(){return 32},t.TEN.get=function(){return f.valueOf(10)},t.ONE.get=function(){return f.valueOf(1)},t.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},t.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(f,t),{DP_SAFE_EPSILON:{configurable:!0}}),t=(ut.prototype.interfaces_=function(){return[]},ut.prototype.getClass=function(){return ut},ut.orientationIndex=function(t,e,n){var i,r=ut.orientationIndexFilter(t,e,n);return r<=1?r:(r=f.valueOf(e.x).selfAdd(-t.x),t=f.valueOf(e.y).selfAdd(-t.y),i=f.valueOf(n.x).selfAdd(-e.x),n=f.valueOf(n.y).selfAdd(-e.y),r.selfMultiply(n).selfSubtract(t.selfMultiply(i)).signum())},ut.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},ut.intersection=function(t,e,n,i){var r=f.valueOf(i.y).selfSubtract(n.y).selfMultiply(f.valueOf(e.x).selfSubtract(t.x)),o=f.valueOf(i.x).selfSubtract(n.x).selfMultiply(f.valueOf(e.y).selfSubtract(t.y)),r=r.subtract(o),o=f.valueOf(i.x).selfSubtract(n.x).selfMultiply(f.valueOf(t.y).selfSubtract(n.y)),s=f.valueOf(i.y).selfSubtract(n.y).selfMultiply(f.valueOf(t.x).selfSubtract(n.x)),o=o.subtract(s).selfDivide(r).doubleValue(),s=f.valueOf(t.x).selfAdd(f.valueOf(e.x).selfSubtract(t.x).selfMultiply(o)).doubleValue(),o=f.valueOf(e.x).selfSubtract(t.x).selfMultiply(f.valueOf(t.y).selfSubtract(n.y)),e=f.valueOf(e.y).selfSubtract(t.y).selfMultiply(f.valueOf(t.x).selfSubtract(n.x)),t=o.subtract(e).selfDivide(r).doubleValue(),o=f.valueOf(n.y).selfAdd(f.valueOf(i.y).selfSubtract(n.y).selfMultiply(t)).doubleValue();return new m(s,o)},ut.orientationIndexFilter=function(t,e,n){var i=null,r=(t.x-n.x)*(e.y-n.y),t=(t.y-n.y)*(e.x-n.x),e=r-t;if(0<r){if(t<=0)return ut.signum(e);i=r+t}else{if(!(r<0))return ut.signum(e);if(0<=t)return ut.signum(e);i=-r-t}n=ut.DP_SAFE_EPSILON*i;return n<=e||n<=-e?ut.signum(e):2},ut.signum=function(t){return 0<t?1:t<0?-1:0},t.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(ut,t),{X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}}),ft=(t.X.get=function(){return 0},t.Y.get=function(){return 1},t.Z.get=function(){return 2},t.M.get=function(){return 3},g.prototype.setOrdinate=function(t,e,n){},g.prototype.size=function(){},g.prototype.getOrdinate=function(t,e){},g.prototype.getCoordinate=function(){},g.prototype.getCoordinateCopy=function(t){},g.prototype.getDimension=function(){},g.prototype.getX=function(t){},g.prototype.clone=function(){},g.prototype.expandEnvelope=function(t){},g.prototype.copy=function(){},g.prototype.getY=function(t){},g.prototype.toCoordinateArray=function(){},g.prototype.interfaces_=function(){return[et]},g.prototype.getClass=function(){return g},Object.defineProperties(g,t),(pt=ct)&&(gt.__proto__=pt),((gt.prototype=Object.create(pt&&pt.prototype)).constructor=gt).prototype.interfaces_=function(){return[]},gt.prototype.getClass=function(){return gt},gt);function gt(){pt.call(this,"Projective point not representable on the Cartesian plane.")}lt.arraycopy=function(t,e,n,i,r){for(var o=0,s=e;s<e+r;s++)n[i+o]=t[s],o++},lt.getProperty=function(t){return{"line.separator":"\n"}[t]};function dt(){var t,e,n,i,r,o,s;this.x=null,this.y=null,this.w=null,0===arguments.length?(this.x=0,this.y=0,this.w=1):1===arguments.length?(this.x=(t=arguments[0]).x,this.y=t.y,this.w=1):2===arguments.length?"number"==typeof arguments[0]&&"number"==typeof arguments[1]?(t=arguments[0],i=arguments[1],this.x=t,this.y=i,this.w=1):arguments[0]instanceof dt&&arguments[1]instanceof dt?(this.x=(t=arguments[0]).y*(i=arguments[1]).w-i.y*t.w,this.y=i.x*t.w-t.x*i.w,this.w=t.x*i.y-i.x*t.y):arguments[0]instanceof m&&arguments[1]instanceof m&&(this.x=(i=arguments[0]).y-(t=arguments[1]).y,this.y=t.x-i.x,this.w=i.x*t.y-t.x*i.y):3===arguments.length?(t=arguments[0],i=arguments[1],e=arguments[2],this.x=t,this.y=i,this.w=e):4===arguments.length&&(e=(t=arguments[0]).y-(i=arguments[1]).y,n=i.x-t.x,i=t.x*i.y-i.x*t.y,r=(t=arguments[2]).y-(s=arguments[3]).y,o=s.x-t.x,s=t.x*s.y-s.x*t.y,this.x=n*s-o*i,this.y=r*i-e*s,this.w=e*o-r*n)}function u(){var t,e;this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length?this.init():1===arguments.length?arguments[0]instanceof m?this.init((t=arguments[0]).x,t.x,t.y,t.y):arguments[0]instanceof u&&this.init(arguments[0]):2===arguments.length?this.init((t=arguments[0]).x,(e=arguments[1]).x,t.y,e.y):4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])}dt.prototype.getY=function(){var t=this.y/this.w;if(c.isNaN(t)||c.isInfinite(t))throw new ft;return t},dt.prototype.getX=function(){var t=this.x/this.w;if(c.isNaN(t)||c.isInfinite(t))throw new ft;return t},dt.prototype.getCoordinate=function(){var t=new m;return t.x=this.getX(),t.y=this.getY(),t},dt.prototype.interfaces_=function(){return[]},dt.prototype.getClass=function(){return dt},dt.intersection=function(t,e,n,i){var r=t.y-e.y,o=e.x-t.x,e=t.x*e.y-e.x*t.y,t=n.y-i.y,s=i.x-n.x,i=n.x*i.y-i.x*n.y,n=r*s-t*o,o=(o*i-s*e)/n,s=(t*e-r*i)/n;if(c.isNaN(o)||c.isInfinite(o)||c.isNaN(s)||c.isInfinite(s))throw new ft;return new m(o,s)};function yt(t){this.geometryFactory=t||new x}function _t(t){this.parser=new yt(t)}function d(){}var mt,vt,t={serialVersionUID:{configurable:!0}},Et=(u.prototype.getArea=function(){return this.getWidth()*this.getHeight()},u.prototype.equals=function(t){return t instanceof u&&(t=t,this.isNull()?t.isNull():this._maxx===t.getMaxX()&&this._maxy===t.getMaxY()&&this._minx===t.getMinX()&&this._miny===t.getMinY())},u.prototype.intersection=function(t){var e,n,i;return this.isNull()||t.isNull()||!this.intersects(t)?new u:(e=(this._minx>t._minx?this:t)._minx,n=(this._miny>t._miny?this:t)._miny,i=(this._maxx<t._maxx?this:t)._maxx,t=(this._maxy<t._maxy?this:t)._maxy,new u(e,i,n,t))},u.prototype.isNull=function(){return this._maxx<this._minx},u.prototype.getMaxX=function(){return this._maxx},u.prototype.covers=function(){var t,e;return 1===arguments.length?arguments[0]instanceof m?this.covers((t=arguments[0]).x,t.y):arguments[0]instanceof u?(t=arguments[0],!this.isNull()&&!t.isNull()&&t.getMinX()>=this._minx&&t.getMaxX()<=this._maxx&&t.getMinY()>=this._miny&&t.getMaxY()<=this._maxy):void 0:2===arguments.length?(t=arguments[0],e=arguments[1],!this.isNull()&&t>=this._minx&&t<=this._maxx&&e>=this._miny&&e<=this._maxy):void 0},u.prototype.intersects=function(){var t,e;return 1===arguments.length?arguments[0]instanceof u?(t=arguments[0],!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)):arguments[0]instanceof m?this.intersects((t=arguments[0]).x,t.y):void 0:2===arguments.length?(t=arguments[0],e=arguments[1],!this.isNull()&&!(t>this._maxx||t<this._minx||e>this._maxy||e<this._miny)):void 0},u.prototype.getMinY=function(){return this._miny},u.prototype.getMinX=function(){return this._minx},u.prototype.expandToInclude=function(){var t;if(1===arguments.length){if(arguments[0]instanceof m){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof u){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else 2===arguments.length&&(e=arguments[0],t=arguments[1],this.isNull()?(this._minx=e,this._maxx=e,this._miny=t,this._maxy=t):(e<this._minx&&(this._minx=e),e>this._maxx&&(this._maxx=e),t<this._miny&&(this._miny=t),t>this._maxy&&(this._maxy=t)))},u.prototype.minExtent=function(){var t,e;return this.isNull()?0:(t=this.getWidth())<(e=this.getHeight())?t:e},u.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},u.prototype.compareTo=function(t){return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0},u.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},u.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},u.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},u.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},u.prototype.maxExtent=function(){var t,e;return this.isNull()?0:(t=this.getWidth(),(e=this.getHeight())<t?t:e)},u.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var t=arguments[0],e=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=e,this._maxy+=e,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},u.prototype.contains=function(){return 1===arguments.length?arguments[0]instanceof u||arguments[0]instanceof m?this.covers(arguments[0]):void 0:2===arguments.length?this.covers(arguments[0],arguments[1]):void 0},u.prototype.centre=function(){return this.isNull()?null:new m((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},u.prototype.init=function(){var t,e,n,i;0===arguments.length?this.setToNull():1===arguments.length?arguments[0]instanceof m?this.init((t=arguments[0]).x,t.x,t.y,t.y):arguments[0]instanceof u&&(this._minx=(t=arguments[0])._minx,this._maxx=t._maxx,this._miny=t._miny,this._maxy=t._maxy):2===arguments.length?this.init((t=arguments[0]).x,(e=arguments[1]).x,t.y,e.y):4===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],t<e?(this._minx=t,this._maxx=e):(this._minx=e,this._maxx=t),n<i?(this._miny=n,this._maxy=i):(this._miny=i,this._maxy=n))},u.prototype.getMaxY=function(){return this._maxy},u.prototype.distance=function(t){var e,n;return this.intersects(t)?0:(e=0,this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx),n=0,this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n))},u.prototype.hashCode=function(){return 37*(37*(37*(629+m.hashCode(this._minx))+m.hashCode(this._maxx))+m.hashCode(this._miny))+m.hashCode(this._maxy)},u.prototype.interfaces_=function(){return[tt,G]},u.prototype.getClass=function(){return u},u.intersects=function(){var t,e,n,i,r,o,s,a;return 3===arguments.length?(e=arguments[0],n=arguments[1],(t=arguments[2]).x>=(e.x<n.x?e:n).x&&t.x<=(e.x>n.x?e:n).x&&t.y>=(e.y<n.y?e:n).y&&t.y<=(e.y>n.y?e:n).y):4===arguments.length?(t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],r=Math.min(n.x,i.x),o=Math.max(n.x,i.x),s=Math.min(t.x,e.x),a=Math.max(t.x,e.x),!(o<s||a<r||(r=Math.min(n.y,i.y),o=Math.max(n.y,i.y),s=Math.min(t.y,e.y),a=Math.max(t.y,e.y),o<s)||a<r)):void 0},t.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(u,t),{typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/}),It=(yt.prototype.read=function(t){t=t.replace(/[\n\r]/g," ");var e,n,i=Et.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=Et.emptyTypeStr.exec(t))[2]=void 0),void 0===(e=i&&(n=i[1].toLowerCase(),i=i[2],xt[n])?xt[n].apply(this,[i]):e))throw new Error("Could not parse WKT "+t);return e},yt.prototype.write=function(t){return this.extractGeometry(t)},yt.prototype.extractGeometry=function(t){var e,n=t.getGeometryType().toLowerCase();return It[n]?(e=n.toUpperCase(),t.isEmpty()?e+" EMPTY":e+"("+It[n].apply(this,[t])+")"):null},{coordinate:function(t){return t.x+" "+t.y},point:function(t){return It.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+It.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(It.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(It.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+It.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+It.linestring.apply(this,[t._shell])+")");for(var n=0,i=t._holes.length;n<i;++n)e.push("("+It.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+It.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}}),xt={point:function(t){return void 0===t?this.geometryFactory.createPoint():(t=t.trim().split(Et.spaces),this.geometryFactory.createPoint(new m(Number.parseFloat(t[0]),Number.parseFloat(t[1]))))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Et.trimParens,"$1"),i.push(xt.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(Et.spaces),i.push(new m(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(Et.spaces),i.push(new m(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Et.parenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Et.trimParens,"$1"),i.push(xt.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i=t.trim().split(Et.parenComma),r=[],o=0,s=i.length;o<s;++o)e=i[o].replace(Et.trimParens,"$1"),e=xt.linestring.apply(this,[e]),e=this.geometryFactory.createLinearRing(e._points),0===o?n=e:r.push(e);return this.geometryFactory.createPolygon(n,r)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Et.doubleParenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Et.trimParens,"$1"),i.push(xt.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],i=0,r=e.length;i<r;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}},Nt=(_t.prototype.write=function(t){return this.parser.write(t)},_t.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"},(vt=Error)&&(bt.__proto__=vt),(bt.prototype=Object.create(vt&&vt.prototype)).constructor=bt),Ct=((mt=Nt)&&(St.__proto__=mt),((St.prototype=Object.create(mt&&mt.prototype)).constructor=St).prototype.interfaces_=function(){return[]},St.prototype.getClass=function(){return St},St);function St(){mt.call(this),0===arguments.length?mt.call(this):1===arguments.length&&mt.call(this,arguments[0])}function bt(t){vt.call(this,t),this.name="RuntimeException",this.message=t,this.stack=(new vt).stack}d.prototype.interfaces_=function(){return[]},d.prototype.getClass=function(){return d},d.shouldNeverReachHere=function(){var t;if(0===arguments.length)d.shouldNeverReachHere(null);else if(1===arguments.length)throw new Ct("Should never reach here"+(null!==(t=arguments[0])?": "+t:""))},d.isTrue=function(){var t,e;if(1===arguments.length)d.isTrue(t=arguments[0],null);else if(2===arguments.length&&(t=arguments[0],e=arguments[1],!t))throw null===e?new Ct:new Ct(e)},d.equals=function(){var t,e,n;if(2===arguments.length)d.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],!e.equals(t)))throw new Ct("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};function Lt(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new m,this._intPt[1]=new m,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}function wt(){}var Ot,t={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}},Pt=(Lt.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},Lt.prototype.getTopologySummary=function(){var t=new ot;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},Lt.prototype.computeIntersection=function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)},Lt.prototype.getIntersectionNum=function(){return this._result},Lt.prototype.computeIntLineIndex=function(){var t;0===arguments.length?null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1)):1===arguments.length&&(this.getEdgeDistance(t=arguments[0],0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0))},Lt.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Lt.prototype.setPrecisionModel=function(t){this._precisionModel=t},Lt.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},Lt.prototype.getIntersection=function(t){return this._intPt[t]},Lt.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Lt.prototype.hasIntersection=function(){return this._result!==Lt.NO_INTERSECTION},Lt.prototype.getEdgeDistance=function(t,e){return Lt.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},Lt.prototype.isCollinear=function(){return this._result===Lt.COLLINEAR_INTERSECTION},Lt.prototype.toString=function(){return _t.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+_t.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Lt.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},Lt.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},Lt.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},Lt.prototype.interfaces_=function(){return[]},Lt.prototype.getClass=function(){return Lt},Lt.computeEdgeDistance=function(t,e,n){var i,r=Math.abs(n.x-e.x),o=Math.abs(n.y-e.y),s=-1;return t.equals(e)?s=0:t.equals(n)?s=o<r?r:o:(n=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y),0!==(s=o<r?n:i)||t.equals(e)||(s=Math.max(n,i))),d.isTrue(!(0===s&&!t.equals(e)),"Bad distance calculation"),s},Lt.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,i=Math.sqrt(i*i+r*r);return d.isTrue(!(0===i&&!t.equals(e)),"Invalid distance calculation"),i},t.DONT_INTERSECT.get=function(){return 0},t.DO_INTERSECT.get=function(){return 1},t.COLLINEAR.get=function(){return 2},t.NO_INTERSECTION.get=function(){return 0},t.POINT_INTERSECTION.get=function(){return 1},t.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Lt,t),(Ot=Lt)&&(Rt.__proto__=Ot),((Rt.prototype=Object.create(Ot&&Ot.prototype)).constructor=Rt).prototype.isInSegmentEnvelopes=function(t){var e=new u(this._inputLines[0][0],this._inputLines[0][1]),n=new u(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},Rt.prototype.computeIntersection=function(){var t,e,n;return 3!==arguments.length?Ot.prototype.computeIntersection.apply(this,arguments):(t=arguments[0],e=arguments[1],n=arguments[2],this._isProper=!1,u.intersects(e,n,t)&&0===_.orientationIndex(e,n,t)&&0===_.orientationIndex(n,e,t)?(this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this._result=Ot.POINT_INTERSECTION,null):void(this._result=Ot.NO_INTERSECTION))},Rt.prototype.normalizeToMinimum=function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},Rt.prototype.safeHCoordinateIntersection=function(e,n,i,r){var o=null;try{o=dt.intersection(e,n,i,r)}catch(t){if(!(t instanceof ft))throw t;o=Rt.nearestEndpoint(e,n,i,r)}return o},Rt.prototype.intersection=function(t,e,n,i){var r=this.intersectionWithNormalization(t,e,n,i);return this.isInSegmentEnvelopes(r)||(r=new m(Rt.nearestEndpoint(t,e,n,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(r),r},Rt.prototype.smallestInAbsValue=function(t,e,n,i){var r=Math.abs(t);return Math.abs(e)<r&&(t=e,r=Math.abs(e)),Math.abs(n)<r&&(t=n,r=Math.abs(n)),t=Math.abs(i)<r?i:t},Rt.prototype.checkDD=function(t,e,n,i,r){t=ut.intersection(t,e,n,i),e=this.isInSegmentEnvelopes(t);lt.out.println("DD in env = "+e+"  --------------------- "+t),1e-4<r.distance(t)&&lt.out.println("Distance = "+r.distance(t))},Rt.prototype.intersectionWithNormalization=function(t,e,n,i){var t=new m(t),e=new m(e),n=new m(n),i=new m(i),r=new m,t=(this.normalizeToEnvCentre(t,e,n,i,r),this.safeHCoordinateIntersection(t,e,n,i));return t.x+=r.x,t.y+=r.y,t},Rt.prototype.computeCollinearIntersection=function(t,e,n,i){var r=u.intersects(t,e,n),o=u.intersects(t,e,i),s=u.intersects(n,i,t),a=u.intersects(n,i,e);return r&&o?(this._intPt[0]=n,this._intPt[1]=i,Ot.COLLINEAR_INTERSECTION):s&&a?(this._intPt[0]=t,this._intPt[1]=e,Ot.COLLINEAR_INTERSECTION):r&&s?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||o||a?Ot.COLLINEAR_INTERSECTION:Ot.POINT_INTERSECTION):r&&a?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||o||s?Ot.COLLINEAR_INTERSECTION:Ot.POINT_INTERSECTION):o&&s?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||r||a?Ot.COLLINEAR_INTERSECTION:Ot.POINT_INTERSECTION):o&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||r||s?Ot.COLLINEAR_INTERSECTION:Ot.POINT_INTERSECTION):Ot.NO_INTERSECTION},Rt.prototype.normalizeToEnvCentre=function(t,e,n,i,r){var o=(t.x<e.x?t:e).x,s=(t.y<e.y?t:e).y,a=(t.x>e.x?t:e).x,u=(t.y>e.y?t:e).y,c=(n.x<i.x?n:i).x,l=(n.y<i.y?n:i).y,p=(n.x>i.x?n:i).x,h=(n.y>i.y?n:i).y,s=((l<s?s:l)+(u<h?u:h))/2;r.x=((c<o?o:c)+(a<p?a:p))/2,r.y=s,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},Rt.prototype.computeIntersect=function(t,e,n,i){var r,o,s,a;return this._isProper=!1,!u.intersects(t,e,n,i)||(r=_.orientationIndex(t,e,n),o=_.orientationIndex(t,e,i),0<r&&0<o)||r<0&&o<0||(s=_.orientationIndex(n,i,t),a=_.orientationIndex(n,i,e),0<s&&0<a)||s<0&&a<0?Ot.NO_INTERSECTION:0===r&&0===o&&0===s&&0===a?this.computeCollinearIntersection(t,e,n,i):(0===r||0===o||0===s||0===a?(this._isProper=!1,t.equals2D(n)||t.equals2D(i)?this._intPt[0]=t:e.equals2D(n)||e.equals2D(i)?this._intPt[0]=e:0===r?this._intPt[0]=new m(n):0===o?this._intPt[0]=new m(i):0===s?this._intPt[0]=new m(t):0===a&&(this._intPt[0]=new m(e))):(this._isProper=!0,this._intPt[0]=this.intersection(t,e,n,i)),Ot.POINT_INTERSECTION)},Rt.prototype.interfaces_=function(){return[]},Rt.prototype.getClass=function(){return Rt},Rt.nearestEndpoint=function(t,e,n,i){var r=t,o=_.distancePointLine(t,n,i),s=_.distancePointLine(e,n,i);return s<o&&(o=s,r=e),(s=_.distancePointLine(n,t,e))<o&&(o=s,r=n),(s=_.distancePointLine(i,t,e))<o&&(o=s,r=i),r},Rt);function Rt(){Ot.apply(this,arguments)}wt.prototype.interfaces_=function(){return[]},wt.prototype.getClass=function(){return wt},wt.orientationIndex=function(t,e,n){var i=e.x-t.x,t=e.y-t.y,r=n.x-e.x,n=n.y-e.y;return wt.signOfDet2x2(i,t,r,n)},wt.signOfDet2x2=function(t,e,n,i){var r,o=null,s=null,o=1;if(0===t||0===i)return 0===e||0===n?0:0<e?0<n?-o:o:0<n?o:-o;if(0===e||0===n)return 0<i?0<t?o:-o:0<t?-o:o;if(0<e?0<i?e<=i||(o=-o,s=t,t=n,n=s,s=e,e=i,i=s):i=e<=-i?(o=-o,n=-n,-i):(s=t,t=-n,n=s,s=e,e=-i,s):0<i?-e<=i?(o=-o,t=-t,e=-e):(s=-t,t=n,n=s,s=-e,e=i,i=s):i=i<=e?(t=-t,e=-e,n=-n,-i):(o=-o,s=-t,t=-n,n=s,s=-e,e=-i,s),0<t){if(!(0<n))return o;if(!(t<=n))return o}else{if(0<n)return-o;if(!(n<=t))return-o;o=-o,t=-t,n=-n}for(;;){if((i-=(r=Math.floor(n/t))*e)<0)return-o;if(e<i)return o;if((n-=r*t)+n<t){if(e<i+i)return o}else{if(i+i<e)return-o;n=t-n,i=e-i,o=-o}if(0===i)return 0===n?0:-o;if(0===n)return o;if((e-=(r=Math.floor(t/n))*i)<0)return o;if(i<e)return-o;if((t-=r*n)+t<n){if(i<e+e)return-o}else{if(e+e<i)return o;t=n-t,e=i-e,o=-o}if(0===e)return 0===t?0:o;if(0===t)return-o}};function Tt(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]}function Mt(){}function v(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()}function Dt(){}function At(){}function Ft(){}function Gt(){}Tt.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y)return n=t.x,(i=e.x)<n&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null;if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var n=t.x-this._p.x,i=t.y-this._p.y,t=e.x-this._p.x,e=e.y-this._p.y,n=wt.signOfDet2x2(n,i,t,e);if(0===n)return this._isPointOnSegment=!0,null;0<(n=e<i?-n:n)&&this._crossingCount++}},Tt.prototype.isPointInPolygon=function(){return this.getLocation()!==h.EXTERIOR},Tt.prototype.getLocation=function(){return this._isPointOnSegment?h.BOUNDARY:this._crossingCount%2==1?h.INTERIOR:h.EXTERIOR},Tt.prototype.isOnSegment=function(){return this._isPointOnSegment},Tt.prototype.interfaces_=function(){return[]},Tt.prototype.getClass=function(){return Tt},Tt.locatePointInRing=function(){if(arguments[0]instanceof m&&y(arguments[1],g)){for(var t=arguments[0],e=arguments[1],n=new Tt(t),i=new m,r=new m,o=1;o<e.size();o++)if(e.getCoordinate(o,i),e.getCoordinate(o-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof m&&arguments[1]instanceof Array){for(var t=arguments[0],s=arguments[1],a=new Tt(t),u=1;u<s.length;u++){var c=s[u],l=s[u-1];if(a.countSegment(c,l),a.isOnSegment())return a.getLocation()}return a.getLocation()}};var qt,_=function(){},t={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}},t=(_.prototype.interfaces_=function(){return[]},_.prototype.getClass=function(){return _},_.orientationIndex=function(t,e,n){return ut.orientationIndex(t,e,n)},_.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,o=t[i+1].y;e+=r*(t[i-1].y-o)}return e/2}if(y(arguments[0],g)){var s=arguments[0],a=s.size();if(a<3)return 0;var u=new m,c=new m,l=new m,p=(s.getCoordinate(0,c),s.getCoordinate(1,l),c.x);l.x-=p;for(var h=0,f=1;f<a-1;f++)u.y=c.y,c.x=l.x,c.y=l.y,s.getCoordinate(f+1,l),l.x-=p,h+=c.x*(u.y-l.y);return h/2}},_.distanceLineLine=function(t,e,n,i){var r,o,s,a;return t.equals(e)?_.distancePointLine(t,n,i):n.equals(i)?_.distancePointLine(i,t,e):(r=!1,(r=!u.intersects(t,e,n,i)||0==(o=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x))||(a=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),s=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,(a=a/o)<0)||1<a||s<0||1<s?!0:r)?rt.min(_.distancePointLine(t,n,i),_.distancePointLine(e,n,i),_.distancePointLine(n,t,e),_.distancePointLine(i,t,e)):0)},_.isPointInRing=function(t,e){return _.locatePointInRing(t,e)!==h.EXTERIOR},_.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new m;t.getCoordinate(0,i);for(var r=i.x,o=i.y,s=1;s<e;s++){t.getCoordinate(s,i);var a=i.x,u=i.y,c=a-r,l=u-o;n+=Math.sqrt(c*c+l*l),r=a,o=u}return n},_.isCCW=function(t){var e=t.length-1;if(e<3)throw new p("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],i=0,r=1;r<=e;r++){var o=t[r];o.y>n.y&&(n=o,i=r)}for(var s=i;t[s=--s<0?e:s].equals2D(n)&&s!==i;);for(var a=i;t[a=(a+1)%e].equals2D(n)&&a!==i;);var u,c=t[s],l=t[a];return!(c.equals2D(n)||l.equals2D(n)||c.equals2D(l))&&(0===(u=_.computeOrientation(c,n,l))?c.x>l.x:0<u)},_.locatePointInRing=function(t,e){return Tt.locatePointInRing(t,e)},_.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),t=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(t)*Math.sqrt(i)},_.computeOrientation=function(t,e,n){return _.orientationIndex(t,e,n)},_.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new p("Line array must contain at least one vertex");for(var n=t.distance(e[0]),i=0;i<e.length-1;i++){var r=_.distancePointLine(t,e[i],e[i+1]);r<n&&(n=r)}return n}var o,s,a,u,c;if(3===arguments.length)return o=arguments[0],(s=arguments[1]).x===(a=arguments[2]).x&&s.y===a.y||(u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),(c=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u)<=0)?o.distance(s):1<=c?o.distance(a):(c=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u,Math.abs(c)*Math.sqrt(u))},_.isOnLine=function(t,e){for(var n=new Pt,i=1;i<e.length;i++){var r=e[i-1],o=e[i];if(n.computeIntersection(t,r,o),n.hasIntersection())return!0}return!1},t.CLOCKWISE.get=function(){return-1},t.RIGHT.get=function(){return _.CLOCKWISE},t.COUNTERCLOCKWISE.get=function(){return 1},t.LEFT.get=function(){return _.COUNTERCLOCKWISE},t.COLLINEAR.get=function(){return 0},t.STRAIGHT.get=function(){return _.COLLINEAR},Object.defineProperties(_,t),Mt.prototype.filter=function(t){},Mt.prototype.interfaces_=function(){return[]},Mt.prototype.getClass=function(){return Mt},{serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}}),Bt=(v.prototype.isGeometryCollection=function(){return this.getSortIndex()===v.SORTINDEX_GEOMETRYCOLLECTION},v.prototype.getFactory=function(){return this._factory},v.prototype.getGeometryN=function(t){return this},v.prototype.getArea=function(){return 0},v.prototype.isRectangle=function(){return!1},v.prototype.equals=function(){var t;return arguments[0]instanceof v?null!==(t=arguments[0])&&this.equalsTopo(t):arguments[0]instanceof Object?(t=arguments[0])instanceof v&&this.equalsExact(t):void 0},v.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},v.prototype.geometryChanged=function(){this.apply(v.geometryChangedFilter)},v.prototype.geometryChangedAction=function(){this._envelope=null},v.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},v.prototype.getLength=function(){return 0},v.prototype.getNumGeometries=function(){return 1},v.prototype.compareTo=function(){var t,e;return 1===arguments.length?(t=e=arguments[0],this.getSortIndex()!==t.getSortIndex()?this.getSortIndex()-t.getSortIndex():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)):2===arguments.length?(t=arguments[0],e=arguments[1],this.getSortIndex()!==t.getSortIndex()?this.getSortIndex()-t.getSortIndex():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(t,e)):void 0},v.prototype.getUserData=function(){return this._userData},v.prototype.getSRID=function(){return this._SRID},v.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},v.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===v.SORTINDEX_GEOMETRYCOLLECTION)throw new p("This method does not support GeometryCollection arguments")},v.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},v.prototype.norm=function(){var t=this.copy();return t.normalize(),t},v.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},v.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new u(this._envelope)},v.prototype.setSRID=function(t){this._SRID=t},v.prototype.setUserData=function(t){this._userData=t},v.prototype.compare=function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),r=r.compareTo(o);if(0!==r)return r}return n.hasNext()?1:i.hasNext()?-1:0},v.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},v.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===v.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===v.SORTINDEX_MULTIPOINT||this.getSortIndex()===v.SORTINDEX_MULTILINESTRING||this.getSortIndex()===v.SORTINDEX_MULTIPOLYGON},v.prototype.interfaces_=function(){return[et,tt,G]},v.prototype.getClass=function(){return v},v.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},v.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},t.serialVersionUID.get=function(){return 0x799ea46522854c00},t.SORTINDEX_POINT.get=function(){return 0},t.SORTINDEX_MULTIPOINT.get=function(){return 1},t.SORTINDEX_LINESTRING.get=function(){return 2},t.SORTINDEX_LINEARRING.get=function(){return 3},t.SORTINDEX_MULTILINESTRING.get=function(){return 4},t.SORTINDEX_POLYGON.get=function(){return 5},t.SORTINDEX_MULTIPOLYGON.get=function(){return 6},t.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},t.geometryChangedFilter.get=function(){return Bt},Object.defineProperties(v,t),function(){}),t=(Bt.interfaces_=function(){return[Mt]},Bt.filter=function(t){t.geometryChangedAction()},Dt.prototype.filter=function(t){},Dt.prototype.interfaces_=function(){return[]},Dt.prototype.getClass=function(){return Dt},{Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}}),Ut=(At.prototype.isInBoundary=function(t){},At.prototype.interfaces_=function(){return[]},At.prototype.getClass=function(){return At},t.Mod2BoundaryNodeRule.get=function(){return Ut},t.EndPointBoundaryNodeRule.get=function(){return Vt},t.MultiValentEndPointBoundaryNodeRule.get=function(){return zt},t.MonoValentEndPointBoundaryNodeRule.get=function(){return kt},t.MOD2_BOUNDARY_RULE.get=function(){return new Ut},t.ENDPOINT_BOUNDARY_RULE.get=function(){return new Vt},t.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new zt},t.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new kt},t.OGC_SFS_BOUNDARY_RULE.get=function(){return At.MOD2_BOUNDARY_RULE},Object.defineProperties(At,t),function(){}),Vt=(Ut.prototype.isInBoundary=function(t){return t%2==1},Ut.prototype.interfaces_=function(){return[At]},Ut.prototype.getClass=function(){return Ut},function(){}),zt=(Vt.prototype.isInBoundary=function(t){return 0<t},Vt.prototype.interfaces_=function(){return[At]},Vt.prototype.getClass=function(){return Vt},function(){}),kt=(zt.prototype.isInBoundary=function(t){return 1<t},zt.prototype.interfaces_=function(){return[At]},zt.prototype.getClass=function(){return zt},function(){}),jt=(kt.prototype.isInBoundary=function(t){return 1===t},kt.prototype.interfaces_=function(){return[At]},kt.prototype.getClass=function(){return kt},Ft.prototype.add=function(){},Ft.prototype.addAll=function(){},Ft.prototype.isEmpty=function(){},Ft.prototype.iterator=function(){},Ft.prototype.size=function(){},Ft.prototype.toArray=function(){},Ft.prototype.remove=function(){},(q.prototype=new Error).name="IndexOutOfBoundsException",Gt.prototype.hasNext=function(){},Gt.prototype.next=function(){},Gt.prototype.remove=function(){},(qt=Ft)&&(Xt.__proto__=qt),((Xt.prototype=Object.create(qt&&qt.prototype)).constructor=Xt).prototype.get=function(){},Xt.prototype.set=function(){},Xt.prototype.isEmpty=function(){},Xt);function Xt(){qt.apply(this,arguments)}(B.prototype=new Error).name="NoSuchElementException";function l(){}(Wt=jt)&&($t.__proto__=Wt),(($t.prototype=Object.create(Wt&&Wt.prototype)).constructor=$t).prototype.ensureCapacity=function(){},$t.prototype.interfaces_=function(){return[Wt,Ft]},$t.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(t,arguments[1]),!0},$t.prototype.clear=function(){this.array_=[]},$t.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},$t.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},$t.prototype.iterator=function(){return new Kt(this)},$t.prototype.get=function(t){if(t<0||t>=this.size())throw new q;return this.array_[t]},$t.prototype.isEmpty=function(){return 0===this.array_.length},$t.prototype.size=function(){return this.array_.length},$t.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},$t.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;n<i;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e};var Yt,Ht,Wt,E=$t,Kt=((Ht=Gt)&&(Zt.__proto__=Ht),((Zt.prototype=Object.create(Ht&&Ht.prototype)).constructor=Zt).prototype.next=function(){if(this.position_===this.arrayList_.size())throw new B;return this.arrayList_.get(this.position_++)},Zt.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},Zt.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},Zt.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},Zt),Jt=((Yt=E)&&(Qt.__proto__=Yt),(Qt.prototype=Object.create(Yt&&Yt.prototype)).constructor=Qt,(t={coordArrayType:{configurable:!0}}).coordArrayType.get=function(){return new Array(0).fill(null)},Qt.prototype.getCoordinate=function(t){return this.get(t)},Qt.prototype.addAll=function(){if(2!==arguments.length)return Yt.prototype.addAll.apply(this,arguments);for(var t=arguments[0],e=arguments[1],n=!1,i=t.iterator();i.hasNext();)this.add(i.next(),e),n=!0;return n},Qt.prototype.clone=function(){for(var t=Yt.prototype.clone.call(this),e=0;e<this.size();e++)t.add(e,this.get(e).copy());return t},Qt.prototype.toCoordinateArray=function(){return this.toArray(Qt.coordArrayType)},Qt.prototype.add=function(){if(1===arguments.length)Yt.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof m&&"boolean"==typeof arguments[1]){var t=arguments[0];if(!arguments[1]&&1<=this.size()&&this.get(this.size()-1).equals2D(t))return null;Yt.prototype.add.call(this,t)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],n=arguments[1];if(arguments[2])for(var i=0;i<e.length;i++)this.add(e[i],n);else for(var r=e.length-1;0<=r;r--)this.add(e[r],n);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof m){var t=arguments[0],o=arguments[1];if(!arguments[2]){var s=this.size();if(0<s){if(0<t&&this.get(t-1).equals2D(o))return null;if(t<s&&this.get(t).equals2D(o))return null}}Yt.prototype.add.call(this,t,o)}}else if(4===arguments.length){var a=arguments[0],u=arguments[1],s=arguments[2],c=arguments[3],l=1;c<s&&(l=-1);for(var p=s;p!==c;p+=l)this.add(a[p],u);return!0}},Qt.prototype.closeRing=function(){0<this.size()&&this.add(new m(this.get(0)),!1)},Qt.prototype.interfaces_=function(){return[]},Qt.prototype.getClass=function(){return Qt},Object.defineProperties(Qt,t),Qt),t={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};function Qt(){var t,e;Yt.call(this),0!==arguments.length&&(1===arguments.length?(this.ensureCapacity((t=arguments[0]).length),this.add(t,!0)):2===arguments.length&&(t=arguments[0],e=arguments[1],this.ensureCapacity(t.length),this.add(t,e)))}function Zt(t){Ht.call(this),this.arrayList_=t,this.position_=0}function $t(){Wt.call(this),this.array_=[],arguments[0]instanceof Ft&&this.addAll(arguments[0])}t.ForwardComparator.get=function(){return ne},t.BidirectionalComparator.get=function(){return ie},t.coordArrayType.get=function(){return new Array(0).fill(null)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},l.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(l.indexOf(i,e)<0)return i}return null},l.scroll=function(t,e){e=l.indexOf(e,t);if(e<0)return null;var n=new Array(t.length).fill(null);lt.arraycopy(t,e,n,0,t.length-e),lt.arraycopy(t,0,n,t.length-e,e),lt.arraycopy(n,0,t,0,t.length)},l.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t!==e){if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1}return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i!==r){if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var s=0;s<i.length;s++)if(0!==o.compare(i[s],r[s]))return!1}return!0}},l.intersection=function(t,e){for(var n=new Jt,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},l.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},l.removeRepeatedPoints=function(t){return l.hasRepeatedPoints(t)?new Jt(t,!1).toCoordinateArray():t},l.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},l.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0!==e)for(var r=0,o=0;o<t.length;o++)null!==t[o]&&(i[r++]=t[o]);return i},l.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new m(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=new m(i[r+u])},l.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0},l.envelope=function(t){for(var e=new u,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},l.toCoordinateArray=function(t){return t.toArray(l.coordArrayType)},l.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},l.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},l.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,n=t[e].compareTo(t[n]);if(0!==n)return n}return 1},l.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},l.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||0<e.compareTo(t[n]))&&(e=t[n]);return e},l.extract=function(t,e,n){e=rt.clamp(e,0,t.length);var i=(n=rt.clamp(n,-1,t.length))-e+1,r=(n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0),new Array(i).fill(null));if(0!==i)for(var o=0,s=e;s<=n;s++)r[o++]=t[s];return r},Object.defineProperties(l,t);function te(){}var ee,ne=function(){},ie=(ne.prototype.compare=function(t,e){return l.compare(t,e)},ne.prototype.interfaces_=function(){return[nt]},ne.prototype.getClass=function(){return ne},function(){}),t=(ie.prototype.compare=function(t,e){var n;return t.length<e.length?-1:t.length>e.length?1:0===t.length||(n=l.compare(t,e),l.isEqualReversed(t,e))?0:n},ie.prototype.OLDcompare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0!==n.length)for(var r=l.increasingDirection(n),o=l.increasingDirection(i),s=0<r?0:n.length-1,a=0<o?0:n.length-1,u=0;u<n.length;u++){var c=n[s].compareTo(i[a]);if(0!==c)return c;s+=r,a+=o}return 0},ie.prototype.interfaces_=function(){return[nt]},ie.prototype.getClass=function(){return ie},te.prototype.get=function(){},te.prototype.put=function(){},te.prototype.size=function(){},te.prototype.values=function(){},te.prototype.entrySet=function(){},(ee=te)&&(re.__proto__=ee),(re.prototype=Object.create(ee&&ee.prototype)).constructor=re);function re(){ee.apply(this,arguments)}(U.prototype=new Error).name="OperationNotSupported",(V.prototype=new Ft).contains=function(){};(se=V)&&(le.__proto__=se),((le.prototype=Object.create(se&&se.prototype)).constructor=le).prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},le.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},le.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},le.prototype.remove=function(t){throw new Error},le.prototype.size=function(){return this.array_.length},le.prototype.isEmpty=function(){return 0===this.array_.length},le.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},le.prototype.iterator=function(){return new ue(this)};var oe,se,ae=le,ue=((oe=Gt)&&(ce.__proto__=oe),((ce.prototype=Object.create(oe&&oe.prototype)).constructor=ce).prototype.next=function(){if(this.position_===this.hashSet_.size())throw new B;return this.hashSet_.array_[this.position_++]},ce.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},ce.prototype.remove=function(){throw new U},ce);function ce(t){oe.call(this),this.hashSet_=t,this.position_=0}function le(){se.call(this),this.array_=[],arguments[0]instanceof Ft&&this.addAll(arguments[0])}(Y.prototype=new t).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(0<n))return e.value;e=e.right}}return null},Y.prototype.put=function(t,e){if(null===this.root_)this.root_={key:t,value:e,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1;else{var n,i,r,o=this.root_;do{if(n=o,(i=t.compareTo(o.key))<0)o=o.left;else{if(!(0<i))return r=o.value,o.value=e,r;o=o.right}}while(null!==o);var s={key:t,left:null,right:null,value:e,parent:n,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};i<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++}return null},Y.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;){var e;n(t)===j(n(n(t)))?1===z(e=X(n(n(t))))?(k(n(t),0),k(e,0),k(n(n(t)),1),t=n(n(t))):(t===X(n(t))&&(t=n(t),this.rotateLeft(t)),k(n(t),0),k(n(n(t)),1),this.rotateRight(n(n(t)))):1===z(e=j(n(n(t))))?(k(n(t),0),k(e,0),k(n(n(t)),1),t=n(n(t))):(t===j(n(t))&&(t=n(t),this.rotateRight(t)),k(n(t),0),k(n(n(t)),1),this.rotateLeft(n(n(t))))}this.root_.color=0},Y.prototype.values=function(){var t=new E,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Y.successor(e));)t.add(e.value);return t},Y.prototype.entrySet=function(){var t=new ae,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Y.successor(e));)t.add(e);return t},Y.prototype.rotateLeft=function(t){var e;null!=t&&(e=t.right,t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,(e.left=t).parent=e)},Y.prototype.rotateRight=function(t){var e;null!=t&&(e=t.left,t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,(e.right=t).parent=e)},Y.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Y.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,i=t;null!==n&&i===n.right;)n=(i=n).parent;return n},Y.prototype.size=function(){return this.size_};function pe(){}function he(){}function i(){}function fe(){}function ge(){}pe.prototype.interfaces_=function(){return[]},pe.prototype.getClass=function(){return pe},H.prototype=new V,(W.prototype=new H).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},W.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},W.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},W.prototype.remove=function(t){throw new U},W.prototype.size=function(){return this.array_.length},W.prototype.isEmpty=function(){return 0===this.array_.length},W.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},W.prototype.iterator=function(){return new _e(this)};var de,ye,_e=function(t){this.treeSet_=t,this.position_=0},t=(_e.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new B;return this.treeSet_.array_[this.position_++]},_e.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},_e.prototype.remove=function(){throw new U},he.sort=function(){var t,e,n,i=arguments[0];if(1===arguments.length)i.sort(function(t,e){return t.compareTo(e)});else if(2===arguments.length)n=arguments[1],i.sort(function(t,e){return n.compare(t,e)});else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var r=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<r.length;t++)i.push(r[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],e.sort(function(t,e){return n.compare(t,e)}),r=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<r.length;t++)i.push(r[t])},he.asList=function(t){for(var e=new E,n=0,i=t.length;n<i;n++)e.add(t[n]);return e},{P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}}),me=(t.P.get=function(){return 0},t.L.get=function(){return 1},t.A.get=function(){return 2},t.FALSE.get=function(){return-1},t.TRUE.get=function(){return-2},t.DONTCARE.get=function(){return-3},t.SYM_FALSE.get=function(){return"F"},t.SYM_TRUE.get=function(){return"T"},t.SYM_DONTCARE.get=function(){return"*"},t.SYM_P.get=function(){return"0"},t.SYM_L.get=function(){return"1"},t.SYM_A.get=function(){return"2"},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.toDimensionSymbol=function(t){switch(t){case i.FALSE:return i.SYM_FALSE;case i.TRUE:return i.SYM_TRUE;case i.DONTCARE:return i.SYM_DONTCARE;case i.P:return i.SYM_P;case i.L:return i.SYM_L;case i.A:return i.SYM_A}throw new p("Unknown dimension value: "+t)},i.toDimensionValue=function(t){switch(at.toUpperCase(t)){case i.SYM_FALSE:return i.FALSE;case i.SYM_TRUE:return i.TRUE;case i.SYM_DONTCARE:return i.DONTCARE;case i.SYM_P:return i.P;case i.SYM_L:return i.L;case i.SYM_A:return i.A}throw new p("Unknown dimension symbol: "+t)},Object.defineProperties(i,t),fe.prototype.filter=function(t){},fe.prototype.interfaces_=function(){return[]},fe.prototype.getClass=function(){return fe},ge.prototype.filter=function(t,e){},ge.prototype.isDone=function(){},ge.prototype.isGeometryChanged=function(){},ge.prototype.interfaces_=function(){return[]},ge.prototype.getClass=function(){return ge},(ye=v)&&(r.__proto__=ye),t={serialVersionUID:{configurable:!0}},((r.prototype=Object.create(ye&&ye.prototype)).constructor=r).prototype.computeEnvelopeInternal=function(){for(var t=new u,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},r.prototype.getGeometryN=function(t){return this._geometries[t]},r.prototype.getSortIndex=function(){return ye.SORTINDEX_GEOMETRYCOLLECTION},r.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)t[++e]=i[r];return t},r.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},r.prototype.equalsExact=function(){if(2!==arguments.length)return ye.prototype.equalsExact.apply(this,arguments);var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._geometries.length!==n._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(n._geometries[i],e))return!1;return!0},r.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();he.sort(this._geometries)},r.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},r.prototype.getBoundaryDimension=function(){for(var t=i.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},r.prototype.getDimension=function(){for(var t=i.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},r.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},r.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},r.prototype.getNumGeometries=function(){return this._geometries.length},r.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},r.prototype.compareToSameClass=function(){var t;if(1===arguments.length)return t=arguments[0],e=new W(he.asList(this._geometries)),t=new W(he.asList(t._geometries)),this.compare(e,t);if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=e,r=this.getNumGeometries(),o=i.getNumGeometries(),s=0;s<r&&s<o;){var a=this.getGeometryN(s),u=i.getGeometryN(s),a=a.compareToSameClass(u,n);if(0!==a)return a;s++}return s<r?1:s<o?-1:0}},r.prototype.apply=function(){if(y(arguments[0],Dt))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(y(arguments[0],ge)){var n=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(this._geometries[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(y(arguments[0],fe)){var r=arguments[0];r.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(r)}else if(y(arguments[0],Mt)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},r.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),d.shouldNeverReachHere(),null},r.prototype.clone=function(){var t=ye.prototype.clone.call(this);t._geometries=new Array(this._geometries.length).fill(null);for(var e=0;e<this._geometries.length;e++)t._geometries[e]=this._geometries[e].clone();return t},r.prototype.getGeometryType=function(){return"GeometryCollection"},r.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new r(t,this._factory)},r.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},t.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(r,t),r),ve=((de=me)&&(Ie.__proto__=de),t={serialVersionUID:{configurable:!0}},((Ie.prototype=Object.create(de&&de.prototype)).constructor=Ie).prototype.getSortIndex=function(){return v.SORTINDEX_MULTILINESTRING},Ie.prototype.equalsExact=function(){var t,e;return 2===arguments.length?(t=arguments[0],e=arguments[1],!!this.isEquivalentClass(t)&&de.prototype.equalsExact.call(this,t,e)):de.prototype.equalsExact.apply(this,arguments)},Ie.prototype.getBoundaryDimension=function(){return this.isClosed()?i.FALSE:0},Ie.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},Ie.prototype.getDimension=function(){return 1},Ie.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},Ie.prototype.getBoundary=function(){return new Ee(this).getBoundary()},Ie.prototype.getGeometryType=function(){return"MultiLineString"},Ie.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new Ie(t,this._factory)},Ie.prototype.interfaces_=function(){return[pe]},Ie.prototype.getClass=function(){return Ie},t.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(Ie,t),Ie),Ee=function(){var t,e;this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length?(e=At.MOD2_BOUNDARY_RULE,this._geom=t=arguments[0],this._geomFact=t.getFactory(),this._bnRule=e):2===arguments.length&&(t=arguments[0],e=arguments[1],this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e)};function Ie(){de.apply(this,arguments)}function r(t,e){if(ye.call(this,e),this._geometries=t||[],ye.hasNullElements(this._geometries))throw new p("geometries must not contain null elements")}Ee.prototype.boundaryMultiLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():1===(t=this.computeBoundaryCoordinates(t)).length?this._geomFact.createPoint(t[0]):this._geomFact.createMultiPointFromCoords(t)},Ee.prototype.getBoundary=function(){return this._geom instanceof Le?this.boundaryLineString(this._geom):this._geom instanceof ve?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Ee.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Ee.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Ee.prototype.computeBoundaryCoordinates=function(t){var e=new E;this._endpointMap=new Y;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this._endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return l.toCoordinateArray(e)},Ee.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new be,this._endpointMap.put(t,e)),e.count++},Ee.prototype.interfaces_=function(){return[]},Ee.prototype.getClass=function(){return Ee},Ee.getBoundary=function(){return 1===arguments.length?new Ee(arguments[0]).getBoundary():2===arguments.length?new Ee(arguments[0],arguments[1]).getBoundary():void 0};function xe(){}function Ne(){}function Ce(){}var Se,be=function(){this.count=null},t=(be.prototype.interfaces_=function(){return[]},be.prototype.getClass=function(){return be},{NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}}),Le=(xe.prototype.interfaces_=function(){return[]},xe.prototype.getClass=function(){return xe},xe.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return String(n)},xe.getStackTrace=function(){var t;if(1===arguments.length)return t=new function(){},e=new function(){},arguments[0].printStackTrace(e),t.toString();if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i="",r=new function(){}(xe.getStackTrace(e)),o=0;o<n;o++)try{i+=r.readLine()+xe.NEWLINE}catch(t){if(!!1)throw t;d.shouldNeverReachHere()}return i}},xe.split=function(t,e){for(var n=e.length,i=new E,r=""+t,o=r.indexOf(e);0<=o;){var s=r.substring(0,o);i.add(s),o=(r=r.substring(o+n)).indexOf(e)}0<r.length&&i.add(r);for(var a=new Array(i.size()).fill(null),u=0;u<a.length;u++)a[u]=i.get(u);return a},xe.toString=function(){if(1===arguments.length)return xe.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},xe.spaces=function(t){return xe.chars(" ",t)},t.NEWLINE.get=function(){return lt.getProperty("line.separator")},t.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}},Object.defineProperties(xe,t),Ne.prototype.interfaces_=function(){return[]},Ne.prototype.getClass=function(){return Ne},Ne.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;o<r;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},Ne.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,g.X)===t.getOrdinate(e-1,g.X)&&t.getOrdinate(0,g.Y)===t.getOrdinate(e-1,g.Y)},Ne.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),r=0;r<n;r++)for(var o=0;o<i;o++){var s=t.getOrdinate(r,o),a=e.getOrdinate(r,o);if(!(t.getOrdinate(r,o)===e.getOrdinate(r,o)||c.isNaN(s)&&c.isNaN(a)))return!1}return!0},Ne.extend=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();if(Ne.copy(e,0,i,0,r),0<r)for(var o=r;o<n;o++)Ne.copy(e,r-1,i,o,1);return i},Ne.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)Ne.swap(t,i,e-i)},Ne.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},Ne.copy=function(t,e,n,i,r){for(var o=0;o<r;o++)Ne.copyCoord(t,e+o,n,i+o)},Ne.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new ot;i.append("(");for(var r=0;r<e;r++){0<r&&i.append(" ");for(var o=0;o<n;o++)0<o&&i.append(","),i.append(xe.toString(t.getOrdinate(r,o)))}return i.append(")"),i.toString()}},Ne.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Ne.createClosedRing(t,e,4):e.getOrdinate(0,g.X)===e.getOrdinate(n-1,g.X)&&e.getOrdinate(0,g.Y)===e.getOrdinate(n-1,g.Y)?e:Ne.createClosedRing(t,e,n+1)},Ne.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),t=e.size();Ne.copy(e,0,i,0,t);for(var r=t;r<n;r++)Ne.copy(e,0,i,r,1);return i},(Se=v)&&(e.__proto__=Se),t={serialVersionUID:{configurable:!0}},((e.prototype=Object.create(Se&&Se.prototype)).constructor=e).prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new u:this._points.expandEnvelope(new u)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return Se.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2!==arguments.length)return Se.prototype.equalsExact.apply(this,arguments);var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._points.size()!==n._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),n._points.getCoordinate(i),e))return!1;return!0},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return 0<this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))&&Ne.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?i.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return _.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Ne.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var i=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==i)return i;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}var r;if(2===arguments.length)return r=arguments[0],arguments[1].compare(this._points,r._points)},e.prototype.apply=function(){if(y(arguments[0],Dt))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(y(arguments[0],ge)){var n=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(n.filter(this._points,i),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else(y(arguments[0],fe)||y(arguments[0],Mt))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Ee(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var t=Se.prototype.clone.call(this);return t._points=this._points.clone(),t},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(1===(t=null===t?this.getFactory().getCoordinateSequenceFactory().create([]):t).size())throw new p("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[pe]},e.prototype.getClass=function(){return e},t.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,t),e);function e(t,e){Se.call(this,e),this._points=null,this.init(t)}Ce.prototype.interfaces_=function(){return[]},Ce.prototype.getClass=function(){return Ce};function we(){}(Oe=v)&&(o.__proto__=Oe),t={serialVersionUID:{configurable:!0}},((o.prototype=Object.create(Oe&&Oe.prototype)).constructor=o).prototype.computeEnvelopeInternal=function(){var t;return this.isEmpty()?new u:((t=new u).expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t)},o.prototype.getSortIndex=function(){return Oe.SORTINDEX_POINT},o.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},o.prototype.equalsExact=function(){var t,e;return 2===arguments.length?(t=arguments[0],e=arguments[1],!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))):Oe.prototype.equalsExact.apply(this,arguments)},o.prototype.normalize=function(){},o.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},o.prototype.getBoundaryDimension=function(){return i.FALSE},o.prototype.getDimension=function(){return 0},o.prototype.getNumPoints=function(){return this.isEmpty()?0:1},o.prototype.reverse=function(){return this.copy()},o.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},o.prototype.compareToSameClass=function(){var t;return 1===arguments.length?(t=arguments[0],this.getCoordinate().compareTo(t.getCoordinate())):2===arguments.length?(t=arguments[0],arguments[1].compare(this._coordinates,t._coordinates)):void 0},o.prototype.apply=function(){if(y(arguments[0],Dt)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(y(arguments[0],ge)){t=arguments[0];if(this.isEmpty())return null;t.filter(this._coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else(y(arguments[0],fe)||y(arguments[0],Mt))&&arguments[0].filter(this)},o.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},o.prototype.clone=function(){var t=Oe.prototype.clone.call(this);return t._coordinates=this._coordinates.clone(),t},o.prototype.getGeometryType=function(){return"Point"},o.prototype.copy=function(){return new o(this._coordinates.copy(),this._factory)},o.prototype.getCoordinateSequence=function(){return this._coordinates},o.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},o.prototype.isEmpty=function(){return 0===this._coordinates.size()},o.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),d.isTrue(t.size()<=1),this._coordinates=t},o.prototype.isSimple=function(){return!0},o.prototype.interfaces_=function(){return[Ce]},o.prototype.getClass=function(){return o},t.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(o,t);var Oe,Pe=o;function o(t,e){Oe.call(this,e),this._coordinates=t||null,this.init(this._coordinates)}we.prototype.interfaces_=function(){return[]},we.prototype.getClass=function(){return we};function Re(t){this._factory=t||null,this._isUserDataCopied=!1}(Ae=v)&&(s.__proto__=Ae),t={serialVersionUID:{configurable:!0}},((s.prototype=Object.create(Ae&&Ae.prototype)).constructor=s).prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},s.prototype.getSortIndex=function(){return Ae.SORTINDEX_POLYGON},s.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var r=0;r<this._holes.length;r++)for(var o=this._holes[r].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},s.prototype.getArea=function(){var t=0;t+=Math.abs(_.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(_.signedArea(this._holes[e].getCoordinateSequence()));return t},s.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var r=t.getX(0),o=t.getY(0),s=1;s<=4;s++){var a=t.getX(s),u=t.getY(s);if(a!==r==(u!==o))return!1;r=a,o=u}return!0},s.prototype.equalsExact=function(){if(2!==arguments.length)return Ae.prototype.equalsExact.apply(this,arguments);var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,t=this._shell,i=n._shell;if(!t.equalsExact(i,e))return!1;if(this._holes.length!==n._holes.length)return!1;for(var r=0;r<this._holes.length;r++)if(!this._holes[r].equalsExact(n._holes[r],e))return!1;return!0},s.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);he.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null),r=(lt.arraycopy(e.getCoordinates(),0,i,0,i.length),l.minCoordinate(e.getCoordinates()));l.scroll(i,r),lt.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],_.isCCW(e.getCoordinates())===n&&l.reverse(e.getCoordinates())}},s.prototype.getCoordinate=function(){return this._shell.getCoordinate()},s.prototype.getNumInteriorRing=function(){return this._holes.length},s.prototype.getBoundaryDimension=function(){return 1},s.prototype.getDimension=function(){return 2},s.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},s.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},s.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},s.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},s.prototype.compareToSameClass=function(){if(1===arguments.length)return t=this._shell,i=arguments[0]._shell,t.compareToSameClass(i);if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t,i=this._shell,t=n._shell,i=i.compareToSameClass(t,e);if(0!==i)return i;for(var r=this.getNumInteriorRing(),o=n.getNumInteriorRing(),s=0;s<r&&s<o;){var a=this.getInteriorRingN(s),u=n.getInteriorRingN(s),a=a.compareToSameClass(u,e);if(0!==a)return a;s++}return s<r?1:s<o?-1:0}},s.prototype.apply=function(t){if(y(t,Dt)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(y(t,ge)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(y(t,fe))t.filter(this);else if(y(t,Mt)){t.filter(this),this._shell.apply(t);for(var i=0;i<this._holes.length;i++)this._holes[i].apply(t)}},s.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},s.prototype.clone=function(){var t=Ae.prototype.clone.call(this);t._shell=this._shell.clone(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].clone();return t},s.prototype.getGeometryType=function(){return"Polygon"},s.prototype.copy=function(){for(var t=this._shell.copy(),e=new Array(this._holes.length).fill(null),n=0;n<e.length;n++)e[n]=this._holes[n].copy();return new s(t,e,this._factory)},s.prototype.getExteriorRing=function(){return this._shell},s.prototype.isEmpty=function(){return this._shell.isEmpty()},s.prototype.getInteriorRingN=function(t){return this._holes[t]},s.prototype.interfaces_=function(){return[we]},s.prototype.getClass=function(){return s},t.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(s,t);var Te,Me,De,Ae,Fe=s,Ge=((De=me)&&(ze.__proto__=De),t={serialVersionUID:{configurable:!0}},((ze.prototype=Object.create(De&&De.prototype)).constructor=ze).prototype.getSortIndex=function(){return v.SORTINDEX_MULTIPOINT},ze.prototype.isValid=function(){return!0},ze.prototype.equalsExact=function(){var t,e;return 2===arguments.length?(t=arguments[0],e=arguments[1],!!this.isEquivalentClass(t)&&De.prototype.equalsExact.call(this,t,e)):De.prototype.equalsExact.apply(this,arguments)},ze.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():De.prototype.getCoordinate.apply(this,arguments)},ze.prototype.getBoundaryDimension=function(){return i.FALSE},ze.prototype.getDimension=function(){return 0},ze.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},ze.prototype.getGeometryType=function(){return"MultiPoint"},ze.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new ze(t,this._factory)},ze.prototype.interfaces_=function(){return[Ce]},ze.prototype.getClass=function(){return ze},t.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(ze,t),ze),qe=((Me=Le)&&(Ve.__proto__=Me),t={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}},((Ve.prototype=Object.create(Me&&Me.prototype)).constructor=Ve).prototype.getSortIndex=function(){return v.SORTINDEX_LINEARRING},Ve.prototype.getBoundaryDimension=function(){return i.FALSE},Ve.prototype.isClosed=function(){return!!this.isEmpty()||Me.prototype.isClosed.call(this)},Ve.prototype.reverse=function(){var t=this._points.copy();return Ne.reverse(t),this.getFactory().createLinearRing(t)},Ve.prototype.validateConstruction=function(){if(!this.isEmpty()&&!Me.prototype.isClosed.call(this))throw new p("Points of LinearRing do not form a closed linestring");if(1<=this.getCoordinateSequence().size()&&this.getCoordinateSequence().size()<Ve.MINIMUM_VALID_SIZE)throw new p("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},Ve.prototype.getGeometryType=function(){return"LinearRing"},Ve.prototype.copy=function(){return new Ve(this._points.copy(),this._factory)},Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve},t.MINIMUM_VALID_SIZE.get=function(){return 4},t.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(Ve,t),Ve),Be=((Te=me)&&(Ue.__proto__=Te),t={serialVersionUID:{configurable:!0}},((Ue.prototype=Object.create(Te&&Te.prototype)).constructor=Ue).prototype.getSortIndex=function(){return v.SORTINDEX_MULTIPOLYGON},Ue.prototype.equalsExact=function(){var t,e;return 2===arguments.length?(t=arguments[0],e=arguments[1],!!this.isEquivalentClass(t)&&Te.prototype.equalsExact.call(this,t,e)):Te.prototype.equalsExact.apply(this,arguments)},Ue.prototype.getBoundaryDimension=function(){return 1},Ue.prototype.getDimension=function(){return 2},Ue.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},Ue.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new E,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))},Ue.prototype.getGeometryType=function(){return"MultiPolygon"},Ue.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new Ue(t,this._factory)},Ue.prototype.interfaces_=function(){return[we]},Ue.prototype.getClass=function(){return Ue},t.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(Ue,t),Ue),t={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};function Ue(){Te.apply(this,arguments)}function Ve(t,e){t instanceof m&&e instanceof x&&(t=e.getCoordinateSequenceFactory().create(t)),Me.call(this,t,e),this.validateConstruction()}function ze(){De.apply(this,arguments)}function s(t,e,n){if(Ae.call(this,n),this._shell=null,(this._holes=null)===t&&(t=this.getFactory().createLinearRing()),Ae.hasNullElements(e=null===e?[]:e))throw new p("holes must not contain null elements");if(t.isEmpty()&&Ae.hasNonEmptyElements(e))throw new p("shell is empty but holes are not");this._shell=t,this._holes=e}Re.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},Re.prototype.edit=function(t,e){return null===t?null:(e=this.editInternal(t,e),this._isUserDataCopied&&e.setUserData(t.getUserData()),e)},Re.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof me?this.editGeometryCollection(t,e):t instanceof Fe?this.editPolygon(t,e):t instanceof Pe||t instanceof Le?e.edit(t,this._factory):(d.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},Re.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),i=new E,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===Ge?this._factory.createMultiPoint(i.toArray([])):n.getClass()===ve?this._factory.createMultiLineString(i.toArray([])):n.getClass()===Be?this._factory.createMultiPolygon(i.toArray([])):this._factory.createGeometryCollection(i.toArray([]))},Re.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if((n=null===n?this._factory.createPolygon(null):n).isEmpty())return n;t=this.edit(n.getExteriorRing(),e);if(null===t||t.isEmpty())return this._factory.createPolygon();for(var i=new E,r=0;r<n.getNumInteriorRing();r++){var o=this.edit(n.getInteriorRingN(r),e);null===o||o.isEmpty()||i.add(o)}return this._factory.createPolygon(t,i.toArray([]))},Re.prototype.interfaces_=function(){return[]},Re.prototype.getClass=function(){return Re},Re.GeometryEditorOperation=function(){},t.NoOpGeometryOperation.get=function(){return Ye},t.CoordinateOperation.get=function(){return He},t.CoordinateSequenceOperation.get=function(){return We},Object.defineProperties(Re,t);function ke(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new m}else if(y(arguments[0],g)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var i=0;i<this._coordinates.length;i++)this._coordinates[i]=n.getCoordinateCopy(i)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1];this._coordinates=r,this._dimension=o,null===r&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],o=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=o;for(var a=0;a<s;a++)this._coordinates[a]=new m}}function je(){}function a(){var t;this._modelType=null,this._scale=null,0===arguments.length?this._modelType=a.FLOATING:1===arguments.length&&(arguments[0]instanceof rn?(this._modelType=arguments[0])===a.FIXED&&this.setScale(1):"number"==typeof arguments[0]?(t=arguments[0],this._modelType=a.FIXED,this.setScale(t)):arguments[0]instanceof a&&(this._modelType=(t=arguments[0])._modelType,this._scale=t._scale))}var Xe,Ye=function(){},He=(Ye.prototype.edit=function(t,e){return t},Ye.prototype.interfaces_=function(){return[Re.GeometryEditorOperation]},Ye.prototype.getClass=function(){return Ye},function(){}),We=(He.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof qe?e.createLinearRing(n):t instanceof Le?e.createLineString(n):t instanceof Pe?0<n.length?e.createPoint(n[0]):e.createPoint():t},He.prototype.interfaces_=function(){return[Re.GeometryEditorOperation]},He.prototype.getClass=function(){return He},function(){}),t=(We.prototype.edit=function(t,e){return t instanceof qe?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Le?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Pe?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},We.prototype.interfaces_=function(){return[Re.GeometryEditorOperation]},We.prototype.getClass=function(){return We},{serialVersionUID:{configurable:!0}}),t=(ke.prototype.setOrdinate=function(t,e,n){switch(e){case g.X:this._coordinates[t].x=n;break;case g.Y:this._coordinates[t].y=n;break;case g.Z:this._coordinates[t].z=n;break;default:throw new p("invalid ordinateIndex")}},ke.prototype.size=function(){return this._coordinates.length},ke.prototype.getOrdinate=function(t,e){switch(e){case g.X:return this._coordinates[t].x;case g.Y:return this._coordinates[t].y;case g.Z:return this._coordinates[t].z}return c.NaN},ke.prototype.getCoordinate=function(){var t,e;if(1===arguments.length)return this._coordinates[arguments[0]];2===arguments.length&&(t=arguments[0],(e=arguments[1]).x=this._coordinates[t].x,e.y=this._coordinates[t].y,e.z=this._coordinates[t].z)},ke.prototype.getCoordinateCopy=function(t){return new m(this._coordinates[t])},ke.prototype.getDimension=function(){return this._dimension},ke.prototype.getX=function(t){return this._coordinates[t].x},ke.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new ke(t,this._dimension)},ke.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},ke.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new ke(t,this._dimension)},ke.prototype.toString=function(){if(0<this._coordinates.length){var t=new ot(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},ke.prototype.getY=function(t){return this._coordinates[t].y},ke.prototype.toCoordinateArray=function(){return this._coordinates},ke.prototype.interfaces_=function(){return[g,G]},ke.prototype.getClass=function(){return ke},t.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ke,t),{serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}}),Ke=(je.prototype.readResolve=function(){return je.instance()},je.prototype.create=function(){var t,e;return 1===arguments.length?arguments[0]instanceof Array||y(arguments[0],g)?new ke(arguments[0]):void 0:2===arguments.length?(t=arguments[0],(e=3<(e=arguments[1])?3:e)<2?new ke(t):new ke(t,e)):void 0},je.prototype.interfaces_=function(){return[it,G]},je.prototype.getClass=function(){return je},je.instance=function(){return je.instanceObject},t.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},t.instanceObject.get=function(){return new je},Object.defineProperties(je,t),(Xe=te)&&(Je.__proto__=Xe),((Je.prototype=Object.create(Xe&&Xe.prototype)).constructor=Je).prototype.get=function(t){return this.map_.get(t)||null},Je.prototype.put=function(t,e){return this.map_.set(t,e),e},Je.prototype.values=function(){for(var t=new E,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},Je.prototype.entrySet=function(){var e=new ae;return this.map_.entries().forEach(function(t){return e.add(t)}),e},Je.prototype.size=function(){return this.map_.size()},Je),t={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};function Je(){Xe.call(this),this.map_=new Map}a.prototype.equals=function(t){return t instanceof a&&this._modelType===t._modelType&&this._scale===t._scale},a.prototype.compareTo=function(t){var e=this.getMaximumSignificantDigits(),t=t.getMaximumSignificantDigits();return new st(e).compareTo(new st(t))},a.prototype.getScale=function(){return this._scale},a.prototype.isFloating=function(){return this._modelType===a.FLOATING||this._modelType===a.FLOATING_SINGLE},a.prototype.getType=function(){return this._modelType},a.prototype.toString=function(){var t="UNKNOWN";return this._modelType===a.FLOATING?t="Floating":this._modelType===a.FLOATING_SINGLE?t="Floating-Single":this._modelType===a.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},a.prototype.makePrecise=function(){if("number"==typeof arguments[0])return!c.isNaN(t=arguments[0])&&this._modelType!==a.FLOATING_SINGLE&&this._modelType===a.FIXED?Math.round(t*this._scale)/this._scale:t;if(arguments[0]instanceof m){var t=arguments[0];if(this._modelType===a.FLOATING)return null;t.x=this.makePrecise(t.x),t.y=this.makePrecise(t.y)}},a.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===a.FLOATING?t=16:this._modelType===a.FLOATING_SINGLE?t=6:this._modelType===a.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},a.prototype.setScale=function(t){this._scale=Math.abs(t)},a.prototype.interfaces_=function(){return[G,tt]},a.prototype.getClass=function(){return a},a.mostPrecise=function(t,e){return 0<=t.compareTo(e)?t:e},t.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},t.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(a,t);function Qe(t){this.geometryFactory=t||new x}function Ze(t){this.geometryFactory=t||new x,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Qe(this.geometryFactory)}function $e(){this.parser=new Qe(this.geometryFactory)}function I(){}function tn(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}function en(){this.array_=[]}var nn,rn=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},t={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}},x=(rn.prototype.readResolve=function(){return rn.nameToTypeMap.get(this._name)},rn.prototype.toString=function(){return this._name},rn.prototype.interfaces_=function(){return[G]},rn.prototype.getClass=function(){return rn},t.serialVersionUID.get=function(){return-552860263173159e4},t.nameToTypeMap.get=function(){return new Ke},Object.defineProperties(rn,t),a.Type=rn,a.FIXED=new rn("FIXED"),a.FLOATING=new rn("FLOATING"),a.FLOATING_SINGLE=new rn("FLOATING SINGLE"),function t(){this._precisionModel=new a,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0!==arguments.length&&(1===arguments.length?y(arguments[0],it)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof a&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))}),t={serialVersionUID:{configurable:!0}},on=(x.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new m(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new m(t.getMinX(),t.getMinY()),new m(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new m(t.getMinX(),t.getMinY()),new m(t.getMinX(),t.getMaxY()),new m(t.getMaxX(),t.getMaxY()),new m(t.getMaxX(),t.getMinY()),new m(t.getMinX(),t.getMinY())]),null)},x.prototype.createLineString=function(t){return t?t instanceof Array?new Le(this.getCoordinateSequenceFactory().create(t),this):y(t,g)?new Le(t,this):void 0:new Le(this.getCoordinateSequenceFactory().create([]),this)},x.prototype.createMultiLineString=function(){return 0===arguments.length?new ve(null,this):1===arguments.length?new ve(arguments[0],this):void 0},x.prototype.buildGeometry=function(t){for(var e=null,n=!1,i=!1,r=t.iterator();r.hasNext();){var o=r.next(),s=o.getClass();s!==(e=null===e?s:e)&&(n=!0),o.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(x.toGeometryArray(t));var a=t.iterator().next();if(1<t.size()){if(a instanceof Fe)return this.createMultiPolygon(x.toPolygonArray(t));if(a instanceof Le)return this.createMultiLineString(x.toLineStringArray(t));if(a instanceof Pe)return this.createMultiPoint(x.toPointArray(t));d.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},x.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},x.prototype.createPoint=function(){var t;return 0===arguments.length?this.createPoint(this.getCoordinateSequenceFactory().create([])):1===arguments.length?arguments[0]instanceof m?this.createPoint(null!==(t=arguments[0])?this.getCoordinateSequenceFactory().create([t]):null):y(arguments[0],g)?new Pe(arguments[0],this):void 0:void 0},x.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},x.prototype.createPolygon=function(){return 0===arguments.length?new Fe(null,null,this):1===arguments.length?y(arguments[0],g)||arguments[0]instanceof Array?this.createPolygon(this.createLinearRing(arguments[0])):arguments[0]instanceof qe?this.createPolygon(arguments[0],null):void 0:2===arguments.length?new Fe(arguments[0],arguments[1],this):void 0},x.prototype.getSRID=function(){return this._SRID},x.prototype.createGeometryCollection=function(){return 0===arguments.length?new me(null,this):1===arguments.length?new me(arguments[0],this):void 0},x.prototype.createGeometry=function(t){return new Re(this).edit(t,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},x.prototype.getPrecisionModel=function(){return this._precisionModel},x.prototype.createLinearRing=function(){var t;return 0===arguments.length?this.createLinearRing(this.getCoordinateSequenceFactory().create([])):1===arguments.length?arguments[0]instanceof Array?this.createLinearRing(null!==(t=arguments[0])?this.getCoordinateSequenceFactory().create(t):null):y(arguments[0],g)?new qe(arguments[0],this):void 0:void 0},x.prototype.createMultiPolygon=function(){return 0===arguments.length?new Be(null,this):1===arguments.length?new Be(arguments[0],this):void 0},x.prototype.createMultiPoint=function(){if(0===arguments.length)return new Ge(null,this);if(1===arguments.length){var t;if(arguments[0]instanceof Array)return new Ge(arguments[0],this);if(arguments[0]instanceof Array)return this.createMultiPoint(null!==(t=arguments[0])?this.getCoordinateSequenceFactory().create(t):null);if(y(arguments[0],g)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),i=0;i<e.size();i++){var r=this.getCoordinateSequenceFactory().create(1,e.getDimension());Ne.copy(e,i,r,0,1),n[i]=this.createPoint(r)}return this.createMultiPoint(n)}}},x.prototype.interfaces_=function(){return[G]},x.prototype.getClass=function(){return x},x.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},x.toGeometryArray=function(t){var e;return null===t?null:(e=new Array(t.size()).fill(null),t.toArray(e))},x.getDefaultCoordinateSequenceFactory=function(){return je.instance()},x.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},x.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},x.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},x.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},x.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},x.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},x.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},t.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(x,t),["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"]),sn=(Qe.prototype.read=function(t){var e=(t="string"==typeof t?JSON.parse(t):t).type;if(sn[e])return-1!==on.indexOf(e)?sn[e].apply(this,[t.coordinates]):"GeometryCollection"===e?sn[e].apply(this,[t.geometries]):sn[e].apply(this,[t]);throw new Error("Unknown GeoJSON type: "+t.type)},Qe.prototype.write=function(t){var e=t.getGeometryType();if(an[e])return an[e].apply(this,[t]);throw new Error("Geometry is not supported")},{Feature:function(t){var e,n={};for(e in t)n[e]=t[e];if(t.geometry){var i=t.geometry.type;if(!sn[i])throw new Error("Unknown GeoJSON type: "+t.type);n.geometry=this.read(t.geometry)}return t.bbox&&(n.bbox=sn.bbox.apply(this,[t.bbox])),n},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new m(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new m(t[0],t[1]),new m(t[2],t[1]),new m(t[2],t[3]),new m(t[0],t[3]),new m(t[0],t[1])])},Point:function(t){t=new m(t[0],t[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(sn.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){t=sn.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(t)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(sn.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=sn.coordinates.apply(this,[t[0]]),e=this.geometryFactory.createLinearRing(e),n=[],i=1;i<t.length;++i){var r=t[i],r=sn.coordinates.apply(this,[r]),r=this.geometryFactory.createLinearRing(r);n.push(r)}return this.geometryFactory.createPolygon(e,n)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(sn.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}}),an={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:an.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],i=an.Point.apply(this,[i]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(an.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],i=an.LineString.apply(this,[i]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=an.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var i=0;i<t._holes.length;++i){var r=t._holes[i],r=an.LineString.apply(this,[r]);e.push(r.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],i=an.Polygon.apply(this,[i]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=i.getGeometryType();e.push(an[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}},t=(Ze.prototype.read=function(t){t=this.parser.read(t);return this.precisionModel.getType()===a.FIXED&&this.reducePrecision(t),t},Ze.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])},$e.prototype.write=function(t){return this.parser.write(t)},{ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}}),un=(I.prototype.interfaces_=function(){return[]},I.prototype.getClass=function(){return I},I.opposite=function(t){return t===I.LEFT?I.RIGHT:t===I.RIGHT?I.LEFT:t},t.ON.get=function(){return 0},t.LEFT.get=function(){return 1},t.RIGHT.get=function(){return 2},Object.defineProperties(I,t),(K.prototype=new Error).name="EmptyStackException",(J.prototype=new jt).add=function(t){return this.array_.push(t),!0},J.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},J.prototype.push=function(t){return this.array_.push(t),t},J.prototype.pop=function(t){if(0===this.array_.length)throw new K;return this.array_.pop()},J.prototype.peek=function(){if(0===this.array_.length)throw new K;return this.array_[this.array_.length-1]},J.prototype.empty=function(){return 0===this.array_.length},J.prototype.isEmpty=function(){return this.empty()},J.prototype.search=function(t){return this.array_.indexOf(t)},J.prototype.size=function(){return this.array_.length},J.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},tn.prototype.getCoordinate=function(){return this._minCoord},tn.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return(n=n<0?this.getRightmostSideOfSegment(t,e-1):n)<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},tn.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates(),e=(d.isTrue(0<this._minIndex&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge"),t[this._minIndex-1]),t=t[this._minIndex+1],n=_.computeOrientation(this._minCoord,t,e),i=!1;(i=e.y<this._minCoord.y&&t.y<this._minCoord.y&&n===_.COUNTERCLOCKWISE||e.y>this._minCoord.y&&t.y>this._minCoord.y&&n===_.CLOCKWISE?!0:i)&&(this._minIndex=this._minIndex-1)},tn.prototype.getRightmostSideOfSegment=function(t,e){var n,t=t.getEdge().getCoordinates();return e<0||e+1>=t.length||t[e].y===t[e+1].y?-1:(n=I.LEFT,t[e].y<t[e+1].y?I.RIGHT:n)},tn.prototype.getEdge=function(){return this._orientedDe},tn.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},tn.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},tn.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}d.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===I.LEFT&&(this._orientedDe=this._minDe.getSym())},tn.prototype.interfaces_=function(){return[]},tn.prototype.getClass=function(){return tn},(nn=Nt)&&(cn.__proto__=nn),((cn.prototype=Object.create(nn&&nn.prototype)).constructor=cn).prototype.getCoordinate=function(){return this.pt},cn.prototype.interfaces_=function(){return[]},cn.prototype.getClass=function(){return cn},cn.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},cn);function cn(t,e){nn.call(this,cn.msgWithCoord(t,e)),this.pt=e?new m(e):null,this.name="TopologyException"}en.prototype.addLast=function(t){this.array_.push(t)},en.prototype.removeFirst=function(){return this.array_.shift()},en.prototype.isEmpty=function(){return 0===this.array_.length};function ln(){this._finder=null,this._dirEdgeList=new E,this._nodes=new E,this._rightMostCoord=null,this._env=null,this._finder=new tn}function N(){var t,e;if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[I.ON]=n}else if(arguments[0]instanceof N){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var r=0;r<this.location.length;r++)this.location[r]=i.location[r]}}else 3===arguments.length&&(n=arguments[0],t=arguments[1],e=arguments[2],this.init(3),this.location[I.ON]=n,this.location[I.LEFT]=t,this.location[I.RIGHT]=e)}function C(){var t,e,n,i;this.elt=new Array(2).fill(null),1===arguments.length?Number.isInteger(arguments[0])?(this.elt[0]=new N(t=arguments[0]),this.elt[1]=new N(t)):arguments[0]instanceof C&&(this.elt[0]=new N((t=arguments[0]).elt[0]),this.elt[1]=new N(t.elt[1])):2===arguments.length?(t=arguments[0],e=arguments[1],this.elt[0]=new N(h.NONE),this.elt[1]=new N(h.NONE),this.elt[t].setLocation(e)):3===arguments.length?(this.elt[0]=new N(t=arguments[0],e=arguments[1],n=arguments[2]),this.elt[1]=new N(t,e,n)):4===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],this.elt[0]=new N(h.NONE,h.NONE,h.NONE),this.elt[1]=new N(h.NONE,h.NONE,h.NONE),this.elt[t].setLocations(e,n,i))}function pn(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new E,this._pts=new E,this._label=new C(h.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new E,this._geometryFactory=null;var t=arguments[0];this._geometryFactory=arguments[1],this.computePoints(t),this.computeRing()}ln.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},ln.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},ln.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new un("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var r=t.getEdges().iterator();r.hasNext();){var o=r.next();o.setVisited(!0),this.copySymDepths(o)}},ln.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(I.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},ln.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},ln.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();1<=e.getDepth(I.RIGHT)&&e.getDepth(I.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},ln.prototype.computeDepths=function(t){var e=new ae,n=new en,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var s=o.next().getSym();s.isVisited()||(s=s.getNode(),e.contains(s))||(n.addLast(s),e.add(s))}}},ln.prototype.compareTo=function(t){return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},ln.prototype.getEnvelope=function(){if(null===this._env){for(var t=new u,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this._env=t}return this._env},ln.prototype.addReachable=function(t){var e=new J;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},ln.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(I.LEFT,t.getDepth(I.RIGHT)),e.setDepth(I.RIGHT,t.getDepth(I.LEFT))},ln.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next(),i=(this._dirEdgeList.add(i),i.getSym().getNode());i.isVisited()||e.push(i)}},ln.prototype.getNodes=function(){return this._nodes},ln.prototype.getDirectedEdges=function(){return this._dirEdgeList},ln.prototype.interfaces_=function(){return[tt]},ln.prototype.getClass=function(){return ln},N.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},N.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==h.NONE)return!1;return!0},N.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===h.NONE&&(this.location[e]=t)},N.prototype.isLine=function(){return 1===this.location.length},N.prototype.merge=function(t){var e;t.location.length>this.location.length&&((e=new Array(3).fill(null))[I.ON]=this.location[I.ON],e[I.LEFT]=h.NONE,e[I.RIGHT]=h.NONE,this.location=e);for(var n=0;n<this.location.length;n++)this.location[n]===h.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},N.prototype.getLocations=function(){return this.location},N.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[I.LEFT];this.location[I.LEFT]=this.location[I.RIGHT],this.location[I.RIGHT]=t},N.prototype.toString=function(){var t=new ot;return 1<this.location.length&&t.append(h.toLocationSymbol(this.location[I.LEFT])),t.append(h.toLocationSymbol(this.location[I.ON])),1<this.location.length&&t.append(h.toLocationSymbol(this.location[I.RIGHT])),t.toString()},N.prototype.setLocations=function(t,e,n){this.location[I.ON]=t,this.location[I.LEFT]=e,this.location[I.RIGHT]=n},N.prototype.get=function(t){return t<this.location.length?this.location[t]:h.NONE},N.prototype.isArea=function(){return 1<this.location.length},N.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===h.NONE)return!0;return!1},N.prototype.setLocation=function(){1===arguments.length?this.setLocation(I.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},N.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(h.NONE)},N.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},N.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},N.prototype.interfaces_=function(){return[]},N.prototype.getClass=function(){return N},C.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},C.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},C.prototype.isNull=function(t){return this.elt[t].isNull()},C.prototype.setAllLocationsIfNull=function(){var t;1===arguments.length?(this.setAllLocationsIfNull(0,t=arguments[0]),this.setAllLocationsIfNull(1,t)):2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},C.prototype.isLine=function(t){return this.elt[t].isLine()},C.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new N(t.elt[e]):this.elt[e].merge(t.elt[e])},C.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},C.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(I.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},C.prototype.toString=function(){var t=new ot;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},C.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},C.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},C.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(I.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},C.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},C.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},C.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new N(this.elt[t].location[0]))},C.prototype.interfaces_=function(){return[]},C.prototype.getClass=function(){return C},C.toLineLabel=function(t){for(var e=new C(h.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};function hn(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])}pn.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=_.isCCW(this._ring.getCoordinates())},pn.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},pn.prototype.computePoints=function(t){var e=this._startDe=t,n=!0;do{if(null===e)throw new un("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new un("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var i=e.getLabel()}while(d.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),(e=this.getNext(e))!==this._startDe)},pn.prototype.getLinearRing=function(){return this._ring},pn.prototype.getCoordinate=function(t){return this._pts.get(t)},pn.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this)}while(e>this._maxNodeDegree&&(this._maxNodeDegree=e),(t=this.getNext(t))!==this._startDe);this._maxNodeDegree*=2},pn.prototype.addPoints=function(t,e,n){var i=t.getCoordinates();if(e)for(var t=1,r=t=n?0:t;r<i.length;r++)this._pts.add(i[r]);else for(var e=i.length-2,o=e=n?i.length-1:e;0<=o;o--)this._pts.add(i[o])},pn.prototype.isHole=function(){return this._isHole},pn.prototype.setInResult=function(){for(var t=this._startDe;t.getEdge().setInResult(!0),(t=t.getNext())!==this._startDe;);},pn.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!_.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},pn.prototype.addHole=function(t){this._holes.add(t)},pn.prototype.isShell=function(){return null===this._shell},pn.prototype.getLabel=function(){return this._label},pn.prototype.getEdges=function(){return this._edges},pn.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},pn.prototype.getShell=function(){return this._shell},pn.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else{var e;if(2===arguments.length)return(e=arguments[0].getLocation(t=arguments[1],I.RIGHT))===h.NONE?null:this._label.getLocation(t)===h.NONE?(this._label.setLocation(t,e),null):void 0}},pn.prototype.setShell=function(t){null!==(this._shell=t)&&t.addHole(this)},pn.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},pn.prototype.interfaces_=function(){return[]},pn.prototype.getClass=function(){return pn},(gn=pn)&&(mn.__proto__=gn),((mn.prototype=Object.create(gn&&gn.prototype)).constructor=mn).prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},mn.prototype.getNext=function(t){return t.getNextMin()},mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn};var fn,gn,dn=mn,yn=((fn=pn)&&(_n.__proto__=fn),((_n.prototype=Object.create(fn&&fn.prototype)).constructor=_n).prototype.buildMinimalRings=function(){var t,e=new E,n=this._startDe;do{}while(null===n.getMinEdgeRing()&&(t=new dn(n,this._geometryFactory),e.add(t)),(n=n.getNext())!==this._startDe);return e},_n.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},_n.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){for(var t=this._startDe;t.getNode().getEdges().linkMinimalDirectedEdges(this),(t=t.getNext())!==this._startDe;);},_n.prototype.getNext=function(t){return t.getNext()},_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n},_n);function _n(){fn.call(this,arguments[0],arguments[1])}function mn(){gn.call(this,arguments[0],arguments[1])}hn.prototype.setVisited=function(t){this._isVisited=t},hn.prototype.setInResult=function(t){this._isInResult=t},hn.prototype.isCovered=function(){return this._isCovered},hn.prototype.isCoveredSet=function(){return this._isCoveredSet},hn.prototype.setLabel=function(t){this._label=t},hn.prototype.getLabel=function(){return this._label},hn.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},hn.prototype.updateIM=function(t){d.isTrue(2<=this._label.getGeometryCount(),"found partial label"),this.computeIM(t)},hn.prototype.isInResult=function(){return this._isInResult},hn.prototype.isVisited=function(){return this._isVisited},hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn};function vn(){this.nodeMap=new Y,this.nodeFact=null,this.nodeFact=arguments[0]}(En=hn)&&(xn.__proto__=En),((xn.prototype=Object.create(En&&En.prototype)).constructor=xn).prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},xn.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},xn.prototype.getCoordinate=function(){return this._coord},xn.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},xn.prototype.computeIM=function(t){},xn.prototype.computeMergedLocation=function(t,e){var n=h.NONE,n=this._label.getLocation(e);return t.isNull(e)||(t=t.getLocation(e),n!==h.BOUNDARY&&(n=t)),n},xn.prototype.setLabel=function(){if(2!==arguments.length)return En.prototype.setLabel.apply(this,arguments);var t=arguments[0],e=arguments[1];null===this._label?this._label=new C(t,e):this._label.setLocation(t,e)},xn.prototype.getEdges=function(){return this._edges},xn.prototype.mergeLabel=function(){if(arguments[0]instanceof xn)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof C)for(var t=arguments[0],e=0;e<2;e++){var n=this.computeMergedLocation(t,e);this._label.getLocation(e)===h.NONE&&this._label.setLocation(e,n)}},xn.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},xn.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=h.NONE,n=null,n=(e=null!==this._label?this._label.getLocation(t):e)===h.BOUNDARY?h.INTERIOR:h.BOUNDARY;this._label.setLocation(t,n)},xn.prototype.interfaces_=function(){return[]},xn.prototype.getClass=function(){return xn};var En,In=xn;function xn(){En.call(this),this._coord=null,this._edges=null;var t=arguments[0],e=arguments[1];this._coord=t,this._edges=e,this._label=new C(0,h.NONE)}vn.prototype.find=function(t){return this.nodeMap.get(t)},vn.prototype.addNode=function(){var t,e;return arguments[0]instanceof m?(null===(e=this.nodeMap.get(t=arguments[0]))&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e):arguments[0]instanceof In?null===(e=this.nodeMap.get((t=arguments[0]).getCoordinate()))?(this.nodeMap.put(t.getCoordinate(),t),t):(e.mergeLabel(t),e):void 0},vn.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},vn.prototype.iterator=function(){return this.nodeMap.values().iterator()},vn.prototype.values=function(){return this.nodeMap.values()},vn.prototype.getBoundaryNodes=function(t){for(var e=new E,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===h.BOUNDARY&&e.add(i)}return e},vn.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn};function S(){}function Nn(){var t,e,n,i;this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length?this._edge=arguments[0]:3===arguments.length?(t=arguments[0],e=arguments[1],n=arguments[2],this._edge=t,this.init(e,n),this._label=null):4===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],this._edge=t,this.init(e,n),this._label=i)}function Cn(){}var Sn,t={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}},bn=(S.prototype.interfaces_=function(){return[]},S.prototype.getClass=function(){return S},S.isNorthern=function(t){return t===S.NE||t===S.NW},S.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},S.commonHalfPlane=function(t,e){var n;return t===e?t:2==(t-e+4)%4?-1:0===(n=t<e?t:e)&&3===(e<t?t:e)?3:n},S.isInHalfPlane=function(t,e){return e===S.SE?t===S.SE||t===S.SW:t===e||t===e+1},S.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new p("Cannot compute the quadrant for point ( "+t+", "+e+" )");return 0<=t?0<=e?S.NE:S.SE:0<=e?S.NW:S.SW}if(arguments[0]instanceof m&&arguments[1]instanceof m){t=arguments[0],e=arguments[1];if(e.x===t.x&&e.y===t.y)throw new p("Cannot compute the quadrant for two identical points "+t);return e.x>=t.x?e.y>=t.y?S.NE:S.SE:e.y>=t.y?S.NW:S.SW}},t.NE.get=function(){return 0},t.NW.get=function(){return 1},t.SW.get=function(){return 2},t.SE.get=function(){return 3},Object.defineProperties(S,t),Nn.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:_.computeOrientation(t._p0,t._p1,this._p1)},Nn.prototype.getDy=function(){return this._dy},Nn.prototype.getCoordinate=function(){return this._p0},Nn.prototype.setNode=function(t){this._node=t},Nn.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),n=n.substring(i+1);t.print("  "+n+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Nn.prototype.compareTo=function(t){return this.compareDirection(t)},Nn.prototype.getDirectedCoordinate=function(){return this._p1},Nn.prototype.getDx=function(){return this._dx},Nn.prototype.getLabel=function(){return this._label},Nn.prototype.getEdge=function(){return this._edge},Nn.prototype.getQuadrant=function(){return this._quadrant},Nn.prototype.getNode=function(){return this._node},Nn.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Nn.prototype.computeLabel=function(t){},Nn.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=S.quadrant(this._dx,this._dy),d.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Nn.prototype.interfaces_=function(){return[tt]},Nn.prototype.getClass=function(){return Nn},(Sn=Nn)&&(b.__proto__=Sn),((b.prototype=Object.create(Sn&&Sn.prototype)).constructor=b).prototype.getNextMin=function(){return this._nextMin},b.prototype.getDepth=function(t){return this._depth[t]},b.prototype.setVisited=function(t){this._isVisited=t},b.prototype.computeDirectedLabel=function(){this._label=new C(this._edge.getLabel()),this._isForward||this._label.flip()},b.prototype.getNext=function(){return this._next},b.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new un("assigned depths do not match",this.getCoordinate());this._depth[t]=e},b.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,I.LEFT)===h.INTERIOR&&this._label.getLocation(e,I.RIGHT)===h.INTERIOR||(t=!1);return t},b.prototype.setNextMin=function(t){this._nextMin=t},b.prototype.print=function(t){Sn.prototype.print.call(this,t),t.print(" "+this._depth[I.LEFT]+"/"+this._depth[I.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},b.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},b.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,h.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,h.EXTERIOR);return t&&e&&n},b.prototype.setEdgeRing=function(t){this._edgeRing=t},b.prototype.getMinEdgeRing=function(){return this._minEdgeRing},b.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return t=this._isForward?t:-t},b.prototype.setInResult=function(t){this._isInResult=t},b.prototype.getSym=function(){return this._sym},b.prototype.isForward=function(){return this._isForward},b.prototype.getEdge=function(){return this._edge},b.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},b.prototype.setSym=function(t){this._sym=t},b.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},b.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta(),i=(this._isForward||(n=-n),1),r=(t===I.LEFT&&(i=-1),I.opposite(t)),n=e+n*i;this.setDepth(t,e),this.setDepth(r,n)},b.prototype.getEdgeRing=function(){return this._edgeRing},b.prototype.isInResult=function(){return this._isInResult},b.prototype.setNext=function(t){this._next=t},b.prototype.isVisited=function(){return this._isVisited},b.prototype.interfaces_=function(){return[]},b.prototype.getClass=function(){return b},b.depthFactor=function(t,e){return t===h.EXTERIOR&&e===h.INTERIOR?1:t===h.INTERIOR&&e===h.EXTERIOR?-1:0},b);function b(){var t=arguments[0],e=arguments[1];Sn.call(this,t),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],(this._isForward=e)?this.init(t.getCoordinate(0),t.getCoordinate(1)):(e=t.getNumPoints()-1,this.init(t.getCoordinate(e),t.getCoordinate(e-1))),this.computeDirectedLabel()}Cn.prototype.createNode=function(t){return new In(t,null)},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn};function Ln(){this._edges=new E,this._nodes=null,this._edgeEndList=new E,0===arguments.length?this._nodes=new vn(new Cn):1===arguments.length&&(this._nodes=new vn(arguments[0]))}function wn(){this._geometryFactory=null,this._shellList=new E,this._geometryFactory=arguments[0]}function On(){}function Pn(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e}function Rn(){this._size=null,this._items=null,this._size=0,this._items=new E,this._items.add(null)}function Tn(){}function Mn(){}function Dn(){this._childBoundables=new E,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])}Ln.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},Ln.prototype.find=function(t){return this._nodes.find(t)},Ln.prototype.addNode=function(){return arguments[0]instanceof In||arguments[0]instanceof m?this._nodes.addNode(arguments[0]):void 0},Ln.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ln.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Ln.prototype.debugPrintln=function(t){lt.out.println(t)},Ln.prototype.isBoundaryNode=function(t,e){var e=this._nodes.find(e);return null!==e&&null!==(e=e.getLabel())&&e.getLocation(t)===h.BOUNDARY},Ln.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Ln.prototype.matchInSameDirection=function(t,e,n,i){return!!t.equals(n)&&_.computeOrientation(t,e,i)===_.COLLINEAR&&S.quadrant(t,e)===S.quadrant(n,i)},Ln.prototype.getEdgeEnds=function(){return this._edgeEndList},Ln.prototype.debugPrint=function(t){lt.out.print(t)},Ln.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ln.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},Ln.prototype.insertEdge=function(t){this._edges.add(t)},Ln.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},Ln.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=(this._edges.add(n),new bn(n,!0)),n=new bn(n,!1);i.setSym(n),n.setSym(i),this.add(i),this.add(n)}},Ln.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Ln.prototype.getNodes=function(){return this._nodes.values()},Ln.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},Ln.prototype.interfaces_=function(){return[]},Ln.prototype.getClass=function(){return Ln},Ln.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},wn.prototype.sortShellsAndHoles=function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();(r.isHole()?n:e).add(r)}},wn.prototype.computePolygons=function(t){for(var e=new E,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this._geometryFactory);e.add(i)}return e},wn.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new un("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},wn.prototype.buildMinimalEdgeRings=function(t,e,n){for(var i=new E,r=t.iterator();r.hasNext();){var o,s,a=r.next();2<a.getMaxNodeDegree()?(a.linkDirectedEdgesForMinimalEdgeRings(),o=a.buildMinimalRings(),null!==(s=this.findShell(o))?(this.placePolygonHoles(s,o),e.add(s)):n.addAll(o)):i.add(a)}return i},wn.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},wn.prototype.buildMaximalEdgeRings=function(t){for(var e=new E,n=t.iterator();n.hasNext();){var i=n.next();i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()&&(i=new yn(i,this._geometryFactory),e.add(i),i.setInResult())}return e},wn.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},wn.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},wn.prototype.findEdgeRingContaining=function(t,e){for(var t=t.getLinearRing(),n=t.getEnvelopeInternal(),i=t.getCoordinateN(0),r=null,o=null,s=e.iterator();s.hasNext();){var a=s.next(),u=a.getLinearRing(),c=u.getEnvelopeInternal(),l=(null!==r&&(o=r.getLinearRing().getEnvelopeInternal()),!1);(l=c.contains(n)&&_.isPointInRing(i,u.getCoordinates())?!0:l)&&(null===r||o.contains(c))&&(r=a)}return r},wn.prototype.findShell=function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return d.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},wn.prototype.add=function(){var t,e;1===arguments.length?this.add((e=arguments[0]).getEdgeEnds(),e.getNodes()):2===arguments.length&&(e=arguments[0],Ln.linkResultDirectedEdges(arguments[1]),e=this.buildMaximalEdgeRings(e),t=new E,e=this.buildMinimalEdgeRings(e,this._shellList,t),this.sortShellsAndHoles(e,this._shellList,t),this.placeFreeHoles(this._shellList,t))},wn.prototype.interfaces_=function(){return[]},wn.prototype.getClass=function(){return wn},On.prototype.getBounds=function(){},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On},Pn.prototype.getItem=function(){return this._item},Pn.prototype.getBounds=function(){return this._bounds},Pn.prototype.interfaces_=function(){return[On,G]},Pn.prototype.getClass=function(){return Pn},Rn.prototype.poll=function(){var t;return this.isEmpty()?null:(t=this._items.get(1),this._items.set(1,this._items.get(this._size)),--this._size,this.reorder(1),t)},Rn.prototype.size=function(){return this._size},Rn.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Rn.prototype.clear=function(){this._size=0,this._items.clear()},Rn.prototype.isEmpty=function(){return 0===this._size},Rn.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Rn.prototype.interfaces_=function(){return[]},Rn.prototype.getClass=function(){return Rn},Tn.prototype.visitItem=function(t){},Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},Mn.prototype.insert=function(t,e){},Mn.prototype.remove=function(t,e){},Mn.prototype.query=function(){},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn};function An(){}function Fn(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()}function Gn(){var t;this._root=null,this._built=!1,this._itemBoundables=new E,this._nodeCapacity=null,0===arguments.length?this._nodeCapacity=Gn.DEFAULT_NODE_CAPACITY:1===arguments.length&&(d.isTrue(1<(t=arguments[0]),"Node capacity must be greater than 1"),this._nodeCapacity=t)}function qn(){}function Bn(){}var Un,Vn,t={serialVersionUID:{configurable:!0}},t=(Dn.prototype.getLevel=function(){return this._level},Dn.prototype.size=function(){return this._childBoundables.size()},Dn.prototype.getChildBoundables=function(){return this._childBoundables},Dn.prototype.addChildBoundable=function(t){d.isTrue(null===this._bounds),this._childBoundables.add(t)},Dn.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Dn.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Dn.prototype.interfaces_=function(){return[On,G]},Dn.prototype.getClass=function(){return Dn},t.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Dn,t),An.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},An.min=function(t){return An.sort(t),t.get(0)},An.sort=function(t,e){var n=t.toArray();e?he.sort(n,e):he.sort(n);for(var i=t.iterator(),r=0,o=n.length;r<o;r++)i.next(),i.set(n[r])},An.singletonList=function(t){var e=new E;return e.add(t),e},Fn.prototype.expandToQueue=function(t,e){var n=Fn.isComposite(this._boundable1),i=Fn.isComposite(this._boundable2);if(n&&i)return Fn.area(this._boundable1)>Fn.area(this._boundable2)?this.expand(this._boundable1,this._boundable2,t,e):this.expand(this._boundable2,this._boundable1,t,e),null;if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(i)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new p("neither boundable is composite")},Fn.prototype.isLeaves=function(){return!(Fn.isComposite(this._boundable1)||Fn.isComposite(this._boundable2))},Fn.prototype.compareTo=function(t){return this._distance<t._distance?-1:this._distance>t._distance?1:0},Fn.prototype.expand=function(t,e,n,i){for(var r=t.getChildBoundables().iterator();r.hasNext();){var o=r.next(),o=new Fn(o,e,this._itemDistance);o.getDistance()<i&&n.add(o)}},Fn.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},Fn.prototype.getDistance=function(){return this._distance},Fn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Fn.prototype.interfaces_=function(){return[tt]},Fn.prototype.getClass=function(){return Fn},Fn.area=function(t){return t.getBounds().getArea()},Fn.isComposite=function(t){return t instanceof Dn},{IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}}),zn=(Gn.prototype.getNodeCapacity=function(){return this._nodeCapacity},Gn.prototype.lastNode=function(t){return t.get(t.size()-1)},Gn.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Dn?t+=this.size(n):n instanceof Pn&&(t+=1)}return t}},Gn.prototype.removeItem=function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof Pn&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},Gn.prototype.itemsTree=function(){if(0===arguments.length)return this.build(),null===(t=this.itemsTree(this._root))?new E:t;if(1===arguments.length){for(var t=arguments[0],e=new E,n=t.getChildBoundables().iterator();n.hasNext();){var i,r=n.next();r instanceof Dn?null!==(i=this.itemsTree(r))&&e.add(i):r instanceof Pn?e.add(r.getItem()):d.shouldNeverReachHere()}return e.size()<=0?null:e}},Gn.prototype.insert=function(t,e){d.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Pn(t,e))},Gn.prototype.boundablesAtLevel=function(){var t;if(1===arguments.length)return n=arguments[0],t=new E,this.boundablesAtLevel(n,this._root,t),t;if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(d.isTrue(-2<e),n.getLevel()===e)i.add(n);else for(var r=n.getChildBoundables().iterator();r.hasNext();){var o=r.next();o instanceof Dn?this.boundablesAtLevel(e,o,i):(d.isTrue(o instanceof Pn),-1===e&&i.add(o))}return null}},Gn.prototype.query=function(){if(1===arguments.length)return t=arguments[0],this.build(),e=new E,this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e;if(2===arguments.length){var t=arguments[0],e=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e)}else if(3===arguments.length)if(y(arguments[2],Tn)&&arguments[0]instanceof Object&&arguments[1]instanceof Dn)for(var n=arguments[0],t=arguments[1],i=arguments[2],r=t.getChildBoundables(),o=0;o<r.size();o++){var s=r.get(o);this.getIntersectsOp().intersects(s.getBounds(),n)&&(s instanceof Dn?this.query(n,s,i):s instanceof Pn?i.visitItem(s.getItem()):d.shouldNeverReachHere())}else if(y(arguments[2],jt)&&arguments[0]instanceof Object&&arguments[1]instanceof Dn)for(var a=arguments[0],e=arguments[1],u=arguments[2],c=e.getChildBoundables(),l=0;l<c.size();l++){var p=c.get(l);this.getIntersectsOp().intersects(p.getBounds(),a)&&(p instanceof Dn?this.query(a,p,u):p instanceof Pn?u.add(p.getItem()):d.shouldNeverReachHere())}},Gn.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Gn.prototype.getRoot=function(){return this.build(),this._root},Gn.prototype.remove=function(){var t;if(2===arguments.length)return n=arguments[0],t=arguments[1],this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.remove(n,this._root,t);if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=this.removeItem(n,i);if(r)return!0;for(var o=null,s=n.getChildBoundables().iterator();s.hasNext();){var a=s.next();if(this.getIntersectsOp().intersects(a.getBounds(),e)&&a instanceof Dn&&(r=this.remove(e,a,i))){o=a;break}}return null!==o&&o.getChildBoundables().isEmpty()&&n.getChildBoundables().remove(o),r}},Gn.prototype.createHigherLevels=function(t,e){d.isTrue(!t.isEmpty());t=this.createParentBoundables(t,e+1);return 1===t.size()?t.get(0):this.createHigherLevels(t,e+1)},Gn.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Dn&&t<(n=this.depth(n))&&(t=n)}return t+1}},Gn.prototype.createParentBoundables=function(t,e){d.isTrue(!t.isEmpty());var n=new E,t=(n.add(this.createNode(e)),new E(t));An.sort(t,this.getComparator());for(var i=t.iterator();i.hasNext();){var r=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(r)}return n},Gn.prototype.isEmpty=function(){return(this._built?this._root:this._itemBoundables).isEmpty()},Gn.prototype.interfaces_=function(){return[G]},Gn.prototype.getClass=function(){return Gn},Gn.compareDoubles=function(t,e){return e<t?1:t<e?-1:0},t.IntersectsOp.get=function(){return zn},t.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},t.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Gn,t),function(){}),kn=(qn.prototype.distance=function(t,e){},qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn},(Vn=Gn)&&(L.__proto__=Vn),t={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}},((L.prototype=Object.create(Vn&&Vn.prototype)).constructor=L).prototype.createParentBoundablesFromVerticalSlices=function(t,e){d.isTrue(0<t.length);for(var n=new E,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},L.prototype.createNode=function(t){return new jn(t)},L.prototype.size=function(){return 0===arguments.length?Vn.prototype.size.call(this):Vn.prototype.size.apply(this,arguments)},L.prototype.insert=function(){var t,e;return 2!==arguments.length?Vn.prototype.insert.apply(this,arguments):(t=arguments[0],e=arguments[1],t.isNull()?null:void Vn.prototype.insert.call(this,t,e))},L.prototype.getIntersectsOp=function(){return L.intersectsOp},L.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;o<e;o++){i[o]=new E;for(var s=0;r.hasNext()&&s<n;){var a=r.next();i[o].add(a),s++}}return i},L.prototype.query=function(){if(1===arguments.length)return Vn.prototype.query.call(this,arguments[0]);2===arguments.length?Vn.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(y(arguments[2],Tn)&&arguments[0]instanceof Object&&arguments[1]instanceof Dn||y(arguments[2],jt)&&arguments[0]instanceof Object&&arguments[1]instanceof Dn)&&Vn.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},L.prototype.getComparator=function(){return L.yComparator},L.prototype.createParentBoundablesFromVerticalSlice=function(t,e){return Vn.prototype.createParentBoundables.call(this,t,e)},L.prototype.remove=function(){return 2===arguments.length?Vn.prototype.remove.call(this,arguments[0],arguments[1]):Vn.prototype.remove.apply(this,arguments)},L.prototype.depth=function(){return 0===arguments.length?Vn.prototype.depth.call(this):Vn.prototype.depth.apply(this,arguments)},L.prototype.createParentBoundables=function(t,e){d.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),t=new E(t),t=(An.sort(t,L.xComparator),this.verticalSlices(t,Math.trunc(Math.ceil(Math.sqrt(n)))));return this.createParentBoundablesFromVerticalSlices(t,e)},L.prototype.nearestNeighbour=function(){var t,e;if(1===arguments.length)return y(arguments[0],qn)?(e=arguments[0],e=new Fn(this.getRoot(),this.getRoot(),e),this.nearestNeighbour(e)):arguments[0]instanceof Fn?this.nearestNeighbour(arguments[0],c.POSITIVE_INFINITY):void 0;if(2===arguments.length){if(arguments[0]instanceof L&&y(arguments[1],qn))return e=arguments[0],n=arguments[1],e=new Fn(this.getRoot(),e.getRoot(),n),this.nearestNeighbour(e);if(arguments[0]instanceof Fn&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1],r=null,o=new Rn;for(o.add(n);!o.isEmpty()&&0<i;){var s=o.poll(),a=s.getDistance();if(i<=a)break;s.isLeaves()?(i=a,r=s):s.expandToQueue(o,i)}return[r.getBoundable(0).getItem(),r.getBoundable(1).getItem()]}}else if(3===arguments.length)return e=arguments[0],n=arguments[1],t=arguments[2],e=new Pn(e,n),n=new Fn(this.getRoot(),e,t),this.nearestNeighbour(n)[0]},L.prototype.interfaces_=function(){return[Mn,G]},L.prototype.getClass=function(){return L},L.centreX=function(t){return L.avg(t.getMinX(),t.getMaxX())},L.avg=function(t,e){return(t+e)/2},L.centreY=function(t){return L.avg(t.getMinY(),t.getMaxY())},t.STRtreeNode.get=function(){return jn},t.serialVersionUID.get=function(){return 0x39920f7d5f261e0},t.xComparator.get=function(){return{interfaces_:function(){return[nt]},compare:function(t,e){return Vn.compareDoubles(L.centreX(t.getBounds()),L.centreX(e.getBounds()))}}},t.yComparator.get=function(){return{interfaces_:function(){return[nt]},compare:function(t,e){return Vn.compareDoubles(L.centreY(t.getBounds()),L.centreY(e.getBounds()))}}},t.intersectsOp.get=function(){return{interfaces_:function(){return[Vn.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},t.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(L,t),L),jn=((Un=Dn)&&(Xn.__proto__=Un),((Xn.prototype=Object.create(Un&&Un.prototype)).constructor=Xn).prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new u(n.getBounds()):t.expandToInclude(n.getBounds())}return t},Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn},Xn);function Xn(){Un.call(this,arguments[0])}function L(t){Vn.call(this,t=t||L.DEFAULT_NODE_CAPACITY)}Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn},Bn.relativeSign=function(t,e){return t<e?-1:e<t?1:0},Bn.compare=function(t,e,n){if(!e.equals2D(n)){var i=Bn.relativeSign(e.x,n.x),r=Bn.relativeSign(e.y,n.y);switch(t){case 0:return Bn.compareValue(i,r);case 1:return Bn.compareValue(r,i);case 2:return Bn.compareValue(r,-i);case 3:return Bn.compareValue(-i,r);case 4:return Bn.compareValue(-i,-r);case 5:return Bn.compareValue(-r,-i);case 6:return Bn.compareValue(-r,i);case 7:return Bn.compareValue(i,-r)}d.shouldNeverReachHere("invalid octant value")}return 0},Bn.compareValue=function(t,e){return t<0?-1:0<t?1:e<0?-1:0<e?1:0};function Yn(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new m(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))}function Hn(){this._nodeMap=new Y,this._edge=null,this._edge=arguments[0]}function Wn(){}function Kn(){}function Jn(){}Yn.prototype.getCoordinate=function(){return this.coord},Yn.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Yn.prototype.compareTo=function(t){return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:Bn.compare(this._segmentOctant,this.coord,t.coord)},Yn.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},Yn.prototype.isInterior=function(){return this._isInterior},Yn.prototype.interfaces_=function(){return[tt]},Yn.prototype.getClass=function(){return Yn},Hn.prototype.getSplitCoordinates=function(){var t=new Jt;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},Hn.prototype.addCollapsedNodes=function(){var t=new E;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},Hn.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Hn.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),i=this._edge.getCoordinate(e+2);n.equals2D(i)&&t.add(new st(e+1))}},Hn.prototype.addEdgeCoordinates=function(t,e,n){var i=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(i);n.add(new m(t.coord),!1);for(var r=t.segmentIndex+1;r<=e.segmentIndex;r++)n.add(this._edge.getCoordinate(r));i&&n.add(new m(e.coord))},Hn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Hn.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},Hn.prototype.findCollapseIndex=function(t,e,n){var i;return!!t.coord.equals2D(e.coord)&&(i=e.segmentIndex-t.segmentIndex,e.isInterior()||i--,1===i)&&(n[0]=t.segmentIndex+1,!0)},Hn.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new st(e[0])),i=r}},Hn.prototype.getEdge=function(){return this._edge},Hn.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},Hn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(i),r=(i||n--,new Array(n).fill(null)),o=0;r[o++]=new m(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)r[o++]=this._edge.getCoordinate(s);return i&&(r[o]=new m(e.coord)),new ri(r,this._edge.getData())},Hn.prototype.add=function(t,e){var e=new Yn(this._edge,t,e,this._edge.getSegmentOctant(e)),n=this._nodeMap.get(e);return null!==n?(d.isTrue(n.coord.equals2D(t),"Found equal nodes with different coordinates"),n):(this._nodeMap.put(e,e),e)},Hn.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Nt("bad split edge start point at "+n);n=t.get(t.size()-1).getCoordinates(),t=n[n.length-1];if(!t.equals2D(e[e.length-1]))throw new Nt("bad split edge end point at "+t)},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn},Wn.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new p("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),i=Math.abs(e);return 0<=t?0<=e?i<=n?0:1:i<=n?7:6:0<=e?i<=n?3:2:i<=n?4:5}if(arguments[0]instanceof m&&arguments[1]instanceof m){t=arguments[0],e=arguments[1],i=e.x-t.x,n=e.y-t.y;if(0==i&&0==n)throw new p("Cannot compute the octant for two identical points "+t);return Wn.octant(i,n)}},Kn.prototype.getCoordinates=function(){},Kn.prototype.size=function(){},Kn.prototype.getCoordinate=function(t){},Kn.prototype.isClosed=function(){},Kn.prototype.setData=function(t){},Kn.prototype.getData=function(){},Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn};function w(){var t,e,n,i;this.p0=null,this.p1=null,0===arguments.length?(this.p0=new m,this.p1=new m):1===arguments.length?(this.p0=new m((t=arguments[0]).p0),this.p1=new m(t.p1)):2===arguments.length?(this.p0=arguments[0],this.p1=arguments[1]):4===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],this.p0=new m(t,e),this.p1=new m(n,i))}function Qn(){this.tempEnv1=new u,this.tempEnv2=new u,this._overlapSeg1=new w,this._overlapSeg2=new w}function Zn(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=i}function $n(){}function ti(){}function ei(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])}function O(){var t,e,n,i;this._quadrantSegments=O.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=O.CAP_ROUND,this._joinStyle=O.JOIN_ROUND,this._mitreLimit=O.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=O.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length&&(1===arguments.length?this.setQuadrantSegments(arguments[0]):2===arguments.length?(t=arguments[0],e=arguments[1],this.setQuadrantSegments(t),this.setEndCapStyle(e)):4===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],this.setQuadrantSegments(t),this.setEndCapStyle(e),this.setJoinStyle(n),this.setMitreLimit(i)))}Jn.prototype.addIntersection=function(t,e){},Jn.prototype.interfaces_=function(){return[Kn]},Jn.prototype.getClass=function(){return Jn};var ni,ii,ri=function(){this._nodeList=new Hn(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e},t=(ri.prototype.getCoordinates=function(){return this._pts},ri.prototype.size=function(){return this._pts.length},ri.prototype.getCoordinate=function(t){return this._pts[t]},ri.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},ri.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},ri.prototype.setData=function(t){this._data=t},ri.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Wn.octant(t,e)},ri.prototype.getData=function(){return this._data},ri.prototype.addIntersection=function(){var t,e;2===arguments.length?this.addIntersectionNode(arguments[0],arguments[1]):4===arguments.length&&(e=arguments[0],t=arguments[1],e=new m(e.getIntersection(arguments[3])),this.addIntersection(e,t))},ri.prototype.toString=function(){return _t.toLineString(new ke(this._pts))},ri.prototype.getNodeList=function(){return this._nodeList},ri.prototype.addIntersectionNode=function(t,e){var n,i=e+1;return i<this._pts.length&&(n=this._pts[i],t.equals2D(n))&&(e=i),this._nodeList.add(t,e)},ri.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},ri.prototype.interfaces_=function(){return[Jn]},ri.prototype.getClass=function(){return ri},ri.getNodedSubstrings=function(){var t;if(1===arguments.length)return e=arguments[0],t=new E,ri.getNodedSubstrings(e,t),t;if(2===arguments.length)for(var e=arguments[0],n=arguments[1],i=e.iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(n)},{serialVersionUID:{configurable:!0}}),oi=(w.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},w.prototype.orientationIndex=function(){var t,e;return arguments[0]instanceof w?(t=_.orientationIndex(this.p0,this.p1,(e=arguments[0]).p0),e=_.orientationIndex(this.p0,this.p1,e.p1),0<=t&&0<=e||t<=0&&e<=0?Math.max(t,e):0):arguments[0]instanceof m?_.orientationIndex(this.p0,this.p1,arguments[0]):void 0},w.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},w.prototype.isVertical=function(){return this.p0.x===this.p1.x},w.prototype.equals=function(t){return t instanceof w&&this.p0.equals((t=t).p0)&&this.p1.equals(t.p1)},w.prototype.intersection=function(t){var e=new Pt;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},w.prototype.project=function(){var t,e,n,i;return arguments[0]instanceof m?(t=arguments[0]).equals(this.p0)||t.equals(this.p1)?new m(t):(t=this.projectionFactor(t),(i=new m).x=this.p0.x+t*(this.p1.x-this.p0.x),i.y=this.p0.y+t*(this.p1.y-this.p0.y),i):arguments[0]instanceof w?(i=this.projectionFactor((t=arguments[0]).p0),e=this.projectionFactor(t.p1),1<=i&&1<=e||i<=0&&e<=0?null:(n=this.project(t.p0),i<0&&(n=this.p0),1<i&&(n=this.p1),i=this.project(t.p1),e<0&&(i=this.p0),1<e&&(i=this.p1),new w(n,i))):void 0},w.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},w.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},w.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},w.prototype.distancePerpendicular=function(t){return _.distancePointLinePerpendicular(t,this.p0,this.p1)},w.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},w.prototype.midPoint=function(){return w.midPoint(this.p0,this.p1)},w.prototype.projectionFactor=function(t){var e,n,i;return t.equals(this.p0)?0:t.equals(this.p1)?1:(i=(e=this.p1.x-this.p0.x)*e+(n=this.p1.y-this.p0.y)*n)<=0?c.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},w.prototype.closestPoints=function(t){var e,n,i,r=this.intersection(t);return null!==r?[r,r]:(r=new Array(2).fill(null),n=c.MAX_VALUE,e=null,n=(i=this.closestPoint(t.p0)).distance(t.p0),r[0]=i,r[1]=t.p0,(e=(i=this.closestPoint(t.p1)).distance(t.p1))<n&&(n=e,r[0]=i,r[1]=t.p1),(e=(i=t.closestPoint(this.p0)).distance(this.p0))<n&&(n=e,r[0]=this.p0,r[1]=i),(e=(i=t.closestPoint(this.p1)).distance(this.p1))<n&&(n=e,r[0]=this.p1,r[1]=i),r)},w.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return 0<e&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},w.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},w.prototype.getLength=function(){return this.p0.distance(this.p1)},w.prototype.compareTo=function(t){var e=this.p0.compareTo(t.p0);return 0!==e?e:this.p1.compareTo(t.p1)},w.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},w.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},w.prototype.lineIntersection=function(t){try{return dt.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof ft))throw t}return null},w.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},w.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),t=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,r=this.p1.y-this.p0.y,o=Math.sqrt(i*i+r*r),s=0,a=0;if(0!==e){if(o<=0)throw new Error("Cannot compute offset from zero-length line segment");s=e*i/o,a=e*r/o}return new m(n-a,t+s)},w.prototype.setCoordinates=function(){var t,e;1===arguments.length?this.setCoordinates((t=arguments[0]).p0,t.p1):2===arguments.length&&(t=arguments[0],e=arguments[1],this.p0.x=t.x,this.p0.y=t.y,this.p1.x=e.x,this.p1.y=e.y)},w.prototype.segmentFraction=function(t){t=this.projectionFactor(t);return t<0?t=0:(1<t||c.isNaN(t))&&(t=1),t},w.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},w.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},w.prototype.distance=function(){var t;return arguments[0]instanceof w?_.distanceLineLine(this.p0,this.p1,(t=arguments[0]).p0,t.p1):arguments[0]instanceof m?_.distancePointLine(arguments[0],this.p0,this.p1):void 0},w.prototype.pointAlong=function(t){var e=new m;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},w.prototype.hashCode=function(){var t=c.doubleToLongBits(this.p0.x),t=(t^=31*c.doubleToLongBits(this.p0.y),Math.trunc(t)^Math.trunc(t>>32)),e=c.doubleToLongBits(this.p1.x);return e^=31*c.doubleToLongBits(this.p1.y),t^(Math.trunc(e)^Math.trunc(e>>32))},w.prototype.interfaces_=function(){return[tt,G]},w.prototype.getClass=function(){return w},w.midPoint=function(t,e){return new m((t.x+e.x)/2,(t.y+e.y)/2)},t.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(w,t),Qn.prototype.overlap=function(){var t,e,n,i;2!==arguments.length&&4===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2))},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn},Zn.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},Zn.prototype.computeSelect=function(t,e,n,i){var r=this._pts[e],o=this._pts[n];return i.tempEnv1.init(r,o),n-e==1?(i.select(this,e),null):t.intersects(i.tempEnv1)?(e<(r=Math.trunc((e+n)/2))&&this.computeSelect(t,e,r,i),void(r<n&&this.computeSelect(t,r,n,i))):null},Zn.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},Zn.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},Zn.prototype.setId=function(t){this._id=t},Zn.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},Zn.prototype.getEnvelope=function(){var t,e;return null===this._env&&(t=this._pts[this._start],e=this._pts[this._end],this._env=new u(t,e)),this._env},Zn.prototype.getEndIndex=function(){return this._end},Zn.prototype.getStartIndex=function(){return this._start},Zn.prototype.getContext=function(){return this._context},Zn.prototype.getId=function(){return this._id},Zn.prototype.computeOverlapsInternal=function(t,e,n,i,r,o){var s=this._pts[t],a=this._pts[e],u=n._pts[i],c=n._pts[r];return e-t==1&&r-i==1?(o.overlap(this,t,n,i),null):(o.tempEnv1.init(s,a),o.tempEnv2.init(u,c),o.tempEnv1.intersects(o.tempEnv2)?(s=Math.trunc((t+e)/2),a=Math.trunc((i+r)/2),t<s&&(i<a&&this.computeOverlapsInternal(t,s,n,i,a,o),a<r)&&this.computeOverlapsInternal(t,s,n,a,r,o),void(s<e&&(i<a&&this.computeOverlapsInternal(s,e,n,i,a,o),a<r)&&this.computeOverlapsInternal(s,e,n,a,r,o))):null)},Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n},$n.getChainStartIndices=function(t){var e=0,n=new E;n.add(new st(e));do{var i=$n.findChainEnd(t,e)}while(n.add(new st(i)),(e=i)<t.length-1);return $n.toIntArray(n)},$n.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=S.quadrant(t[n],t[n+1]),r=e+1;r<t.length&&(t[r-1].equals2D(t[r])||S.quadrant(t[r-1],t[r])===i);)r++;return r-1},$n.getChains=function(){if(1===arguments.length)return $n.getChains(arguments[0],null);if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=new E,i=$n.getChainStartIndices(t),r=0;r<i.length-1;r++){var o=new Zn(t,i[r],i[r+1],e);n.add(o)}return n}},$n.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},ti.prototype.computeNodes=function(t){},ti.prototype.getNodedSubstrings=function(){},ti.prototype.interfaces_=function(){return[]},ti.prototype.getClass=function(){return ti},ei.prototype.setSegmentIntersector=function(t){this._segInt=t},ei.prototype.interfaces_=function(){return[ti]},ei.prototype.getClass=function(){return ei},(ii=ei)&&(ui.__proto__=ii),t={SegmentOverlapAction:{configurable:!0}},((ui.prototype=Object.create(ii&&ii.prototype)).constructor=ui).prototype.getMonotoneChains=function(){return this._monoChains},ui.prototype.getNodedSubstrings=function(){return ri.getNodedSubstrings(this._nodedSegStrings)},ui.prototype.getIndex=function(){return this._index},ui.prototype.add=function(t){for(var e=$n.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},ui.prototype.computeNodes=function(t){for(var e=(this._nodedSegStrings=t).iterator();e.hasNext();)this.add(e.next());this.intersectChains()},ui.prototype.intersectChains=function(){for(var t=new si(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this._index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,t),this._nOverlaps++),this._segInt.isDone())return null}},ui.prototype.interfaces_=function(){return[]},ui.prototype.getClass=function(){return ui},t.SegmentOverlapAction.get=function(){return si},Object.defineProperties(ui,t),ui),si=((ni=Qn)&&(ai.__proto__=ni),((ai.prototype=Object.create(ni&&ni.prototype)).constructor=ai).prototype.overlap=function(){if(4!==arguments.length)return ni.prototype.overlap.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],t=t.getContext(),n=n.getContext();this._si.processIntersections(t,e,n,i)},ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai},ai),t={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};function ai(){ni.call(this),this._si=null,this._si=arguments[0]}function ui(t){t?ii.call(this,t):ii.call(this),this._monoChains=new E,this._index=new kn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}O.prototype.getEndCapStyle=function(){return this._endCapStyle},O.prototype.isSingleSided=function(){return this._isSingleSided},O.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=O.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=O.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==O.JOIN_ROUND&&(this._quadrantSegments=O.DEFAULT_QUADRANT_SEGMENTS)},O.prototype.getJoinStyle=function(){return this._joinStyle},O.prototype.setJoinStyle=function(t){this._joinStyle=t},O.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},O.prototype.getSimplifyFactor=function(){return this._simplifyFactor},O.prototype.getQuadrantSegments=function(){return this._quadrantSegments},O.prototype.setEndCapStyle=function(t){this._endCapStyle=t},O.prototype.getMitreLimit=function(){return this._mitreLimit},O.prototype.setMitreLimit=function(t){this._mitreLimit=t},O.prototype.setSingleSided=function(t){this._isSingleSided=t},O.prototype.interfaces_=function(){return[]},O.prototype.getClass=function(){return O},O.bufferDistanceError=function(t){t=Math.PI/2/t;return 1-Math.cos(t/2)},t.CAP_ROUND.get=function(){return 1},t.CAP_FLAT.get=function(){return 2},t.CAP_SQUARE.get=function(){return 3},t.JOIN_ROUND.get=function(){return 1},t.JOIN_MITRE.get=function(){return 2},t.JOIN_BEVEL.get=function(){return 3},t.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},t.DEFAULT_MITRE_LIMIT.get=function(){return 5},t.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(O,t);function ci(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=_.COUNTERCLOCKWISE,this._inputLine=t||null}function li(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new E}function P(){}function R(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new w,this._seg1=new w,this._offset0=new w,this._offset1=new w,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._precisionModel=t,this._bufParams=e,this._li=new Pt,this._filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),8<=e.getQuadrantSegments()&&e.getJoinStyle()===O.JOIN_ROUND&&(this._closingSegLengthFactor=R.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)}function pi(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e}function hi(){this._subgraphs=null,this._seg=new w,this._cga=new _,this._subgraphs=arguments[0]}function T(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null}function fi(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new E;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n}function gi(){}function di(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()}function yi(){this._geom=null,this._geom=arguments[0]}function _i(){this._edgeMap=new Y,this._edgeList=null,this._ptInAreaLocation=[h.NONE,h.NONE]}function mi(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=mi.orientation(t)}var vi,Ei,t={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}},t=(ci.prototype.isDeletable=function(t,e,n,i){var r=this._inputLine[t],e=this._inputLine[e],o=this._inputLine[n];return!!this.isConcave(r,e,o)&&!!this.isShallow(r,e,o,i)&&this.isShallowSampled(r,e,t,n,i)},ci.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),i=!1;n<this._inputLine.length;){var r=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=ci.DELETE,i=r=!0),e=this.findNextNonDeletedIndex(t=r?n:e),n=this.findNextNonDeletedIndex(e)}return i},ci.prototype.isShallowConcavity=function(t,e,n,i){return _.computeOrientation(t,e,n)===this._angleOrientation&&_.distancePointLine(e,t,n)<i},ci.prototype.isShallowSampled=function(t,e,n,i,r){var o=Math.trunc((i-n)/ci.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<i;s+=o)if(!this.isShallow(t,e,this._inputLine[s],r))return!1;return!0},ci.prototype.isConcave=function(t,e,n){return _.computeOrientation(t,e,n)===this._angleOrientation},ci.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=_.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);for(;this.deleteShallowConcavities(););return this.collapseLine()},ci.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===ci.DELETE;)e++;return e},ci.prototype.isShallow=function(t,e,n,i){return _.distancePointLine(e,t,n)<i},ci.prototype.collapseLine=function(){for(var t=new Jt,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==ci.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci},ci.simplify=function(t,e){return new ci(t).simplify(e)},t.INIT.get=function(){return 0},t.DELETE.get=function(){return 1},t.KEEP.get=function(){return 1},t.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(ci,t),{COORDINATE_ARRAY_TYPE:{configurable:!0}}),t=(li.prototype.getCoordinates=function(){return this._ptList.toArray(li.COORDINATE_ARRAY_TYPE)},li.prototype.setPrecisionModel=function(t){this._precisionModel=t},li.prototype.addPt=function(t){t=new m(t);if(this._precisionModel.makePrecise(t),this.isRedundant(t))return null;this._ptList.add(t)},li.prototype.revere=function(){},li.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var i=t.length-1;0<=i;i--)this.addPt(t[i])},li.prototype.isRedundant=function(t){var e;return!(this._ptList.size()<1)&&(e=this._ptList.get(this._ptList.size()-1),t.distance(e)<this._minimimVertexDistance)},li.prototype.toString=function(){return(new x).createLineString(this.getCoordinates()).toString()},li.prototype.closeRing=function(){var t,e;return this._ptList.size()<1||(t=new m(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1),t.equals(e))?null:void this._ptList.add(t)},li.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li},t.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(li,t),{PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}}),t=(P.prototype.interfaces_=function(){return[]},P.prototype.getClass=function(){return P},P.toDegrees=function(t){return 180*t/Math.PI},P.normalize=function(t){for(;t>Math.PI;)t-=P.PI_TIMES_2;for(;t<=-Math.PI;)t+=P.PI_TIMES_2;return t},P.angle=function(){var t,e,n;return 1===arguments.length?(t=arguments[0],Math.atan2(t.y,t.x)):2===arguments.length?(t=arguments[0],e=(n=arguments[1]).x-t.x,n=n.y-t.y,Math.atan2(n,e)):void 0},P.isAcute=function(t,e,n){var i=t.x-e.x,t=t.y-e.y;return 0<i*(n.x-e.x)+t*(n.y-e.y)},P.isObtuse=function(t,e,n){var i=t.x-e.x,t=t.y-e.y;return i*(n.x-e.x)+t*(n.y-e.y)<0},P.interiorAngle=function(t,e,n){t=P.angle(e,t),e=P.angle(e,n);return Math.abs(e-t)},P.normalizePositive=function(t){if(t<0){for(;t<0;)t+=P.PI_TIMES_2;P.PI_TIMES_2<=t&&(t=0)}else{for(;P.PI_TIMES_2<=t;)t-=P.PI_TIMES_2;t<0&&(t=0)}return t},P.angleBetween=function(t,e,n){t=P.angle(e,t),e=P.angle(e,n);return P.diff(t,e)},P.diff=function(t,e){var n=null;return n=(n=t<e?e-t:t-e)>Math.PI?2*Math.PI-n:n},P.toRadians=function(t){return t*Math.PI/180},P.getTurn=function(t,e){e=Math.sin(e-t);return 0<e?P.COUNTERCLOCKWISE:e<0?P.CLOCKWISE:P.NONE},P.angleBetweenOriented=function(t,e,n){t=P.angle(e,t),e=P.angle(e,n)-t;return e<=-Math.PI?e+P.PI_TIMES_2:e>Math.PI?e-P.PI_TIMES_2:e},t.PI_TIMES_2.get=function(){return 2*Math.PI},t.PI_OVER_2.get=function(){return Math.PI/2},t.PI_OVER_4.get=function(){return Math.PI/4},t.COUNTERCLOCKWISE.get=function(){return _.COUNTERCLOCKWISE},t.CLOCKWISE.get=function(){return _.CLOCKWISE},t.NONE.get=function(){return _.COLLINEAR},Object.defineProperties(P,t),{OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}}),t=(R.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var t=_.computeOrientation(this._s0,this._s1,this._s2),n=t===_.CLOCKWISE&&this._side===I.LEFT||t===_.COUNTERCLOCKWISE&&this._side===I.RIGHT;0===t?this.addCollinear(e):n?this.addOutsideTurn(t,e):this.addInsideTurn(t,e)},R.prototype.addLineEndCap=function(t,e){var n=new w(t,e),i=new w,r=(this.computeOffsetSegment(n,I.LEFT,this._distance,i),new w),n=(this.computeOffsetSegment(n,I.RIGHT,this._distance,r),e.x-t.x),t=e.y-t.y,o=Math.atan2(t,n);switch(this._bufParams.getEndCapStyle()){case O.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(e,o+Math.PI/2,o-Math.PI/2,_.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case O.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case O.CAP_SQUARE:var s=new m,a=(s.x=Math.abs(this._distance)*Math.cos(o),s.y=Math.abs(this._distance)*Math.sin(o),new m(i.p1.x+s.x,i.p1.y+s.y)),s=new m(r.p1.x+s.x,r.p1.y+s.y);this._segList.addPt(a),this._segList.addPt(s)}},R.prototype.getCoordinates=function(){return this._segList.getCoordinates()},R.prototype.addMitreJoin=function(t,e,n,i){var r=!0,o=null;try{o=dt.intersection(e.p0,e.p1,n.p0,n.p1),(i<=0?1:o.distance(t)/Math.abs(i))>this._bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof ft))throw t;o=new m(0,0),r=!1}r?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())},R.prototype.addFilletCorner=function(t,e,n,i,r){var o=e.x-t.x,s=e.y-t.y,s=Math.atan2(s,o),o=n.x-t.x,a=n.y-t.y,a=Math.atan2(a,o);i===_.CLOCKWISE?s<=a&&(s+=2*Math.PI):a<=s&&(s-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,s,a,i,r),this._segList.addPt(n)},R.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*R.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===O.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===O.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},R.prototype.createSquare=function(t){this._segList.addPt(new m(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new m(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new m(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new m(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},R.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},R.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},R.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},R.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},R.prototype.addLimitedMitreJoin=function(t,e,n,i){var r=this._seg0.p1,o=P.angle(r,this._seg0.p0),s=P.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,o=P.normalize(o+s),o=P.normalize(o+Math.PI),i=i*n,n=n-i*Math.abs(Math.sin(s)),s=r.x+i*Math.cos(o),i=r.y+i*Math.sin(o),o=new m(s,i),s=new w(r,o),i=s.pointAlongOffset(1,n),r=s.pointAlongOffset(1,-n);this._side===I.LEFT?(this._segList.addPt(i),this._segList.addPt(r)):(this._segList.addPt(r),this._segList.addPt(i))},R.prototype.computeOffsetSegment=function(t,e,n,i){var e=e===I.LEFT?1:-1,r=t.p1.x-t.p0.x,o=t.p1.y-t.p0.y,s=Math.sqrt(r*r+o*o),r=e*n*r/s,e=e*n*o/s;i.p0.x=t.p0.x-e,i.p0.y=t.p0.y+r,i.p1.x=t.p1.x-e,i.p1.y=t.p1.y+r},R.prototype.addFilletArc=function(t,e,n,i,r){var o=i===_.CLOCKWISE?-1:1,s=Math.abs(e-n),i=Math.trunc(s/this._filletAngleQuantum+.5);if(i<1)return null;for(var a=s/i,u=0,c=new m;u<s;){var l=e+o*u;c.x=t.x+r*Math.cos(l),c.y=t.y+r*Math.sin(l),this._segList.addPt(c),u+=a}},R.prototype.addInsideTurn=function(t,e){var n;this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection()?this._segList.addPt(this._li.getIntersection(0)):(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*R.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR?this._segList.addPt(this._offset0.p1):(this._segList.addPt(this._offset0.p1),0<this._closingSegLengthFactor?(n=new m((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1)),this._segList.addPt(n),n=new m((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1)),this._segList.addPt(n)):this._segList.addPt(this._s1),this._segList.addPt(this._offset1.p0)))},R.prototype.createCircle=function(t){var e=new m(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},R.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},R.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new li,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*R.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},R.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),2<=this._li.getIntersectionNum()&&(this._bufParams.getJoinStyle()===O.JOIN_BEVEL||this._bufParams.getJoinStyle()===O.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,_.CLOCKWISE,this._distance))},R.prototype.closeRing=function(){this._segList.closeRing()},R.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},R.prototype.interfaces_=function(){return[]},R.prototype.getClass=function(){return R},t.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},t.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},t.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},t.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(R,t),pi.prototype.getOffsetCurve=function(t,e){var n;return 0===(this._distance=e)?null:(n=e<0,e=Math.abs(e),e=this.getSegGen(e),t.length<=1?this.computePointCurve(t[0],e):this.computeOffsetCurve(t,n,e),t=e.getCoordinates(),n&&l.reverse(t),t)},pi.prototype.computeSingleSidedBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var r=ci.simplify(t,-i),e=r.length-1;n.initSideSegments(r[e],r[e-1],I.LEFT),n.addFirstSegment();for(var o=e-2;0<=o;o--)n.addNextSegment(r[o],!0)}else{n.addSegments(t,!1);var s=ci.simplify(t,i),a=s.length-1;n.initSideSegments(s[0],s[1],I.LEFT),n.addFirstSegment();for(var u=2;u<=a;u++)n.addNextSegment(s[u],!0)}n.addLastSegment(),n.closeRing()},pi.prototype.computeRingBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance),r=ci.simplify(t,i=e===I.RIGHT?-i:i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var s=1;s<=o;s++)n.addNextSegment(r[s],1!==s);n.closeRing()},pi.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),i=ci.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],I.LEFT);for(var o=2;o<=r;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var s=ci.simplify(t,-n),t=s.length-1;e.initSideSegments(s[t],s[t-1],I.LEFT);for(var a=t-2;0<=a;a--)e.addNextSegment(s[a],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},pi.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case O.CAP_ROUND:e.createCircle(t);break;case O.CAP_SQUARE:e.createSquare(t)}},pi.prototype.getLineCurve=function(t,e){var n;return(this._distance=e)<0&&!this._bufParams.isSingleSided()||0===e?null:(n=Math.abs(e),n=this.getSegGen(n),t.length<=1?this.computePointCurve(t[0],n):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(t,e<0,n):this.computeLineBufferCurve(t,n),n.getCoordinates())},pi.prototype.getBufferParameters=function(){return this._bufParams},pi.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},pi.prototype.getRingCurve=function(t,e,n){return this._distance=n,t.length<=2?this.getLineCurve(t,n):0===n?pi.copyCoordinates(t):(n=this.getSegGen(n),this.computeRingBufferCurve(t,e,n),n.getCoordinates())},pi.prototype.computeOffsetCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var r=ci.simplify(t,-i),e=r.length-1;n.initSideSegments(r[e],r[e-1],I.LEFT),n.addFirstSegment();for(var o=e-2;0<=o;o--)n.addNextSegment(r[o],!0)}else{var s=ci.simplify(t,i),a=s.length-1;n.initSideSegments(s[0],s[1],I.LEFT),n.addFirstSegment();for(var u=2;u<=a;u++)n.addNextSegment(s[u],!0)}n.addLastSegment()},pi.prototype.getSegGen=function(t){return new R(this._precisionModel,this._bufParams,t)},pi.prototype.interfaces_=function(){return[]},pi.prototype.getClass=function(){return pi},pi.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new m(t[n]);return e},{DepthSegment:{configurable:!0}}),Ii=(hi.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new E,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(y(arguments[2],jt)&&arguments[0]instanceof m&&arguments[1]instanceof bn)for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates(),c=0;c<u.length-1;c++){var l;this._seg.p0=u[c],this._seg.p1=u[c+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||_.computeOrientation(this._seg.p0,this._seg.p1,o)===_.RIGHT||(l=s.getDepth(I.LEFT),this._seg.p0.equals(u[c])||(l=s.getDepth(I.RIGHT)),l=new Ii(this._seg,l),a.add(l))}else if(y(arguments[2],jt)&&arguments[0]instanceof m&&y(arguments[1],jt))for(var p=arguments[0],h=arguments[1],f=arguments[2],g=h.iterator();g.hasNext();){var d=g.next();d.isForward()&&this.findStabbedSegments(p,d,f)}},hi.prototype.getDepth=function(t){t=this.findStabbedSegments(t);return 0===t.size()?0:An.min(t)._leftDepth},hi.prototype.interfaces_=function(){return[]},hi.prototype.getClass=function(){return hi},t.DepthSegment.get=function(){return Ii},Object.defineProperties(hi,t),function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new w(t),this._leftDepth=e}),xi=(Ii.prototype.compareTo=function(t){var e;return this._upwardSeg.minX()>=t._upwardSeg.maxX()?1:this._upwardSeg.maxX()<=t._upwardSeg.minX()?-1:0!==(e=this._upwardSeg.orientationIndex(t._upwardSeg))||0!=(e=-1*t._upwardSeg.orientationIndex(this._upwardSeg))?e:this._upwardSeg.compareTo(t._upwardSeg)},Ii.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Ii.prototype.toString=function(){return this._upwardSeg.toString()},Ii.prototype.interfaces_=function(){return[tt]},Ii.prototype.getClass=function(){return Ii},T.prototype.area=function(){return T.area(this.p0,this.p1,this.p2)},T.prototype.signedArea=function(){return T.signedArea(this.p0,this.p1,this.p2)},T.prototype.interpolateZ=function(t){if(null===t)throw new p("Supplied point is null.");return T.interpolateZ(t,this.p0,this.p1,this.p2)},T.prototype.longestSideLength=function(){return T.longestSideLength(this.p0,this.p1,this.p2)},T.prototype.isAcute=function(){return T.isAcute(this.p0,this.p1,this.p2)},T.prototype.circumcentre=function(){return T.circumcentre(this.p0,this.p1,this.p2)},T.prototype.area3D=function(){return T.area3D(this.p0,this.p1,this.p2)},T.prototype.centroid=function(){return T.centroid(this.p0,this.p1,this.p2)},T.prototype.inCentre=function(){return T.inCentre(this.p0,this.p1,this.p2)},T.prototype.interfaces_=function(){return[]},T.prototype.getClass=function(){return T},T.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},T.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},T.det=function(t,e,n,i){return t*i-e*n},T.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,s=n.x-r,a=i.x-r,u=n.y-o,c=i.y-o,l=s*c-a*u,r=t.x-r,t=t.y-o;return e.z+(c*r-a*t)/l*(n.z-e.z)+(-u*r+s*t)/l*(i.z-e.z)},T.longestSideLength=function(t,e,n){var i=t.distance(e),e=e.distance(n),n=n.distance(t),t=i;return t=(t=i<e?e:i)<n?n:t},T.isAcute=function(t,e,n){return!!P.isAcute(t,e,n)&&!!P.isAcute(e,n,t)&&!!P.isAcute(n,t,e)},T.circumcentre=function(t,e,n){var i=n.x,n=n.y,r=t.x-i,t=t.y-n,o=e.x-i,e=e.y-n,s=2*T.det(r,t,o,e),a=T.det(t,r*r+t*t,e,o*o+e*e),r=T.det(r,r*r+t*t,o,o*o+e*e);return new m(i-a/s,n+r/s)},T.perpendicularBisector=function(t,e){var n=e.x-t.x,e=e.y-t.y,i=new dt(t.x+n/2,t.y+e/2,1),t=new dt(t.x-e+n/2,t.y+n+e/2,1);return new dt(i,t)},T.angleBisector=function(t,e,n){var i=e.distance(t),i=i/(i+e.distance(n)),e=n.x-t.x,n=n.y-t.y;return new m(t.x+i*e,t.y+i*n)},T.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,e=e.z-t.z,o=n.x-t.x,s=n.y-t.y,n=n.z-t.z,t=r*n-e*s,e=e*o-i*n,n=i*s-r*o;return Math.sqrt(t*t+e*e+n*n)/2},T.centroid=function(t,e,n){var i=(t.x+e.x+n.x)/3,t=(t.y+e.y+n.y)/3;return new m(i,t)},T.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),s=i+r+o,a=(i*t.x+r*e.x+o*n.x)/s,i=(i*t.y+r*e.y+o*n.y)/s;return new m(a,i)},fi.prototype.addPoint=function(t){if(this._distance<=0)return null;t=t.getCoordinates(),t=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(t,h.EXTERIOR,h.INTERIOR)},fi.prototype.addPolygon=function(t){var e=this._distance,n=I.LEFT,i=(this._distance<0&&(e=-this._distance,n=I.RIGHT),t.getExteriorRing()),r=l.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,h.EXTERIOR,h.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=l.removeRepeatedPoints(s.getCoordinates());0<this._distance&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,I.opposite(n),h.INTERIOR,h.EXTERIOR)}},fi.prototype.isTriangleErodedCompletely=function(t,e){var t=new T(t[0],t[1],t[2]),n=t.inCentre();return _.distancePointLine(n,t.p0,t.p1)<Math.abs(e)},fi.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;t=l.removeRepeatedPoints(t.getCoordinates()),t=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(t,h.EXTERIOR,h.INTERIOR)},fi.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;t=new ri(t,new C(0,h.BOUNDARY,e,n));this._curveList.add(t)},fi.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},fi.prototype.addPolygonRing=function(t,e,n,i,r){if(0===e&&t.length<qe.MINIMUM_VALID_SIZE)return null;var o=i,s=r,r=(t.length>=qe.MINIMUM_VALID_SIZE&&_.isCCW(t)&&(o=r,s=i,n=I.opposite(n)),this._curveBuilder.getRingCurve(t,n,e));this.addCurve(r,o,s)},fi.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Fe?this.addPolygon(t):t instanceof Le?this.addLineString(t):t instanceof Pe?this.addPoint(t):(t instanceof Ge||t instanceof ve||t instanceof Be||t instanceof me)&&this.addCollection(t)},fi.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();return n.length<4?e<0:4===n.length?this.isTriangleErodedCompletely(n,e):(n=t.getEnvelopeInternal(),t=Math.min(n.getHeight(),n.getWidth()),e<0&&2*Math.abs(e)>t)},fi.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},fi.prototype.interfaces_=function(){return[]},fi.prototype.getClass=function(){return fi},gi.prototype.locate=function(t){},gi.prototype.interfaces_=function(){return[]},gi.prototype.getClass=function(){return gi},di.prototype.next=function(){if(this._atStart)return this._atStart=!1,di.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new B;var t=this._parent.getGeometryN(this._index++);return t instanceof me?(this._subcollectionIterator=new di(t),this._subcollectionIterator.next()):t},di.prototype.remove=function(){throw new Error(this.getClass().getName())},di.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},di.prototype.interfaces_=function(){return[Gt]},di.prototype.getClass=function(){return di},di.isAtomic=function(t){return!(t instanceof me)},yi.prototype.locate=function(t){return yi.locate(t,this._geom)},yi.prototype.interfaces_=function(){return[gi]},yi.prototype.getClass=function(){return yi},yi.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&_.isPointInRing(t,e.getCoordinates())},yi.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!yi.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i);if(yi.isPointInRing(t,r))return!1}return!0},yi.containsPoint=function(t,e){if(e instanceof Fe)return yi.containsPointInPolygon(t,e);if(e instanceof me)for(var n=new di(e);n.hasNext();){var i=n.next();if(i!==e&&yi.containsPoint(t,i))return!0}return!1},yi.locate=function(t,e){return!e.isEmpty()&&yi.containsPoint(t,e)?h.INTERIOR:h.EXTERIOR},_i.prototype.getNextCW=function(t){this.getEdges();var t=this._edgeList.indexOf(t),e=t-1;return 0===t&&(e=this._edgeList.size()-1),this._edgeList.get(e)},_i.prototype.propagateSideLabels=function(t){for(var e=h.NONE,n=this.iterator();n.hasNext();){var i=n.next().getLabel();i.isArea(t)&&i.getLocation(t,I.LEFT)!==h.NONE&&(e=i.getLocation(t,I.LEFT))}if(e===h.NONE)return null;for(var r=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,I.ON)===h.NONE&&a.setLocation(t,I.ON,r),a.isArea(t)){var u=a.getLocation(t,I.LEFT),c=a.getLocation(t,I.RIGHT);if(c!==h.NONE){if(c!==r)throw new un("side location conflict",s.getCoordinate());u===h.NONE&&d.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),r=u}else d.isTrue(a.getLocation(t,I.LEFT)===h.NONE,"found single null side"),a.setLocation(t,I.RIGHT,r),a.setLocation(t,I.LEFT,r)}}},_i.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},_i.prototype.print=function(t){lt.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},_i.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},_i.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(!(e.size()<=0)){var n=e.size()-1,e=e.get(n).getLabel().getLocation(t,I.LEFT);d.isTrue(e!==h.NONE,"Found unlabelled area edge");for(var i=e,r=this.iterator();r.hasNext();){var o=r.next().getLabel(),s=(d.isTrue(o.isArea(t),"Found non-area edge"),o.getLocation(t,I.LEFT)),o=o.getLocation(t,I.RIGHT);if(s===o)return!1;if(o!==i)return!1;i=s}}return!0},_i.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},_i.prototype.iterator=function(){return this.getEdges().iterator()},_i.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new E(this._edgeMap.values())),this._edgeList},_i.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===h.NONE&&(this._ptInAreaLocation[t]=yi.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},_i.prototype.toString=function(){var t=new ot;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},_i.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},_i.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next().getLabel(),r=0;r<2;r++)i.isLine(r)&&i.getLocation(r)===h.BOUNDARY&&(e[r]=!0);for(var o,s,a=this.iterator();a.hasNext();)for(var u=a.next(),c=u.getLabel(),l=0;l<2;l++)c.isAnyNull(l)&&(s=h.NONE,s=e[l]?h.EXTERIOR:(o=u.getCoordinate(),this.getLocation(l,o,t)),c.setAllLocationsIfNull(l,s))},_i.prototype.getDegree=function(){return this._edgeMap.size()},_i.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},_i.prototype.interfaces_=function(){return[]},_i.prototype.getClass=function(){return _i},(Ei=_i)&&(Si.__proto__=Ei),((Si.prototype=Object.create(Ei&&Ei.prototype)).constructor=Si).prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var r=this._resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this._SCANNING_FOR_INCOMING:o.isInResult()&&(e=o,n=this._LINKING_TO_OUTGOING);break;case this._LINKING_TO_OUTGOING:r.isInResult()&&(e.setNext(r),n=this._SCANNING_FOR_INCOMING)}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new un("no outgoing dirEdge found",this.getCoordinate());d.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},Si.prototype.insert=function(t){this.insertEdgeEnd(t,t)},Si.prototype.getRightmostEdge=function(){var t,e,n=this.getEdges(),i=n.size();return i<1?null:(t=n.get(0),1===i||(n=n.get(i-1),i=t.getQuadrant(),e=n.getQuadrant(),S.isNorthern(i)&&S.isNorthern(e))?t:S.isNorthern(i)||S.isNorthern(e)?0!==t.getDy()?t:0!==n.getDy()?n:(d.shouldNeverReachHere("found two horizontal edges incident on node"),null):n)},Si.prototype.print=function(t){lt.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},Si.prototype.getResultAreaEdges=function(){if(null===this._resultAreaEdgeList){this._resultAreaEdgeList=new E;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}}return this._resultAreaEdgeList},Si.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},Si.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;0<=n;n--){var i=this._edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},Si.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(I.LEFT),i=t.getDepth(I.RIGHT),n=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,n)!==i)throw new un("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var e=arguments[0],r=arguments[1],o=arguments[2],s=e;s<r;s++){var a=this._edgeList.get(s);a.setEdgeDepths(I.RIGHT,o),o=a.getDepth(I.LEFT)}return o}},Si.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},Si.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,i=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;0<=r;r--){var o=this._resultAreaEdgeList.get(r),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),i){case this._SCANNING_FOR_INCOMING:s.getEdgeRing()===t&&(n=s,i=this._LINKING_TO_OUTGOING);break;case this._LINKING_TO_OUTGOING:o.getEdgeRing()===t&&(n.setNextMin(o),i=this._SCANNING_FOR_INCOMING)}}i===this._LINKING_TO_OUTGOING&&(d.isTrue(null!==e,"found null for first outgoing dirEdge"),d.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},Si.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],i=0,r=this.iterator();r.hasNext();)r.next().getEdgeRing()===n&&i++;return i}},Si.prototype.getLabel=function(){return this._label},Si.prototype.findCoveredLineEdges=function(){for(var t=h.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=h.INTERIOR;break}if(i.isInResult()){t=h.EXTERIOR;break}}}if(t===h.NONE)return null;for(var r=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(r===h.INTERIOR):(s.isInResult()&&(r=h.EXTERIOR),a.isInResult()&&(r=h.INTERIOR))}},Si.prototype.computeLabelling=function(t){Ei.prototype.computeLabelling.call(this,t),this._label=new C(h.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next().getEdge().getLabel(),i=0;i<2;i++){var r=n.getLocation(i);r!==h.INTERIOR&&r!==h.BOUNDARY||this._label.setLocation(i,h.INTERIOR)}},Si.prototype.interfaces_=function(){return[]},Si.prototype.getClass=function(){return Si},Si),Ni=((vi=Cn)&&(Ci.__proto__=vi),((Ci.prototype=Object.create(vi&&vi.prototype)).constructor=Ci).prototype.createNode=function(t){return new In(t,new xi)},Ci.prototype.interfaces_=function(){return[]},Ci.prototype.getClass=function(){return Ci},Ci);function Ci(){vi.apply(this,arguments)}function Si(){Ei.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}mi.prototype.compareTo=function(t){return mi.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},mi.prototype.interfaces_=function(){return[tt]},mi.prototype.getClass=function(){return mi},mi.orientation=function(t){return 1===l.increasingDirection(t)},mi.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,s=e?t.length:-1,a=i?n.length:-1,u=e?0:t.length-1,c=i?0:n.length-1;;){var l=t[u].compareTo(n[c]);if(0!==l)return l;var l=(u+=r)===s,p=(c+=o)===a;if(l&&!p)return-1;if(!l&&p)return 1;if(l&&p)return 0}};function bi(){this._edges=new E,this._ocaMap=new Y}function Li(){}function wi(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]}function Oi(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new m(t),this.segmentIndex=e,this.dist=n}function Pi(){this._nodeMap=new Y,this.edge=null,this.edge=arguments[0]}function Ri(){}function Ti(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new u,this.env2=new u;var t=arguments[0],t=(this.e=t,this.pts=t.getCoordinates(),new Ri);this.startIndex=t.getChainStartIndices(this.pts)}function Mi(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;t<2;t++)for(var e=0;e<3;e++)this._depth[t][e]=Mi.NULL_VALUE}bi.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);0<e&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)0<r&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},bi.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},bi.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},bi.prototype.iterator=function(){return this._edges.iterator()},bi.prototype.getEdges=function(){return this._edges},bi.prototype.get=function(t){return this._edges.get(t)},bi.prototype.findEqualEdge=function(t){t=new mi(t.getCoordinates());return this._ocaMap.get(t)},bi.prototype.add=function(t){this._edges.add(t);var e=new mi(t.getCoordinates());this._ocaMap.put(e,t)},bi.prototype.interfaces_=function(){return[]},bi.prototype.getClass=function(){return bi},Li.prototype.processIntersections=function(t,e,n,i){},Li.prototype.isDone=function(){},Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},wi.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(wi.isAdjacentSegments(e,i))return!0;if(t.isClosed()){n=t.size()-1;if(0===e&&i===n||0===i&&e===n)return!0}}return!1},wi.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},wi.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},wi.prototype.getLineIntersector=function(){return this._li},wi.prototype.hasProperIntersection=function(){return this._hasProper},wi.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},wi.prototype.hasIntersection=function(){return this._hasIntersection},wi.prototype.isDone=function(){return!1},wi.prototype.hasInteriorIntersection=function(){return this._hasInterior},wi.prototype.interfaces_=function(){return[Li]},wi.prototype.getClass=function(){return wi},wi.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},Oi.prototype.getSegmentIndex=function(){return this.segmentIndex},Oi.prototype.getCoordinate=function(){return this.coord},Oi.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Oi.prototype.compareTo=function(t){return this.compare(t.segmentIndex,t.dist)},Oi.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Oi.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Oi.prototype.getDistance=function(){return this.dist},Oi.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Oi.prototype.interfaces_=function(){return[tt]},Oi.prototype.getClass=function(){return Oi},Pi.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Pi.prototype.iterator=function(){return this._nodeMap.values().iterator()},Pi.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},Pi.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Pi.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],i=0<e.dist||!e.coord.equals2D(i),r=(i||n--,new Array(n).fill(null)),o=0;r[o++]=new m(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)r[o++]=this.edge.pts[s];return i&&(r[o]=e.coord),new Fi(r,new C(this.edge._label))},Pi.prototype.add=function(t,e,n){t=new Oi(t,e,n),e=this._nodeMap.get(t);return null!==e?e:(this._nodeMap.put(t,t),t)},Pi.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi},Ri.prototype.getChainStartIndices=function(t){var e=0,n=new E;n.add(new st(e));do{var i=this.findChainEnd(t,e)}while(n.add(new st(i)),(e=i)<t.length-1);return Ri.toIntArray(n)},Ri.prototype.findChainEnd=function(t,e){for(var n=S.quadrant(t[e],t[e+1]),i=e+1;i<t.length&&S.quadrant(t[i-1],t[i])===n;)i++;return i-1},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri},Ri.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},Ti.prototype.getCoordinates=function(){return this.pts},Ti.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,t=this.pts[this.startIndex[t+1]].x;return t<e?e:t},Ti.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,t=this.pts[this.startIndex[t+1]].x;return e<t?e:t},Ti.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],arguments[3])}else{var i,r,o,s,a,u,c;if(6===arguments.length)return t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],r=arguments[4],o=arguments[5],u=this.pts[t],c=this.pts[e],s=n.pts[i],a=n.pts[r],e-t==1&&r-i==1?(o.addIntersections(this.e,t,n.e,i),null):(this.env1.init(u,c),this.env2.init(s,a),this.env1.intersects(this.env2)?(u=Math.trunc((t+e)/2),c=Math.trunc((i+r)/2),t<u&&(i<c&&this.computeIntersectsForChain(t,u,n,i,c,o),c<r)&&this.computeIntersectsForChain(t,u,n,c,r,o),void(u<e&&(i<c&&this.computeIntersectsForChain(u,e,n,i,c,o),c<r)&&this.computeIntersectsForChain(u,e,n,c,r,o))):null)}},Ti.prototype.getStartIndexes=function(){return this.startIndex},Ti.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti};function Di(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new bi,this._bufParams=t||null}var Ai,t={NULL_VALUE:{configurable:!0}},Fi=(Mi.prototype.getDepth=function(t,e){return this._depth[t][e]},Mi.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},Mi.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==Mi.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===Mi.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===Mi.NULL_VALUE:void 0},Mi.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];(e=this._depth[t][2]<e?this._depth[t][2]:e)<0&&(e=0);for(var n=1;n<3;n++){var i=0;this._depth[t][n]>e&&(i=1),this._depth[t][n]=i}}},Mi.prototype.getDelta=function(t){return this._depth[t][I.RIGHT]-this._depth[t][I.LEFT]},Mi.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?h.EXTERIOR:h.INTERIOR},Mi.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Mi.prototype.add=function(){var t,e;if(1===arguments.length)for(var n=arguments[0],i=0;i<2;i++)for(var r=1;r<3;r++){var o=n.getLocation(i,r);o!==h.EXTERIOR&&o!==h.INTERIOR||(this.isNull(i,r)?this._depth[i][r]=Mi.depthAtLocation(o):this._depth[i][r]+=Mi.depthAtLocation(o))}else 3===arguments.length&&(t=arguments[0],e=arguments[1],arguments[2]===h.INTERIOR)&&this._depth[t][e]++},Mi.prototype.interfaces_=function(){return[]},Mi.prototype.getClass=function(){return Mi},Mi.depthAtLocation=function(t){return t===h.EXTERIOR?0:t===h.INTERIOR?1:Mi.NULL_VALUE},t.NULL_VALUE.get=function(){return-1},Object.defineProperties(Mi,t),(Ai=hn)&&(M.__proto__=Ai),((M.prototype=Object.create(Ai&&Ai.prototype)).constructor=M).prototype.getDepth=function(){return this._depth},M.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new M(t,C.toLineLabel(this._label))},M.prototype.isIsolated=function(){return this._isIsolated},M.prototype.getCoordinates=function(){return this.pts},M.prototype.setIsolated=function(t){this._isIsolated=t},M.prototype.setName=function(t){this._name=t},M.prototype.equals=function(t){if(!(t instanceof M))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,i=!0,r=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(e.pts[o])||(n=!1),this.pts[o].equals2D(e.pts[--r])||(i=!1),!n&&!i)return!1;return!0},M.prototype.getCoordinate=function(){return 0===arguments.length?0<this.pts.length?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},M.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)0<e&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},M.prototype.computeIM=function(t){M.updateIM(this._label,t)},M.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},M.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},M.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},M.prototype.getDepthDelta=function(){return this._depthDelta},M.prototype.getNumPoints=function(){return this.pts.length},M.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;0<=e;e--)t.print(this.pts[e]+" ");t.println("")},M.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Ti(this)),this._mce},M.prototype.getEnvelope=function(){if(null===this._env){this._env=new u;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},M.prototype.addIntersection=function(t,e,n,i){var r=new m(t.getIntersection(i)),t=t.getEdgeDistance(n,i),n=e+1;n<this.pts.length&&(i=this.pts[n],r.equals2D(i))&&(e=n,t=0),this.eiList.add(r,e,t)},M.prototype.toString=function(){var t=new ot;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)0<e&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},M.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},M.prototype.setDepthDelta=function(t){this._depthDelta=t},M.prototype.getEdgeIntersectionList=function(){return this.eiList},M.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},M.prototype.interfaces_=function(){return[]},M.prototype.getClass=function(){return M},M.updateIM=function(){if(2!==arguments.length)return Ai.prototype.updateIM.apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,I.ON),t.getLocation(1,I.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,I.LEFT),t.getLocation(1,I.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,I.RIGHT),t.getLocation(1,I.RIGHT),2))},M);function M(){var t,e;Ai.call(this),this.pts=null,this._env=null,this.eiList=new Pi(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Mi,this._depthDelta=0,1===arguments.length?M.call(this,arguments[0],null):2===arguments.length&&(t=arguments[0],e=arguments[1],this.pts=t,this._label=e)}Di.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},Di.prototype.insertUniqueEdge=function(t){var e,n,i=this._edgeList.findEqualEdge(t);null!==i?(e=i.getLabel(),n=t.getLabel(),i.isPointwiseEqual(t)||(n=new C(t.getLabel())).flip(),e.merge(n),e=Di.depthDelta(n),n=i.getDepthDelta()+e,i.setDepthDelta(n)):(this._edgeList.add(t),t.setDepthDelta(Di.depthDelta(t.getLabel())))},Di.prototype.buildSubgraphs=function(t,e){for(var n=new E,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),o=new hi(n).getDepth(o);r.computeDepth(o),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},Di.prototype.createSubgraphs=function(t){for(var e=new E,n=t.getNodes().iterator();n.hasNext();){var i,r=n.next();r.isVisited()||((i=new ln).create(r),e.add(i))}return An.sort(e,An.reverseOrder()),e},Di.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Di.prototype.getNoder=function(t){var e,n;return null!==this._workingNoder?this._workingNoder:(e=new oi,(n=new Pt).setPrecisionModel(t),e.setSegmentIntersector(new wi(n)),e)},Di.prototype.buffer=function(t,e){var n=this._workingPrecisionModel,i=(null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory(),new pi(n,this._bufParams)),t=new fi(t,e,i).getCurves();if(t.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(t,n),this._graph=new Ln(new Ni),this._graph.addEdges(this._edgeList.getEdges());e=this.createSubgraphs(this._graph),i=new wn(this._geomFact),this.buildSubgraphs(e,i),t=i.getPolygons();return t.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(t)},Di.prototype.computeNodedEdges=function(t,e){e=this.getNoder(e);e.computeNodes(t);for(var n=e.getNodedSubstrings().iterator();n.hasNext();){var i=n.next(),r=i.getCoordinates();2===r.length&&r[0].equals2D(r[1])||(r=i.getData(),i=new Fi(i.getCoordinates(),new C(r)),this.insertUniqueEdge(i))}},Di.prototype.setNoder=function(t){this._workingNoder=t},Di.prototype.interfaces_=function(){return[]},Di.prototype.getClass=function(){return Di},Di.depthDelta=function(t){var e=t.getLocation(0,I.LEFT),t=t.getLocation(0,I.RIGHT);return e===h.INTERIOR&&t===h.EXTERIOR?1:e===h.EXTERIOR&&t===h.INTERIOR?-1:0},Di.convertSegStrings=function(t){for(var e=new x,n=new E;t.hasNext();){var i=t.next(),i=e.createLineString(i.getCoordinates());n.add(i)}return e.buildGeometry(n)};function Gi(){var t,e,n,i;this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length?(t=arguments[0],e=arguments[1],this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()):4===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],this._noder=t,this._scaleFactor=e,this._offsetX=n,this._offsetY=i,this._isScaled=!this.isIntegerPrecision())}function qi(){this._li=new Pt,this._segStrings=null,this._segStrings=arguments[0]}Gi.prototype.rescale=function(){if(y(arguments[0],Ft))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],i=0;i<n.length;i++)n[i].x=n[i].x/this._scaleFactor+this._offsetX,n[i].y=n[i].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&lt.out.println(n)}},Gi.prototype.scale=function(){if(y(arguments[0],Ft)){for(var t=arguments[0],e=new E,n=t.iterator();n.hasNext();){var i=n.next();e.add(new ri(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),s=0;s<r.length;s++)o[s]=new m(Math.round((r[s].x-this._offsetX)*this._scaleFactor),Math.round((r[s].y-this._offsetY)*this._scaleFactor),r[s].z);return l.removeRepeatedPoints(o)}},Gi.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Gi.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Gi.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},Gi.prototype.interfaces_=function(){return[ti]},Gi.prototype.getClass=function(){return Gi};function Bi(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new p("Scale factor must be non-zero");1!==e&&(this._pt=new m(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new m,this._p1Scaled=new m),this.initCorners(this._pt)}function Ui(){this.tempEnv1=new u,this.selectedSegment=new w}function Vi(){this._index=null,this._index=arguments[0]}function zi(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new E}var ki,t={fact:{configurable:!0}},t=(qi.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1].iterator();i.hasNext();)for(var r=i.next().getCoordinates(),o=1;o<r.length-1;o++)if(r[o].equals(n))throw new Nt("found endpt/interior pt intersection at index "+o+" :pt "+n)},qi.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var c=0;c<a.length-1;c++)this.checkInteriorIntersections(r,u,o,c);else if(4===arguments.length){var l=arguments[0],p=arguments[1],h=arguments[2],f=arguments[3];if(l===h&&p===f)return null;var g=l.getCoordinates()[p],l=l.getCoordinates()[p+1],p=h.getCoordinates()[f],h=h.getCoordinates()[f+1];if(this._li.computeIntersection(g,l,p,h),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,g,l)||this.hasInteriorIntersection(this._li,p,h)))throw new Nt("found non-noded intersection at "+g+"-"+l+" and "+p+"-"+h)}},qi.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},qi.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),i=0;i<n.length-2;i++)this.checkCollapse(n[i],n[i+1],n[i+2])},qi.prototype.hasInteriorIntersection=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},qi.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Nt("found non-noded collapse at "+qi.fact.createLineString([t,e,n]))},qi.prototype.interfaces_=function(){return[]},qi.prototype.getClass=function(){return qi},t.fact.get=function(){return new x},Object.defineProperties(qi,t),{SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}}),t=(Bi.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),n=this._maxx<n||this._minx>i||this._maxy<r||this._miny>o;return!n&&(i=this.intersectsToleranceSquare(t,e),d.isTrue(!(n&&i),"Found bad envelope test"),i)},Bi.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new m(this._maxx,this._maxy),this._corner[1]=new m(this._minx,this._maxy),this._corner[2]=new m(this._minx,this._miny),this._corner[3]=new m(this._maxx,this._miny)},Bi.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Bi.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},Bi.prototype.getCoordinate=function(){return this._originalPt},Bi.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},Bi.prototype.getSafeEnvelope=function(){var t;return null===this._safeEnv&&(t=Bi.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor,this._safeEnv=new u(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)),this._safeEnv},Bi.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection())||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection())||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))},Bi.prototype.intersectsToleranceSquare=function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper())||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper())||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&i||t.equals(this._pt)||e.equals(this._pt)))},Bi.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi},t.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Bi,t),Ui.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},Ui.prototype.interfaces_=function(){return[]},Ui.prototype.getClass=function(){return Ui},{HotPixelSnapAction:{configurable:!0}}),ji=(Vi.prototype.snap=function(){var t,e,n,i,r;return 1===arguments.length?this.snap(arguments[0],null,-1):3===arguments.length?(t=arguments[0],e=arguments[1],n=arguments[2],i=t.getSafeEnvelope(),r=new ji(t,e,n),this._index.query(i,{interfaces_:function(){return[Tn]},visitItem:function(t){t.select(i,r)}}),r.isNodeAdded()):void 0},Vi.prototype.interfaces_=function(){return[]},Vi.prototype.getClass=function(){return Vi},t.HotPixelSnapAction.get=function(){return ji},Object.defineProperties(Vi,t),(ki=Ui)&&(Xi.__proto__=ki),((Xi.prototype=Object.create(ki&&ki.prototype)).constructor=Xi).prototype.isNodeAdded=function(){return this._isNodeAdded},Xi.prototype.select=function(){var t,e;return 2!==arguments.length?ki.prototype.select.apply(this,arguments):(e=arguments[0],t=arguments[1],e=e.getContext(),null!==this._parentEdge&&e===this._parentEdge&&t===this._hotPixelVertexIndex?null:void(this._isNodeAdded=this._hotPixel.addSnappedNode(e,t)))},Xi.prototype.interfaces_=function(){return[]},Xi.prototype.getClass=function(){return Xi},Xi);function Xi(){ki.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._hotPixel=t,this._parentEdge=e,this._hotPixelVertexIndex=n}zi.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}},zi.prototype.isDone=function(){return!1},zi.prototype.getInteriorIntersections=function(){return this._interiorIntersections},zi.prototype.interfaces_=function(){return[Li]},zi.prototype.getClass=function(){return zi};function Yi(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new Pt,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()}function Hi(){var t,e;this._argGeom=null,this._distance=null,this._bufParams=new O,this._resultGeometry=null,this._saveException=null,1===arguments.length?this._argGeom=arguments[0]:2===arguments.length&&(t=arguments[0],e=arguments[1],this._argGeom=t,this._bufParams=e)}Yi.prototype.checkCorrectness=function(t){var e=ri.getNodedSubstrings(t),e=new qi(e);try{e.checkValid()}catch(t){if(!(t instanceof ct))throw t;t.printStackTrace()}},Yi.prototype.getNodedSubstrings=function(){return ri.getNodedSubstrings(this._nodedSegStrings)},Yi.prototype.snapRound=function(t,e){e=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(e),this.computeVertexSnaps(t)},Yi.prototype.findInteriorIntersections=function(t,e){e=new zi(e);return this._noder.setSegmentIntersector(e),this._noder.computeNodes(t),e.getInteriorIntersections()},Yi.prototype.computeVertexSnaps=function(){if(y(arguments[0],Ft))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof ri)for(var n=arguments[0],i=n.getCoordinates(),r=0;r<i.length;r++){var o=new Bi(i[r],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,r)&&n.addIntersection(i[r],r)}},Yi.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new oi,this._pointSnapper=new Vi(this._noder.getIndex()),this.snapRound(t,this._li)},Yi.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),n=new Bi(n,this._scaleFactor,this._li);this._pointSnapper.snap(n)}},Yi.prototype.interfaces_=function(){return[ti]},Yi.prototype.getClass=function(){return Yi};function Wi(){this._pt=[new m,new m],this._distance=c.NaN,this._isNull=!0}function Ki(){}function Ji(t){this._maxPtDist=new Wi,this._inputGeom=t||null}function Qi(t){this._comps=t||null}function Zi(){var t,e;this._lines=null,this._isForcedToLineString=!1,1===arguments.length?this._lines=arguments[0]:2===arguments.length&&(t=arguments[0],e=arguments[1],this._lines=t,this._isForcedToLineString=e)}function $i(){if(this._boundaryRule=At.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var t=arguments[0];if(null===t)throw new p("Rule must be non-null");this._boundaryRule=t}}function tr(){var t,e,n;this._component=null,this._segIndex=null,this._pt=null,2===arguments.length?tr.call(this,arguments[0],tr.INSIDE_AREA,arguments[1]):3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],this._component=t,this._segIndex=e,this._pt=n)}function er(t){this._pts=t||null}function nr(){this._locations=null,this._locations=arguments[0]}function ir(){var t,e,n;this._geom=null,this._terminateDistance=0,this._ptLocator=new $i,this._minDistanceLocation=null,this._minDistance=c.MAX_VALUE,2===arguments.length?(this._geom=[arguments[0],arguments[1]],this._terminateDistance=0):3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e,this._terminateDistance=n)}function rr(){this._pt=[new m,new m],this._distance=c.NaN,this._isNull=!0}function or(){}function sr(){this._g0=null,this._g1=null,this._ptDist=new rr;var t=arguments[this._densifyFrac=0],e=arguments[1];this._g0=t,this._g1=e}function ar(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null}function ur(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null}function cr(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e}function lr(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new E,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null}function pr(){this._li=new Pt,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]}function hr(){this._nv=null,this._nv=new pr(hr.toSegmentStrings(arguments[0]))}function fr(t){this._mapOp=t}function gr(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new E,this._resultLineList=new E;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n}function dr(){this._op=null,this._geometryFactory=null,this._resultPointList=new E;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e}function yr(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1}function _r(){var t,e;this._snapTolerance=0,this._srcPts=null,this._seg=new w,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Le&&"number"==typeof arguments[1]?(t=arguments[0],e=arguments[1],_r.call(this,t.getCoordinates(),e)):arguments[0]instanceof Array&&"number"==typeof arguments[1]&&(t=arguments[0],e=arguments[1],this._srcPts=t,this._isClosed=_r.isClosed(t),this._snapTolerance=e)}function mr(t){this._srcGeom=t||null}function vr(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null}var Er,t={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}},t=(Hi.prototype.bufferFixedPrecision=function(t){var e=new Gi(new Yi(new a(1)),t.getScale()),n=new Di(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},Hi.prototype.bufferReducedPrecision=function(){var t;if(0===arguments.length){for(var e=Hi.MAX_PRECISION_DIGITS;0<=e;e--){try{this.bufferReducedPrecision(e)}catch(e){if(!(e instanceof un))throw e;this._saveException=e}if(null!==this._resultGeometry)return null}throw this._saveException}1===arguments.length&&(t=Hi.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),t=new a(t),this.bufferFixedPrecision(t))},Hi.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===a.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Hi.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Hi.prototype.bufferOriginalPrecision=function(){try{var t=new Di(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Nt))throw t;this._saveException=t}},Hi.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Hi.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Hi.prototype.interfaces_=function(){return[]},Hi.prototype.getClass=function(){return Hi},Hi.bufferOp=function(){var t,e,n,i;return 2===arguments.length?(e=arguments[0],i=arguments[1],new Hi(e).getResultGeometry(i)):3===arguments.length?Number.isInteger(arguments[2])&&arguments[0]instanceof v&&"number"==typeof arguments[1]?(e=arguments[0],i=arguments[1],t=arguments[2],(e=new Hi(e)).setQuadrantSegments(t),e.getResultGeometry(i)):arguments[2]instanceof O&&arguments[0]instanceof v&&"number"==typeof arguments[1]?(t=arguments[0],e=arguments[1],new Hi(t,arguments[2]).getResultGeometry(e)):void 0:4===arguments.length?(i=arguments[0],t=arguments[1],e=arguments[2],n=arguments[3],(i=new Hi(i)).setQuadrantSegments(e),i.setEndCapStyle(n),i.getResultGeometry(t)):void 0},Hi.precisionScaleFactor=function(t,e,n){t=t.getEnvelopeInternal(),t=rt.max(Math.abs(t.getMaxX()),Math.abs(t.getMaxY()),Math.abs(t.getMinX()),Math.abs(t.getMinY()))+2*(0<e?e:0),e=n-Math.trunc(Math.log(t)/Math.log(10)+1);return Math.pow(10,e)},t.CAP_ROUND.get=function(){return O.CAP_ROUND},t.CAP_BUTT.get=function(){return O.CAP_FLAT},t.CAP_FLAT.get=function(){return O.CAP_FLAT},t.CAP_SQUARE.get=function(){return O.CAP_SQUARE},t.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Hi,t),Wi.prototype.getCoordinates=function(){return this._pt},Wi.prototype.getCoordinate=function(t){return this._pt[t]},Wi.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];if(this._isNull)return this.initialize(t,e),null;var n=t.distance(e);n<this._distance&&this.initialize(t,e,n)}},Wi.prototype.initialize=function(){var t,e,n;0===arguments.length?this._isNull=!0:2===arguments.length?(t=arguments[0],e=arguments[1],this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1):3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=n,this._isNull=!1)},Wi.prototype.getDistance=function(){return this._distance},Wi.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];if(this._isNull)return this.initialize(t,e),null;var n=t.distance(e);n>this._distance&&this.initialize(t,e,n)}},Wi.prototype.interfaces_=function(){return[]},Wi.prototype.getClass=function(){return Wi},Ki.prototype.interfaces_=function(){return[]},Ki.prototype.getClass=function(){return Ki},Ki.computeDistance=function(){if(arguments[2]instanceof Wi&&arguments[0]instanceof Le&&arguments[1]instanceof m)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=t.getCoordinates(),r=new w,o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Wi&&arguments[0]instanceof Fe&&arguments[1]instanceof m){var a=arguments[0],u=arguments[1],c=arguments[2];Ki.computeDistance(a.getExteriorRing(),u,c);for(var l=0;l<a.getNumInteriorRing();l++)Ki.computeDistance(a.getInteriorRingN(l),u,c)}else if(arguments[2]instanceof Wi&&arguments[0]instanceof v&&arguments[1]instanceof m){var t=arguments[0],p=arguments[1],h=arguments[2];if(t instanceof Le)Ki.computeDistance(t,p,h);else if(t instanceof Fe)Ki.computeDistance(t,p,h);else if(t instanceof me)for(var f=t,g=0;g<f.getNumGeometries();g++){var d=f.getGeometryN(g);Ki.computeDistance(d,p,h)}else h.setMinimum(t.getCoordinate(),p)}else{var y,_;arguments[2]instanceof Wi&&arguments[0]instanceof w&&arguments[1]instanceof m&&(t=arguments[0],y=arguments[1],_=arguments[2],t=t.closestPoint(y),_.setMinimum(t,y))}},{MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}}),Ir=(Ji.prototype.computeMaxMidpointDistance=function(t){var e=new xr(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Ji.prototype.computeMaxVertexDistance=function(t){var e=new Ir(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Ji.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},Ji.prototype.getDistancePoints=function(){return this._maxPtDist},Ji.prototype.interfaces_=function(){return[]},Ji.prototype.getClass=function(){return Ji},t.MaxPointDistanceFilter.get=function(){return Ir},t.MaxMidpointDistanceFilter.get=function(){return xr},Object.defineProperties(Ji,t),function(t){this._maxPtDist=new Wi,this._minPtDist=new Wi,this._geom=t||null}),xr=(Ir.prototype.filter=function(t){this._minPtDist.initialize(),Ki.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ir.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ir.prototype.interfaces_=function(){return[Dt]},Ir.prototype.getClass=function(){return Ir},function(t){this._maxPtDist=new Wi,this._minPtDist=new Wi,this._geom=t||null}),t=(xr.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),t=t.getCoordinate(e),e=new m((n.x+t.x)/2,(n.y+t.y)/2);this._minPtDist.initialize(),Ki.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},xr.prototype.isDone=function(){return!1},xr.prototype.isGeometryChanged=function(){return!1},xr.prototype.getMaxPointDistance=function(){return this._maxPtDist},xr.prototype.interfaces_=function(){return[ge]},xr.prototype.getClass=function(){return xr},Qi.prototype.filter=function(t){t instanceof Fe&&this._comps.add(t)},Qi.prototype.interfaces_=function(){return[fe]},Qi.prototype.getClass=function(){return Qi},Qi.getPolygons=function(){var t,e;return 1===arguments.length?Qi.getPolygons(arguments[0],new E):2===arguments.length?(t=arguments[0],e=arguments[1],t instanceof Fe?e.add(t):t instanceof me&&t.apply(new Qi(e)),e):void 0},Zi.prototype.filter=function(t){var e;if(this._isForcedToLineString&&t instanceof qe)return e=t.getFactory().createLineString(t.getCoordinateSequence()),this._lines.add(e),null;t instanceof Le&&this._lines.add(t)},Zi.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Zi.prototype.interfaces_=function(){return[Mt]},Zi.prototype.getClass=function(){return Zi},Zi.getGeometry=function(){var t,e;return 1===arguments.length?(t=arguments[0]).getFactory().buildGeometry(Zi.getLines(t)):2===arguments.length?(t=arguments[0],e=arguments[1],t.getFactory().buildGeometry(Zi.getLines(t,e))):void 0},Zi.getLines=function(){var t;if(1===arguments.length)return Zi.getLines(arguments[0],!1);if(2===arguments.length){if(y(arguments[0],Ft)&&y(arguments[1],Ft)){for(var e=arguments[0],n=arguments[1],i=e.iterator();i.hasNext();){var r=i.next();Zi.getLines(r,n)}return n}return arguments[0]instanceof v&&"boolean"==typeof arguments[1]?(e=arguments[0],t=arguments[1],o=new E,e.apply(new Zi(o,t)),o):arguments[0]instanceof v&&y(arguments[1],Ft)?(e=arguments[0],t=arguments[1],e instanceof Le?t.add(e):e.apply(new Zi(t)),t):void 0}if(3===arguments.length){if("boolean"==typeof arguments[2]&&y(arguments[0],Ft)&&y(arguments[1],Ft)){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=o.iterator();u.hasNext();){var c=u.next();Zi.getLines(c,s,a)}return s}if("boolean"==typeof arguments[2]&&arguments[0]instanceof v&&y(arguments[1],Ft))return arguments[0].apply(new Zi(e=arguments[1],arguments[2])),e}},$i.prototype.locateInternal=function(){if(arguments[0]instanceof m&&arguments[1]instanceof Fe){var t=arguments[0],e=arguments[1];if(e.isEmpty())return h.EXTERIOR;var n=e.getExteriorRing(),n=this.locateInPolygonRing(t,n);if(n===h.EXTERIOR)return h.EXTERIOR;if(n===h.BOUNDARY)return h.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i),r=this.locateInPolygonRing(t,r);if(r===h.INTERIOR)return h.EXTERIOR;if(r===h.BOUNDARY)return h.BOUNDARY}return h.INTERIOR}var o,s;return arguments[0]instanceof m&&arguments[1]instanceof Le?(n=arguments[0],(s=arguments[1]).getEnvelopeInternal().intersects(n)?(o=s.getCoordinates(),s.isClosed()||!n.equals(o[0])&&!n.equals(o[o.length-1])?_.isOnLine(n,o)?h.INTERIOR:h.EXTERIOR:h.BOUNDARY):h.EXTERIOR):arguments[0]instanceof m&&arguments[1]instanceof Pe?(s=arguments[0],arguments[1].getCoordinate().equals2D(s)?h.INTERIOR:h.EXTERIOR):void 0},$i.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?_.locatePointInRing(t,e.getCoordinates()):h.EXTERIOR},$i.prototype.intersects=function(t,e){return this.locate(t,e)!==h.EXTERIOR},$i.prototype.updateLocationInfo=function(t){t===h.INTERIOR&&(this._isIn=!0),t===h.BOUNDARY&&this._numBoundaries++},$i.prototype.computeLocation=function(t,e){if(e instanceof Pe&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Le)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Fe)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof ve)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof Be)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof me)for(var u=new di(e);u.hasNext();){var c=u.next();c!==e&&this.computeLocation(t,c)}},$i.prototype.locate=function(t,e){return e.isEmpty()?h.EXTERIOR:e instanceof Le||e instanceof Fe?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?h.BOUNDARY:0<this._numBoundaries||this._isIn?h.INTERIOR:h.EXTERIOR)},$i.prototype.interfaces_=function(){return[]},$i.prototype.getClass=function(){return $i},{INSIDE_AREA:{configurable:!0}}),t=(tr.prototype.isInsideArea=function(){return this._segIndex===tr.INSIDE_AREA},tr.prototype.getCoordinate=function(){return this._pt},tr.prototype.getGeometryComponent=function(){return this._component},tr.prototype.getSegmentIndex=function(){return this._segIndex},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr},t.INSIDE_AREA.get=function(){return-1},Object.defineProperties(tr,t),er.prototype.filter=function(t){t instanceof Pe&&this._pts.add(t)},er.prototype.interfaces_=function(){return[fe]},er.prototype.getClass=function(){return er},er.getPoints=function(){var t,e;return 1===arguments.length?(t=arguments[0])instanceof Pe?An.singletonList(t):er.getPoints(t,new E):2===arguments.length?(t=arguments[0],e=arguments[1],t instanceof Pe?e.add(t):t instanceof me&&t.apply(new er(e)),e):void 0},nr.prototype.filter=function(t){(t instanceof Pe||t instanceof Le||t instanceof Fe)&&this._locations.add(new tr(t,0,t.getCoordinate()))},nr.prototype.interfaces_=function(){return[fe]},nr.prototype.getClass=function(){return nr},nr.getLocations=function(t){var e=new E;return t.apply(new nr(e)),e},ir.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var t=arguments[0],e=arguments[1],n=1-t,i=Qi.getPolygons(this._geom[t]);if(0<i.size()){var r=nr.getLocations(this._geom[n]);if(this.computeContainmentDistance(r,i,e),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[n]=e[0],this._minDistanceLocation[t]=e[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&y(arguments[0],jt)&&y(arguments[1],jt)){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=0;u<o.size();u++)for(var c=o.get(u),l=0;l<s.size();l++)if(this.computeContainmentDistance(c,s.get(l),a),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof tr&&arguments[1]instanceof Fe){r=arguments[0],i=arguments[1],n=arguments[2],t=r.getCoordinate();if(h.EXTERIOR!==this._ptLocator.locate(t,i))return n[this._minDistance=0]=r,n[1]=new tr(i,t),null}},ir.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},ir.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Zi.getLines(this._geom[0]),n=Zi.getLines(this._geom[1]),i=er.getPoints(this._geom[0]),r=er.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance||(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance)||(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance)?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))},ir.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},ir.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},ir.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},ir.prototype.computeMinDistance=function(){if(0===arguments.length)return null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)?null:void this.computeFacetDistance();if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Le&&arguments[1]instanceof Pe){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var i=t.getCoordinates(),r=e.getCoordinate(),o=0;o<i.length-1;o++){var s=_.distancePointLine(r,i[o],i[o+1]);if(s<this._minDistance&&(this._minDistance=s,s=new w(i[o],i[o+1]).closestPoint(r),n[0]=new tr(t,o,s),n[1]=new tr(e,0,r)),this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Le&&arguments[1]instanceof Le){var a=arguments[0],u=arguments[1],c=arguments[2];if(a.getEnvelopeInternal().distance(u.getEnvelopeInternal())>this._minDistance)return null;for(var l=a.getCoordinates(),p=u.getCoordinates(),h=0;h<l.length-1;h++)for(var f=0;f<p.length-1;f++){var g,d=_.distanceLineLine(l[h],l[h+1],p[f],p[f+1]);if(d<this._minDistance&&(this._minDistance=d,d=new w(l[h],l[h+1]),g=new w(p[f],p[f+1]),d=d.closestPoints(g),c[0]=new tr(a,h,d[0]),c[1]=new tr(u,f,d[1])),this._minDistance<=this._terminateDistance)return null}}},ir.prototype.computeMinDistancePoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o),a=r.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new tr(r,0,r.getCoordinate()),n[1]=new tr(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},ir.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new p("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},ir.prototype.computeMinDistanceLines=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},ir.prototype.interfaces_=function(){return[]},ir.prototype.getClass=function(){return ir},ir.distance=function(t,e){return new ir(t,e).distance()},ir.isWithinDistance=function(t,e,n){return new ir(t,e,n).distance()<=n},ir.nearestPoints=function(t,e){return new ir(t,e).nearestPoints()},rr.prototype.getCoordinates=function(){return this._pt},rr.prototype.getCoordinate=function(t){return this._pt[t]},rr.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];if(this._isNull)return this.initialize(t,e),null;var n=t.distance(e);n<this._distance&&this.initialize(t,e,n)}},rr.prototype.initialize=function(){var t,e,n;0===arguments.length?this._isNull=!0:2===arguments.length?(t=arguments[0],e=arguments[1],this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1):3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=n,this._isNull=!1)},rr.prototype.toString=function(){return _t.toLineString(this._pt[0],this._pt[1])},rr.prototype.getDistance=function(){return this._distance},rr.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];if(this._isNull)return this.initialize(t,e),null;var n=t.distance(e);n>this._distance&&this.initialize(t,e,n)}},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},or.computeDistance=function(){if(arguments[2]instanceof rr&&arguments[0]instanceof Le&&arguments[1]instanceof m)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=new w,r=t.getCoordinates(),o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var s=i.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof rr&&arguments[0]instanceof Fe&&arguments[1]instanceof m){var a=arguments[0],u=arguments[1],c=arguments[2];or.computeDistance(a.getExteriorRing(),u,c);for(var l=0;l<a.getNumInteriorRing();l++)or.computeDistance(a.getInteriorRingN(l),u,c)}else if(arguments[2]instanceof rr&&arguments[0]instanceof v&&arguments[1]instanceof m){var t=arguments[0],p=arguments[1],h=arguments[2];if(t instanceof Le)or.computeDistance(t,p,h);else if(t instanceof Fe)or.computeDistance(t,p,h);else if(t instanceof me)for(var f=t,g=0;g<f.getNumGeometries();g++){var d=f.getGeometryN(g);or.computeDistance(d,p,h)}else h.setMinimum(t.getCoordinate(),p)}else{var y,_;arguments[2]instanceof rr&&arguments[0]instanceof w&&arguments[1]instanceof m&&(t=arguments[0],y=arguments[1],_=arguments[2],t=t.closestPoint(y),_.setMinimum(t,y))}},{MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}}),Nr=(sr.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},sr.prototype.setDensifyFraction=function(t){if(1<t||t<=0)throw new p("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},sr.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},sr.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},sr.prototype.computeOrientedDistance=function(t,e,n){var i=new Nr(e);t.apply(i),n.setMaximum(i.getMaxPointDistance()),0<this._densifyFrac&&(i=new Cr(e,this._densifyFrac),t.apply(i),n.setMaximum(i.getMaxPointDistance()))},sr.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},sr.prototype.interfaces_=function(){return[]},sr.prototype.getClass=function(){return sr},sr.distance=function(){var t,e,n;return 2===arguments.length?new sr(arguments[0],arguments[1]).distance():3===arguments.length?(n=arguments[0],t=arguments[1],e=arguments[2],(n=new sr(n,t)).setDensifyFraction(e),n.distance()):void 0},t.MaxPointDistanceFilter.get=function(){return Nr},t.MaxDensifiedByFractionDistanceFilter.get=function(){return Cr},Object.defineProperties(sr,t),function(){this._maxPtDist=new rr,this._minPtDist=new rr,this._euclideanDist=new or,this._geom=null,this._geom=arguments[0]}),Cr=(Nr.prototype.filter=function(t){this._minPtDist.initialize(),or.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Nr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Nr.prototype.interfaces_=function(){return[Dt]},Nr.prototype.getClass=function(){return Nr},function(){this._maxPtDist=new rr,this._minPtDist=new rr,this._geom=null;var t=arguments[this._numSubSegs=0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))}),t=(Cr.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),t=t.getCoordinate(e),i=(t.x-n.x)/this._numSubSegs,r=(t.y-n.y)/this._numSubSegs,o=0;o<this._numSubSegs;o++){var s=n.x+o*i,a=n.y+o*r,s=new m(s,a);this._minPtDist.initialize(),or.computeDistance(this._geom,s,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Cr.prototype.isDone=function(){return!1},Cr.prototype.isGeometryChanged=function(){return!1},Cr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Cr.prototype.interfaces_=function(){return[ge]},Cr.prototype.getClass=function(){return Cr},{VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}}),t=(ar.prototype.checkMaximumDistance=function(t,e,n){e=new sr(e,t);e.setDensifyFraction(.25),this._maxDistanceFound=e.orientedDistance(),this._maxDistanceFound>n&&(this._isValid=!1,n=e.getCoordinates(),this._errorLocation=n[1],this._errorIndicator=t.getFactory().createLineString(n),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+_t.toLineString(n[0],n[1])+")")},ar.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=ar.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(0<this._bufDistance?this.checkPositiveValid():this.checkNegativeValid(),ar.VERBOSE&&lt.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},ar.prototype.checkNegativeValid=function(){var t;return(this._input instanceof Fe||this._input instanceof Be||this._input instanceof me)&&(t=this.getPolygonLines(this._input),this.checkMinimumDistance(t,this._result,this._minValidDistance),this._isValid)?void this.checkMaximumDistance(t,this._result,this._maxValidDistance):null},ar.prototype.getErrorIndicator=function(){return this._errorIndicator},ar.prototype.checkMinimumDistance=function(t,e,n){e=new ir(t,e,n);this._minDistanceFound=e.distance(),this._minDistanceFound<n&&(this._isValid=!1,n=e.nearestPoints(),this._errorLocation=e.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(n),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+_t.toLineString(n[0],n[1])+" )")},ar.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},ar.prototype.getErrorLocation=function(){return this._errorLocation},ar.prototype.getPolygonLines=function(t){for(var e=new E,n=new Zi(e),i=Qi.getPolygons(t).iterator();i.hasNext();)i.next().apply(n);return t.getFactory().buildGeometry(e)},ar.prototype.getErrorMessage=function(){return this._errMsg},ar.prototype.interfaces_=function(){return[]},ar.prototype.getClass=function(){return ar},t.VERBOSE.get=function(){return!1},t.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(ar,t),{VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}}),t=(ur.prototype.isValid=function(){return this.checkPolygonal(),this._isValid&&(this.checkExpectedEmpty(),this._isValid)&&(this.checkEnvelope(),this._isValid)&&(this.checkArea(),this._isValid)&&(this.checkDistance(),this._isValid)},ur.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*ur.MAX_ENV_DIFF_FRAC,e=(0===t&&(t=.001),new u(this._input.getEnvelopeInternal())),n=(e.expandBy(this._distance),new u(this._result.getEnvelopeInternal()));n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},ur.prototype.checkDistance=function(){var t=new ar(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},ur.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();0<this._distance&&e<t&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},ur.prototype.checkPolygonal=function(){this._result instanceof Fe||this._result instanceof Be||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},ur.prototype.getErrorIndicator=function(){return this._errorIndicator},ur.prototype.getErrorLocation=function(){return this._errorLocation},ur.prototype.checkExpectedEmpty=function(){return 2<=this._input.getDimension()||0<this._distance?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},ur.prototype.report=function(t){if(!ur.VERBOSE)return null;lt.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},ur.prototype.getErrorMessage=function(){return this._errorMsg},ur.prototype.interfaces_=function(){return[]},ur.prototype.getClass=function(){return ur},ur.isValidMsg=function(t,e,n){t=new ur(t,e,n);return t.isValid()?null:t.getErrorMessage()},ur.isValid=function(t,e,n){return!!new ur(t,e,n).isValid()},t.VERBOSE.get=function(){return!1},t.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(ur,t),cr.prototype.getCoordinates=function(){return this._pts},cr.prototype.size=function(){return this._pts.length},cr.prototype.getCoordinate=function(t){return this._pts[t]},cr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},cr.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Wn.octant(this.getCoordinate(t),this.getCoordinate(t+1))},cr.prototype.setData=function(t){this._data=t},cr.prototype.getData=function(){return this._data},cr.prototype.toString=function(){return _t.toLineString(new ke(this._pts))},cr.prototype.interfaces_=function(){return[Kn]},cr.prototype.getClass=function(){return cr},lr.prototype.getInteriorIntersection=function(){return this._interiorIntersection},lr.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},lr.prototype.getIntersectionSegments=function(){return this._intSegments},lr.prototype.count=function(){return this._intersectionCount},lr.prototype.getIntersections=function(){return this._intersections},lr.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},lr.prototype.setKeepIntersections=function(t){this._keepIntersections=t},lr.prototype.processIntersections=function(t,e,n,i){var r;return(this._findAllIntersections||!this.hasIntersection())&&(t!==n||e!==i)&&(!this._isCheckEndSegmentsOnly||this.isEndSegment(t,e)||this.isEndSegment(n,i))?(r=t.getCoordinates()[e],t=t.getCoordinates()[e+1],e=n.getCoordinates()[i],n=n.getCoordinates()[i+1],this._li.computeIntersection(r,t,e,n),void(this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=r,this._intSegments[1]=t,this._intSegments[2]=e,this._intSegments[3]=n,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++))):null},lr.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},lr.prototype.hasIntersection=function(){return null!==this._interiorIntersection},lr.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},lr.prototype.interfaces_=function(){return[Li]},lr.prototype.getClass=function(){return lr},lr.createAllIntersectionsFinder=function(t){t=new lr(t);return t.setFindAllIntersections(!0),t},lr.createAnyIntersectionFinder=function(t){return new lr(t)},lr.createIntersectionCounter=function(t){t=new lr(t);return t.setFindAllIntersections(!0),t.setKeepIntersections(!1),t},pr.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},pr.prototype.getIntersections=function(){return this._segInt.getIntersections()},pr.prototype.isValid=function(){return this.execute(),this._isValid},pr.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},pr.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new lr(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new oi;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},pr.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new un(this.getErrorMessage(),this._segInt.getInteriorIntersection())},pr.prototype.getErrorMessage=function(){var t;return this._isValid?"no intersections found":(t=this._segInt.getIntersectionSegments(),"found non-noded intersection between "+_t.toLineString(t[0],t[1])+" and "+_t.toLineString(t[2],t[3]))},pr.prototype.interfaces_=function(){return[]},pr.prototype.getClass=function(){return pr},pr.computeIntersections=function(t){t=new pr(t);return t.setFindAllIntersections(!0),t.isValid(),t.getIntersections()},hr.prototype.checkValid=function(){this._nv.checkValid()},hr.prototype.interfaces_=function(){return[]},hr.prototype.getClass=function(){return hr},hr.toSegmentStrings=function(t){for(var e=new E,n=t.iterator();n.hasNext();){var i=n.next();e.add(new cr(i.getCoordinates(),i))}return e},hr.checkValid=function(t){new hr(t).checkValid()},fr.prototype.map=function(t){for(var e=new E,n=0;n<t.getNumGeometries();n++){var i=this._mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(x.toGeometryArray(e))},fr.prototype.interfaces_=function(){return[]},fr.prototype.getClass=function(){return fr},fr.map=function(t,e){return new fr(e).map(t)},gr.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},gr.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},gr.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},gr.prototype.collectLineEdge=function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&!t.isVisited()&&A.isResultOfOp(i,e)&&!r.isCovered()&&(n.add(r),t.setVisitedEdge(!0))},gr.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();n.isLineEdge()&&!i.isCoveredSet()&&(n=this._op.isCoveredByA(n.getCoordinate()),i.setCovered(n))}},gr.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},gr.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(i),n.setInResult(!0)}},gr.prototype.collectBoundaryTouchEdge=function(t,e,n){var i=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(d.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(A.isResultOfOp(i,e)&&e===A.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},gr.prototype.interfaces_=function(){return[]},gr.prototype.getClass=function(){return gr},dr.prototype.filterCoveredNodeToPoint=function(t){var t=t.getCoordinate();this._op.isCoveredByLA(t)||(t=this._geometryFactory.createPoint(t),this._resultPointList.add(t))},dr.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n,i=e.next();i.isInResult()||i.isIncidentEdgeInResult()||0!==i.getEdges().getDegree()&&t!==A.INTERSECTION||(n=i.getLabel(),A.isResultOfOp(n,t)&&this.filterCoveredNodeToPoint(i))}},dr.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},dr.prototype.interfaces_=function(){return[]},dr.prototype.getClass=function(){return dr},yr.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},yr.prototype.transformPolygon=function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof qe&&!i.isEmpty()||(n=!1);for(var r,o=new E,s=0;s<t.getNumInteriorRing();s++){var a=this.transformLinearRing(t.getInteriorRingN(s),t);null===a||a.isEmpty()||(a instanceof qe||(n=!1),o.add(a))}return n?this._factory.createPolygon(i,o.toArray([])):(r=new E,null!==i&&r.add(i),r.addAll(o),this._factory.buildGeometry(r))},yr.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},yr.prototype.getInputGeometry=function(){return this._inputGeom},yr.prototype.transformMultiLineString=function(t,e){for(var n=new E,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null===r||r.isEmpty()||n.add(r)}return this._factory.buildGeometry(n)},yr.prototype.transformCoordinates=function(t,e){return this.copy(t)},yr.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},yr.prototype.transformMultiPoint=function(t,e){for(var n=new E,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null===r||r.isEmpty()||n.add(r)}return this._factory.buildGeometry(n)},yr.prototype.transformMultiPolygon=function(t,e){for(var n=new E,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null===r||r.isEmpty()||n.add(r)}return this._factory.buildGeometry(n)},yr.prototype.copy=function(t){return t.copy()},yr.prototype.transformGeometryCollection=function(t,e){for(var n=new E,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null===r||this._pruneEmptyGeometry&&r.isEmpty()||n.add(r)}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(x.toGeometryArray(n)):this._factory.buildGeometry(n)},yr.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Pe)return this.transformPoint(t,null);if(t instanceof Ge)return this.transformMultiPoint(t,null);if(t instanceof qe)return this.transformLinearRing(t,null);if(t instanceof Le)return this.transformLineString(t,null);if(t instanceof ve)return this.transformMultiLineString(t,null);if(t instanceof Fe)return this.transformPolygon(t,null);if(t instanceof Be)return this.transformMultiPolygon(t,null);if(t instanceof me)return this.transformGeometryCollection(t,null);throw new p("Unknown Geometry subtype: "+t.getClass().getName())},yr.prototype.transformLinearRing=function(t,e){var n,t=this.transformCoordinates(t.getCoordinateSequence(),t);return null===t?this._factory.createLinearRing(null):0<(n=t.size())&&n<4&&!this._preserveType?this._factory.createLineString(t):this._factory.createLinearRing(t)},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr},_r.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;i<n;i++){var r=t.get(i),r=this.findSnapForVertex(r,e);null!==r&&(t.set(i,new m(r)),0===i)&&this._isClosed&&t.set(t.size()-1,new m(r))}},_r.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},_r.prototype.snapTo=function(t){var e=new Jt(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},_r.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;i<n;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);0<=o&&t.add(o+1,new m(r),!1)}},_r.prototype.findSegmentIndexToSnap=function(t,e){for(var n=c.MAX_VALUE,i=-1,r=0;r<e.size()-1;r++){if(this._seg.p0=e.get(r),this._seg.p1=e.get(r+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,i=r)}return i},_r.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},_r.prototype.interfaces_=function(){return[]},_r.prototype.getClass=function(){return _r},_r.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])},{SNAP_PRECISION_FACTOR:{configurable:!0}}),Sr=(mr.prototype.snapTo=function(t,e){t=this.extractTargetCoordinates(t);return new Sr(e,t).transform(this._srcGeom)},mr.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),t=new Sr(t,n,!0).transform(this._srcGeom),n=t;return n=e&&y(t,we)?t.buffer(0):n},mr.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},mr.prototype.extractTargetCoordinates=function(t){for(var e=new W,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},mr.prototype.computeMinimumSegmentLength=function(t){for(var e=c.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr},mr.snap=function(t,e,n){var i=new Array(2).fill(null),t=new mr(t),t=(i[0]=t.snapTo(e,n),new mr(e));return i[1]=t.snapTo(i[0],n),i},mr.computeOverlaySnapTolerance=function(){var t,e;return 1===arguments.length?(e=mr.computeSizeBasedSnapTolerance(t=arguments[0]),(t=t.getPrecisionModel()).getType()===a.FIXED&&e<(t=1/t.getScale()*2/1.415)?t:e):2===arguments.length?(t=arguments[0],e=arguments[1],Math.min(mr.computeOverlaySnapTolerance(t),mr.computeOverlaySnapTolerance(e))):void 0},mr.computeSizeBasedSnapTolerance=function(t){t=t.getEnvelopeInternal();return Math.min(t.getHeight(),t.getWidth())*mr.SNAP_PRECISION_FACTOR},mr.snapToSelf=function(t,e,n){return new mr(t).snapToSelf(e,n)},t.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(mr,t),(Er=yr)&&(br.__proto__=Er),((br.prototype=Object.create(Er&&Er.prototype)).constructor=br).prototype.snapLine=function(t,e){t=new _r(t,this._snapTolerance);return t.setAllowSnappingToSourceVertices(this._isSelfSnap),t.snapTo(e)},br.prototype.transformCoordinates=function(t,e){t=t.toCoordinateArray(),t=this.snapLine(t,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(t)},br.prototype.interfaces_=function(){return[]},br.prototype.getClass=function(){return br},br);function br(t,e,n){Er.call(this),this._snapTolerance=t||null,this._snapPts=e||null,this._isSelfSnap=void 0!==n&&n}vr.prototype.getCommon=function(){return c.longBitsToDouble(this._commonBits)},vr.prototype.add=function(t){t=c.doubleToLongBits(t);return this._isFirst?(this._commonBits=t,this._commonSignExp=vr.signExpBits(this._commonBits),this._isFirst=!1,null):vr.signExpBits(t)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=vr.numCommonMostSigMantissaBits(this._commonBits,t),void(this._commonBits=vr.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},vr.prototype.toString=function(){var t,e;if(1===arguments.length)return t=c.longBitsToDouble(e=arguments[0]),(e=(e="0000000000000000000000000000000000000000000000000000000000000000"+c.toBinaryString(e)).substring(e.length-64)).substring(0,1)+"  "+e.substring(1,12)+"(exp) "+e.substring(12)+" [ "+t+" ]"},vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr},vr.getBit=function(t,e){return 0!=(t&1<<e)?1:0},vr.signExpBits=function(t){return t>>52},vr.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},vr.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;0<=i;i--){if(vr.getBit(t,i)!==vr.getBit(e,i))return n;n++}return 52};function Lr(){this._commonCoord=null,this._ccFilter=new Fr}function wr(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()}function Or(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e}function Pr(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e}function Rr(){var t,e,n;this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length?(t=arguments[0],e=arguments[1],this._eventType=Rr.DELETE,this._xValue=t,this._insertEvent=e):3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],this._eventType=Rr.INSERT,this._label=t,this._xValue=e,this._obj=n)}function Tr(){}function Mr(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n}function Dr(){this._min=c.POSITIVE_INFINITY,this._max=c.NEGATIVE_INFINITY}var Ar,t={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}},Fr=(Lr.prototype.addCommonBits=function(t){var e=new Gr(this._commonCoord);t.apply(e),t.geometryChanged()},Lr.prototype.removeCommonBits=function(t){var e;return 0===this._commonCoord.x&&0===this._commonCoord.y||((e=new m(this._commonCoord)).x=-e.x,e.y=-e.y,e=new Gr(e),t.apply(e),t.geometryChanged()),t},Lr.prototype.getCommonCoordinate=function(){return this._commonCoord},Lr.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr},t.CommonCoordinateFilter.get=function(){return Fr},t.Translater.get=function(){return Gr},Object.defineProperties(Lr,t),function(){this._commonBitsX=new vr,this._commonBitsY=new vr}),Gr=(Fr.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Fr.prototype.getCommonCoordinate=function(){return new m(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Fr.prototype.interfaces_=function(){return[Dt]},Fr.prototype.getClass=function(){return Fr},function(){this.trans=null,this.trans=arguments[0]}),t=(Gr.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},Gr.prototype.isDone=function(){return!1},Gr.prototype.isGeometryChanged=function(){return!0},Gr.prototype.interfaces_=function(){return[ge]},Gr.prototype.getClass=function(){return Gr},wr.prototype.selfSnap=function(t){return new mr(t).snapTo(t,this._snapTolerance)},wr.prototype.removeCommonBits=function(t){this._cbr=new Lr,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},wr.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},wr.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),e=A.overlayOp(e[0],e[1],t);return this.prepareResult(e)},wr.prototype.checkValid=function(t){t.isValid()||lt.out.println("Snapped geometry is invalid")},wr.prototype.computeSnapTolerance=function(){this._snapTolerance=mr.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},wr.prototype.snap=function(t){t=this.removeCommonBits(t);return mr.snap(t[0],t[1],this._snapTolerance)},wr.prototype.interfaces_=function(){return[]},wr.prototype.getClass=function(){return wr},wr.overlayOp=function(t,e,n){return new wr(t,e).getResultGeometry(n)},wr.union=function(t,e){return wr.overlayOp(t,e,A.UNION)},wr.intersection=function(t,e){return wr.overlayOp(t,e,A.INTERSECTION)},wr.symDifference=function(t,e){return wr.overlayOp(t,e,A.SYMDIFFERENCE)},wr.difference=function(t,e){return wr.overlayOp(t,e,A.DIFFERENCE)},Or.prototype.getResultGeometry=function(t){var e=null,n=!1,i=null;try{e=A.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof Nt))throw t;i=t}if(!n)try{e=wr.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Nt?i:t}return e},Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or},Or.overlayOp=function(t,e,n){return new Or(t,e).getResultGeometry(n)},Or.union=function(t,e){return Or.overlayOp(t,e,A.UNION)},Or.intersection=function(t,e){return Or.overlayOp(t,e,A.INTERSECTION)},Or.symDifference=function(t,e){return Or.overlayOp(t,e,A.SYMDIFFERENCE)},Or.difference=function(t,e){return Or.overlayOp(t,e,A.DIFFERENCE)},Pr.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},Pr.prototype.interfaces_=function(){return[]},Pr.prototype.getClass=function(){return Pr},{INSERT:{configurable:!0},DELETE:{configurable:!0}}),qr=(Rr.prototype.isDelete=function(){return this._eventType===Rr.DELETE},Rr.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},Rr.prototype.getObject=function(){return this._obj},Rr.prototype.compareTo=function(t){return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},Rr.prototype.getInsertEvent=function(){return this._insertEvent},Rr.prototype.isInsert=function(){return this._eventType===Rr.INSERT},Rr.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},Rr.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Rr.prototype.interfaces_=function(){return[tt]},Rr.prototype.getClass=function(){return Rr},t.INSERT.get=function(){return 1},t.DELETE.get=function(){return 2},Object.defineProperties(Rr,t),Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr},Mr.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(Mr.isAdjacentSegments(e,i))return!0;if(t.isClosed()){n=t.getNumPoints()-1;if(0===e&&i===n||0===i&&e===n)return!0}}return!1},Mr.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Mr.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},Mr.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Mr.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next().getCoordinate();if(t.isIntersection(i))return!0}return!1},Mr.prototype.hasProperIntersection=function(){return this._hasProper},Mr.prototype.hasIntersection=function(){return this._hasIntersection},Mr.prototype.isDone=function(){return this._isDone},Mr.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},Mr.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},Mr.prototype.addIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Mr.prototype.interfaces_=function(){return[]},Mr.prototype.getClass=function(){return Mr},Mr.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},(Ar=Tr)&&(Br.__proto__=Ar),((Br.prototype=Object.create(Ar&&Ar.prototype)).constructor=Br).prototype.prepareEvents=function(){An.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},Br.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else{var i,r,o;3===arguments.length&&(arguments[2]instanceof Mr&&y(arguments[0],jt)&&y(arguments[1],jt)?(r=arguments[0],o=arguments[1],i=arguments[2],this.addEdges(r,r),this.addEdges(o,o),this.computeIntersections(i)):"boolean"==typeof arguments[2]&&y(arguments[0],jt)&&arguments[1]instanceof Mr&&(r=arguments[0],o=arguments[1],arguments[2]?this.addEdges(r,null):this.addEdges(r),this.computeIntersections(o)))}},Br.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new Pr(n,r),o=new Rr(e,n.getMinX(r),o);this.events.add(o),this.events.add(new Rr(n.getMaxX(r),o))}},Br.prototype.processOverlaps=function(t,e,n,i){for(var r=n.getObject(),o=t;o<e;o++){var s,a=this.events.get(o);a.isInsert()&&(s=a.getObject(),n.isSameLabel(a)||(r.computeIntersections(s,i),this.nOverlaps++))}},Br.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1],r=n.iterator();r.hasNext();){var o=r.next();this.addEdge(o,i)}},Br.prototype.interfaces_=function(){return[]},Br.prototype.getClass=function(){return Br},Br),t={NodeComparator:{configurable:!0}};function Br(){Ar.call(this),this.events=new E,this.nOverlaps=null}Dr.prototype.getMin=function(){return this._min},Dr.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},Dr.prototype.getMax=function(){return this._max},Dr.prototype.toString=function(){return _t.toLineString(new m(this._min,0),new m(this._max,0))},Dr.prototype.interfaces_=function(){return[]},Dr.prototype.getClass=function(){return Dr},t.NodeComparator.get=function(){return kr},Object.defineProperties(Dr,t);function Ur(){this._leaves=new E,this._root=null,this._level=0}var Vr,zr,kr=function(){},jr=(kr.prototype.compare=function(t,e){t=(t._min+t._max)/2,e=(e._min+e._max)/2;return t<e?-1:e<t?1:0},kr.prototype.interfaces_=function(){return[nt]},kr.prototype.getClass=function(){return kr},(zr=Dr)&&(Hr.__proto__=zr),((Hr.prototype=Object.create(zr&&zr.prototype)).constructor=Hr).prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},Hr.prototype.interfaces_=function(){return[]},Hr.prototype.getClass=function(){return Hr},Hr),Xr=((Vr=Dr)&&(Yr.__proto__=Vr),((Yr.prototype=Object.create(Vr&&Vr.prototype)).constructor=Yr).prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},Yr.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr},Yr);function Yr(){Vr.call(this),this._node1=null,this._node2=null;var t=arguments[0],e=arguments[1];this._node1=t,this._node2=e,this.buildExtent(this._node1,this._node2)}function Hr(){zr.call(this),this._item=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._min=t,this._max=e,this._item=n}Ur.prototype.buildTree=function(){An.sort(this._leaves,new Dr.NodeComparator);for(var t,e=this._leaves,n=new E;;){if(this.buildLevel(e,n),1===n.size())return n.get(0);t=e,e=n,n=t}},Ur.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new jr(t,e,n))},Ur.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},Ur.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Ur.prototype.printNode=function(t){lt.out.println(_t.toLineString(new m(t._min,this._level),new m(t._max,this._level)))},Ur.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Ur.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);null===(n+1<t.size()?t.get(n):null)?e.add(i):(i=new Xr(t.get(n),t.get(n+1)),e.add(i))}},Ur.prototype.interfaces_=function(){return[]},Ur.prototype.getClass=function(){return Ur};function Wr(){this._items=new E}function Kr(){this._index=null;var t=arguments[0];if(!y(t,we))throw new p("Argument must be Polygonal");this._index=new $r(t)}Wr.prototype.visitItem=function(t){this._items.add(t)},Wr.prototype.getItems=function(){return this._items},Wr.prototype.interfaces_=function(){return[Tn]},Wr.prototype.getClass=function(){return Wr};function Jr(){var t,e,n;this._li=new Pt,this._resultPrecisionModel=null,this._arg=null,1===arguments.length?(this.setComputationPrecision((t=arguments[0]).getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new to(0,t)):2===arguments.length?(t=arguments[0],e=arguments[1],n=At.OGC_SFS_BOUNDARY_RULE,0<=t.getPrecisionModel().compareTo(e.getPrecisionModel())?this.setComputationPrecision(t.getPrecisionModel()):this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new to(0,t,n),this._arg[1]=new to(1,e,n)):3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],0<=t.getPrecisionModel().compareTo(e.getPrecisionModel())?this.setComputationPrecision(t.getPrecisionModel()):this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new to(0,t,n),this._arg[1]=new to(1,e,n))}var Qr,t={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}},Zr=(Kr.prototype.locate=function(t){var e=new Tt(t),n=new Zr(e);return this._index.query(t.y,t.y,n),e.getLocation()},Kr.prototype.interfaces_=function(){return[gi]},Kr.prototype.getClass=function(){return Kr},t.SegmentVisitor.get=function(){return Zr},t.IntervalIndexedGeometry.get=function(){return $r},Object.defineProperties(Kr,t),function(){this._counter=null,this._counter=arguments[0]}),$r=(Zr.prototype.visitItem=function(t){this._counter.countSegment(t.getCoordinate(0),t.getCoordinate(1))},Zr.prototype.interfaces_=function(){return[Tn]},Zr.prototype.getClass=function(){return Zr},function(){this._index=new Ur,this.init(arguments[0])}),to=($r.prototype.init=function(t){for(var e=Zi.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},$r.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new w(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this._index.insert(i,r,n)}},$r.prototype.query=function(){var t,e,n;if(2===arguments.length)return t=arguments[0],e=arguments[1],n=new Wr,this._index.query(t,e,n),n.getItems();3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r},(Qr=Ln)&&(D.__proto__=Qr),((D.prototype=Object.create(Qr&&Qr.prototype)).constructor=D).prototype.insertBoundaryPoint=function(t,e){var e=this._nodes.addNode(e).getLabel(),n=1,n=(e.getLocation(t,I.ON)===h.BOUNDARY&&n++,D.determineBoundary(this._boundaryNodeRule,n));e.setLocation(t,n)},D.prototype.computeSelfNodes=function(){var t,e,n,i;return 2===arguments.length?this.computeSelfNodes(arguments[0],arguments[1],!1):3===arguments.length?(e=arguments[0],t=arguments[1],n=arguments[2],(e=new Mr(e,!0,!1)).setIsDoneIfProperInt(n),n=this.createEdgeSetIntersector(),i=this._parentGeom instanceof qe||this._parentGeom instanceof Fe||this._parentGeom instanceof Be,n.computeIntersections(this._edges,e,t||!i),this.addSelfIntersectionNodes(this._argIndex),e):void 0},D.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},D.prototype.computeEdgeIntersections=function(t,e,n){e=new Mr(e,n,!0);return e.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,e),e},D.prototype.getGeometry=function(){return this._parentGeom},D.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},D.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},D.prototype.addPoint=function(){var t;arguments[0]instanceof Pe?(t=arguments[0].getCoordinate(),this.insertPoint(this._argIndex,t,h.INTERIOR)):arguments[0]instanceof m&&this.insertPoint(this._argIndex,arguments[0],h.INTERIOR)},D.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),h.EXTERIOR,h.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,h.INTERIOR,h.EXTERIOR)}},D.prototype.addEdge=function(t){this.insertEdge(t);t=t.getCoordinates();this.insertPoint(this._argIndex,t[0],h.BOUNDARY),this.insertPoint(this._argIndex,t[t.length-1],h.BOUNDARY)},D.prototype.addLineString=function(t){var e=l.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new Fi(e,new C(this._argIndex,h.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),d.isTrue(2<=e.length,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},D.prototype.getInvalidPoint=function(){return this._invalidPoint},D.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},D.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},D.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===h.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},D.prototype.addPolygonRing=function(t,e,n){var i,r,o;return t.isEmpty()?null:(i=l.removeRepeatedPoints(t.getCoordinates())).length<4?(this._hasTooFewPoints=!0,this._invalidPoint=i[0],null):(r=e,o=n,_.isCCW(i)&&(r=n,o=e),n=new Fi(i,new C(this._argIndex,h.BOUNDARY,r,o)),this._lineEdgeMap.put(t,n),this.insertEdge(n),void this.insertPoint(this._argIndex,i[0],h.BOUNDARY))},D.prototype.insertPoint=function(t,e,n){var e=this._nodes.addNode(e),i=e.getLabel();null===i?e._label=new C(t,n):i.setLocation(t,n)},D.prototype.createEdgeSetIntersector=function(){return new qr},D.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},D.prototype.add=function(){if(1!==arguments.length)return Qr.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof Be&&(this._useBoundaryDeterminationRule=!1),t instanceof Fe)this.addPolygon(t);else if(t instanceof Le)this.addLineString(t);else if(t instanceof Pe)this.addPoint(t);else{if(!(t instanceof Ge||t instanceof ve||t instanceof Be||t instanceof me))throw new Error(t.getClass().getName());this.addCollection(t)}},D.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},D.prototype.locate=function(t){return y(this._parentGeom,we)&&50<this._parentGeom.getNumGeometries()?(null===this._areaPtLocator&&(this._areaPtLocator=new Kr(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},D.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):Qr.prototype.findEdge.apply(this,arguments)},D.prototype.interfaces_=function(){return[]},D.prototype.getClass=function(){return D},D.determineBoundary=function(t,e){return t.isInBoundary(e)?h.BOUNDARY:h.INTERIOR},D);function D(){var t,e,n;Qr.call(this),this._parentGeom=null,this._lineEdgeMap=new Ke,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new $i,2===arguments.length?(t=arguments[0],n=arguments[1],e=At.OGC_SFS_BOUNDARY_RULE,this._argIndex=t,this._parentGeom=n,this._boundaryNodeRule=e,null!==n&&this.add(n)):3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],this._argIndex=t,this._parentGeom=e,this._boundaryNodeRule=n,null!==e)&&this.add(e)}Jr.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Jr.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Jr.prototype.interfaces_=function(){return[]},Jr.prototype.getClass=function(){return Jr};function eo(){}eo.prototype.interfaces_=function(){return[]},eo.prototype.getClass=function(){return eo},eo.map=function(){if(arguments[0]instanceof v&&y(arguments[1],eo.MapOp)){for(var t=arguments[0],e=arguments[1],n=new E,i=0;i<t.getNumGeometries();i++){var r=e.map(t.getGeometryN(i));null!==r&&n.add(r)}return t.getFactory().buildGeometry(n)}if(y(arguments[0],Ft)&&y(arguments[1],eo.MapOp)){for(var o=arguments[0],s=arguments[1],a=new E,u=o.iterator();u.hasNext();){var c=u.next(),c=s.map(c);null!==c&&a.add(c)}return a}},eo.MapOp=function(){},(no=Jr)&&(io.__proto__=no),((io.prototype=Object.create(no&&no.prototype)).constructor=io).prototype.insertUniqueEdge=function(t){var e,n,i=this._edgeList.findEqualEdge(t);null!==i?(e=i.getLabel(),n=t.getLabel(),i.isPointwiseEqual(t)||(n=new C(t.getLabel())).flip(),(i=i.getDepth()).isNull()&&i.add(e),i.add(n),e.merge(n)):this._edgeList.add(t)},io.prototype.getGraph=function(){return this._graph},io.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},io.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},io.prototype.computeGeometry=function(t,e,n,i){var r=new E;return r.addAll(t),r.addAll(e),r.addAll(n),r.isEmpty()?io.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(r)},io.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},io.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this._ptLocator.locate(t,i)!==h.EXTERIOR)return!0}return!1},io.prototype.replaceCollapsedEdges=function(){for(var t=new E,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},io.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},io.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},io.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},io.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new E,e=(this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),hr.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges(),new wn(this._geomFact)),e=(e.add(this._graph),this._resultPolyList=e.getPolygons(),new gr(this,this._geomFact,this._ptLocator)),e=(this._resultLineList=e.build(t),new dr(this,this._geomFact,this._ptLocator));this._resultPointList=e.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},io.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},io.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},io.prototype.findResultAreaEdges=function(t){for(var e=this._graph.getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getLabel();i.isArea()&&!n.isInteriorAreaEdge()&&io.isResultOfOp(i.getLocation(0,I.RIGHT),i.getLocation(1,I.RIGHT),t)&&n.setInResult(!0)}},io.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;r<2;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(d.isTrue(!i.isNull(r,I.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(r,I.LEFT,i.getLocation(r,I.LEFT)),d.isTrue(!i.isNull(r,I.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,I.RIGHT,i.getLocation(r,I.RIGHT))))}}},io.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},io.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},io.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},io.prototype.interfaces_=function(){return[]},io.prototype.getClass=function(){return io};var no,A=io;function io(){var t=arguments[0];no.call(this,t,arguments[1]),this._ptLocator=new $i,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new bi,this._resultPolyList=new E,this._resultLineList=new E,this._resultPointList=new E,this._graph=new Ln(new Ni),this._geomFact=t.getFactory()}A.overlayOp=function(t,e,n){return new A(t,e).getResultGeometry(n)},A.intersection=function(t,e){var n;return t.isEmpty()||e.isEmpty()?A.createEmptyResult(A.INTERSECTION,t,e,t.getFactory()):t.isGeometryCollection()?(n=e,fr.map(t,{interfaces_:function(){return[eo.MapOp]},map:function(t){return t.intersection(n)}})):(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Or.overlayOp(t,e,A.INTERSECTION))},A.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return A.createEmptyResult(A.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Or.overlayOp(t,e,A.SYMDIFFERENCE)},A.resultDimension=function(t,e,n){var i=e.getDimension(),r=n.getDimension(),o=-1;switch(t){case A.INTERSECTION:o=Math.min(i,r);break;case A.UNION:o=Math.max(i,r);break;case A.DIFFERENCE:o=i;break;case A.SYMDIFFERENCE:o=Math.max(i,r)}return o},A.createEmptyResult=function(t,e,n,i){var r=null;switch(A.resultDimension(t,e,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon()}return r},A.difference=function(t,e){return t.isEmpty()?A.createEmptyResult(A.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Or.overlayOp(t,e,A.DIFFERENCE))},A.isResultOfOp=function(){var t,e,n;if(2===arguments.length)return n=arguments[0],t=arguments[1],e=n.getLocation(0),n=n.getLocation(1),A.isResultOfOp(e,n,t);if(3===arguments.length){var i=arguments[0],r=arguments[1];switch(i===h.BOUNDARY&&(i=h.INTERIOR),r===h.BOUNDARY&&(r=h.INTERIOR),arguments[2]){case A.INTERSECTION:return i===h.INTERIOR&&r===h.INTERIOR;case A.UNION:return i===h.INTERIOR||r===h.INTERIOR;case A.DIFFERENCE:return i===h.INTERIOR&&r!==h.INTERIOR;case A.SYMDIFFERENCE:return i===h.INTERIOR&&r!==h.INTERIOR||i!==h.INTERIOR&&r===h.INTERIOR}return!1}},A.INTERSECTION=1,A.UNION=2,A.DIFFERENCE=3,A.SYMDIFFERENCE=4;function ro(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new $i,this._seg=new w;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)}function oo(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]}function so(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=so.TOLERANCE,this._testCoords=new E;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundaryDistanceTolerance=so.computeBoundaryDistanceTolerance(t,e),this._geom=[t,e,n],this._locFinder=[new ro(this._geom[0],this._boundaryDistanceTolerance),new ro(this._geom[1],this._boundaryDistanceTolerance),new ro(this._geom[2],this._boundaryDistanceTolerance)]}function ao(t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=ao.extractFactory(t),this._inputGeoms=t}function uo(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new E)}function co(){}ro.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),i=0;i<n.size()-1;i++)if(n.getCoordinate(i,this._seg.p0),n.getCoordinate(i+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},ro.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?h.BOUNDARY:this._ptLocator.locate(t,this._g)},ro.prototype.extractLinework=function(t){var e=new lo,e=(t.apply(e),e.getLinework()),e=x.toLineStringArray(e);return t.getFactory().createMultiLineString(e)},ro.prototype.interfaces_=function(){return[]},ro.prototype.getClass=function(){return ro};var lo=function(){this._linework=null,this._linework=new E},t=(lo.prototype.getLinework=function(){return this._linework},lo.prototype.filter=function(t){if(t instanceof Fe){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},lo.prototype.interfaces_=function(){return[fe]},lo.prototype.getClass=function(){return lo},oo.prototype.extractPoints=function(t,e,n){for(var i=t.getCoordinates(),r=0;r<i.length-1;r++)this.computeOffsetPoints(i[r],i[r+1],e,n)},oo.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},oo.prototype.getPoints=function(t){for(var e=new E,n=Zi.getLines(this._g).iterator();n.hasNext();){var i=n.next();this.extractPoints(i,t,e)}return e},oo.prototype.computeOffsetPoints=function(t,e,n,i){var r=e.x-t.x,o=e.y-t.y,s=Math.sqrt(r*r+o*o),r=n*r/s,n=n*o/s,o=(e.x+t.x)/2,s=(e.y+t.y)/2;this._doLeft&&(e=new m(o-n,s+r),i.add(e)),this._doRight&&(t=new m(o+n,s-r),i.add(t))},oo.prototype.interfaces_=function(){return[]},oo.prototype.getClass=function(){return oo},{TOLERANCE:{configurable:!0}}),t=(so.prototype.reportResult=function(t,e,n){lt.out.println("Overlay result invalid - A:"+h.toLocationSymbol(e[0])+" B:"+h.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+h.toLocationSymbol(e[2]))},so.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},so.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}var i,r;if(2===arguments.length)return i=arguments[0],this._location[0]=this._locFinder[0].getLocation(r=arguments[1]),this._location[1]=this._locFinder[1].getLocation(r),this._location[2]=this._locFinder[2].getLocation(r),!!so.hasLocation(this._location,h.BOUNDARY)||this.isValidResult(i,this._location)},so.prototype.addTestPts=function(t){t=new oo(t);this._testCoords.addAll(t.getPoints(5*this._boundaryDistanceTolerance))},so.prototype.isValidResult=function(t,e){var n=A.isResultOfOp(e[0],e[1],t),i=!(n^e[2]===h.INTERIOR);return i||this.reportResult(t,e,n),i},so.prototype.getInvalidLocation=function(){return this._invalidLocation},so.prototype.interfaces_=function(){return[]},so.prototype.getClass=function(){return so},so.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},so.computeBoundaryDistanceTolerance=function(t,e){return Math.min(mr.computeSizeBasedSnapTolerance(t),mr.computeSizeBasedSnapTolerance(e))},so.isValid=function(t,e,n,i){return new so(t,e,i).isValid(n)},t.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(so,t),ao.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this._skipEmpty&&i.isEmpty()||e.add(i)}},ao.prototype.combine=function(){for(var t=new E,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},ao.prototype.interfaces_=function(){return[]},ao.prototype.getClass=function(){return ao},ao.combine=function(){return 1===arguments.length?new ao(arguments[0]).combine():2===arguments.length?new ao(ao.createList(arguments[0],arguments[1])).combine():3===arguments.length?new ao(ao.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},ao.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},ao.createList=function(){var t,e,n,i;return 2===arguments.length?(t=arguments[0],e=arguments[1],(n=new E).add(t),n.add(e),n):3===arguments.length?(t=arguments[0],e=arguments[1],n=arguments[2],(i=new E).add(t),i.add(e),i.add(n),i):void 0},{STRTREE_NODE_CAPACITY:{configurable:!0}});uo.prototype.reduceToGeometries=function(t){for(var e=new E,n=t.iterator();n.hasNext();){var i=n.next(),r=null;y(i,jt)?r=this.unionTree(i):i instanceof v&&(r=i),e.add(r)}return e},uo.prototype.extractByEnvelope=function(t,e,n){for(var i=new E,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);(o.getEnvelopeInternal().intersects(t)?i:n).add(o)}return this._geomFactory.buildGeometry(i)},uo.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();return n.intersects(i)?t.getNumGeometries()<=1&&e.getNumGeometries()<=1?this.unionActual(t,e):(n=n.intersection(i),this.unionUsingEnvelopeIntersection(t,e,n)):ao.combine(t,e)},uo.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new kn(uo.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},uo.prototype.binaryUnion=function(){var t,e,n,i;return 1===arguments.length?this.binaryUnion(i=arguments[0],0,i.size()):3===arguments.length?(i=arguments[0],n=arguments[1],(t=arguments[2])-n<=1?(e=uo.getGeometry(i,n),this.unionSafe(e,null)):t-n==2?this.unionSafe(uo.getGeometry(i,n),uo.getGeometry(i,n+1)):(e=Math.trunc((t+n)/2),n=this.binaryUnion(i,n,e),i=this.binaryUnion(i,e,t),this.unionSafe(n,i))):void 0},uo.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();)var i=n.next(),e=null===e?i.copy():e.union(i);return e},uo.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},uo.prototype.unionActual=function(t,e){return uo.restrictToPolygons(t.union(e))},uo.prototype.unionTree=function(t){t=this.reduceToGeometries(t);return this.binaryUnion(t)},uo.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var i=new E,t=this.extractByEnvelope(n,t,i),n=this.extractByEnvelope(n,e,i),e=this.unionActual(t,n);return i.add(e),ao.combine(i)},uo.prototype.bufferUnion=function(){var t,e;return 1===arguments.length?(t=arguments[0]).get(0).getFactory().buildGeometry(t).buffer(0):2===arguments.length?(t=arguments[0],e=arguments[1],t.getFactory().createGeometryCollection([t,e]).buffer(0)):void 0},uo.prototype.interfaces_=function(){return[]},uo.prototype.getClass=function(){return uo},uo.restrictToPolygons=function(t){var e;return y(t,we)?t:1===(e=Qi.getPolygons(t)).size()?e.get(0):t.getFactory().createMultiPolygon(x.toPolygonArray(e))},uo.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},uo.union=function(t){return new uo(t).union()},t.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(uo,t);co.prototype.interfaces_=function(){return[]},co.prototype.getClass=function(){return co},co.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return A.createEmptyResult(A.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Or.overlayOp(t,e,A.UNION)},F.GeoJSONReader=Ze,F.GeoJSONWriter=$e,F.OverlayOp=A,F.UnionOp=co,F.BufferOp=Hi,Object.defineProperty(F,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:i.jsts={})},{}],"@turf/buffer":[function(t,e,n){"use strict";var i=t("@turf/center"),u=t("turf-jsts"),c=t("@turf/meta"),l=t("d3-geo"),p=t("@turf/helpers");function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var h=r(i);function o(t,e,n){var i=(n=n||{}).units||"kilometers",r=n.steps||8;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");var o=[];switch(t.type){case"GeometryCollection":return c.geomEach(t,function(t){t=f(t,e,i,r);t&&o.push(t)}),p.featureCollection(o);case"FeatureCollection":return c.featureEach(t,function(t){t=f(t,e,i,r);t&&c.featureEach(t,function(t){t&&o.push(t)})}),p.featureCollection(o)}return f(t,e,i,r)}function f(t,e,n,i){var r,o,s=t.properties||{},a="Feature"===t.type?t.geometry:t;return"GeometryCollection"===a.type?(r=[],c.geomEach(t,function(t){t=f(t,e,n,i);t&&r.push(t)}),p.featureCollection(r)):(t=function(t){t=h.default(t).geometry.coordinates,t=[-t[0],-t[1]];return l.geoAzimuthalEquidistant().rotate(t).scale(p.earthRadius)}(a),a={type:a.type,coordinates:function e(t,n){if("object"!=typeof t[0])return n(t);return t.map(function(t){return e(t,n)})}(a.coordinates,t)},a=(new u.GeoJSONReader).read(a),o=p.radiansToLength(p.lengthToRadians(e,n),"meters"),a=u.BufferOp.bufferOp(a,o,i),function t(e){if(Array.isArray(e[0]))return t(e[0]);return isNaN(e[0])}((a=(new u.GeoJSONWriter).write(a)).coordinates)?void 0:(o={type:a.type,coordinates:function e(t,n){if("object"!=typeof t[0])return n.invert(t);return t.map(function(t){return e(t,n)})}(a.coordinates,t)},p.feature(o,s)))}e.exports=o,e.exports.default=o},{"@turf/center":2,"@turf/helpers":3,"@turf/meta":4,"d3-geo":6,"turf-jsts":7}]},{},[])("@turf/buffer")});

// @turf/buffer 6.5.0
var turfBuffer = module.exports;
